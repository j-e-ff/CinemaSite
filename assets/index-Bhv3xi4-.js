function xR(n,e){for(var t=0;t<e.length;t++){const r=e[t];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in n)){const l=Object.getOwnPropertyDescriptor(r,s);l&&Object.defineProperty(n,s,l.get?l:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const l of s)if(l.type==="childList")for(const c of l.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&r(c)}).observe(document,{childList:!0,subtree:!0});function t(s){const l={};return s.integrity&&(l.integrity=s.integrity),s.referrerPolicy&&(l.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?l.credentials="include":s.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function r(s){if(s.ep)return;s.ep=!0;const l=t(s);fetch(s.href,l)}})();function MR(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var Gm={exports:{}},Xl={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var D0;function NR(){if(D0)return Xl;D0=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(r,s,l){var c=null;if(l!==void 0&&(c=""+l),s.key!==void 0&&(c=""+s.key),"key"in s){l={};for(var m in s)m!=="key"&&(l[m]=s[m])}else l=s;return s=l.ref,{$$typeof:n,type:r,key:c,ref:s!==void 0?s:null,props:l}}return Xl.Fragment=e,Xl.jsx=t,Xl.jsxs=t,Xl}var x0;function VR(){return x0||(x0=1,Gm.exports=NR()),Gm.exports}var L=VR(),Km={exports:{}},Me={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var M0;function PR(){if(M0)return Me;M0=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),c=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),E=Symbol.iterator;function T(P){return P===null||typeof P!="object"?null:(P=E&&P[E]||P["@@iterator"],typeof P=="function"?P:null)}var R={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},C=Object.assign,N={};function I(P,ie,le){this.props=P,this.context=ie,this.refs=N,this.updater=le||R}I.prototype.isReactComponent={},I.prototype.setState=function(P,ie){if(typeof P!="object"&&typeof P!="function"&&P!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,P,ie,"setState")},I.prototype.forceUpdate=function(P){this.updater.enqueueForceUpdate(this,P,"forceUpdate")};function M(){}M.prototype=I.prototype;function j(P,ie,le){this.props=P,this.context=ie,this.refs=N,this.updater=le||R}var $=j.prototype=new M;$.constructor=j,C($,I.prototype),$.isPureReactComponent=!0;var ee=Array.isArray,q={H:null,A:null,T:null,S:null,V:null},oe=Object.prototype.hasOwnProperty;function O(P,ie,le,re,de,Ie){return le=Ie.ref,{$$typeof:n,type:P,key:ie,ref:le!==void 0?le:null,props:Ie}}function A(P,ie){return O(P.type,ie,void 0,void 0,void 0,P.props)}function D(P){return typeof P=="object"&&P!==null&&P.$$typeof===n}function V(P){var ie={"=":"=0",":":"=2"};return"$"+P.replace(/[=:]/g,function(le){return ie[le]})}var z=/\/+/g;function B(P,ie){return typeof P=="object"&&P!==null&&P.key!=null?V(""+P.key):ie.toString(36)}function k(){}function Ye(P){switch(P.status){case"fulfilled":return P.value;case"rejected":throw P.reason;default:switch(typeof P.status=="string"?P.then(k,k):(P.status="pending",P.then(function(ie){P.status==="pending"&&(P.status="fulfilled",P.value=ie)},function(ie){P.status==="pending"&&(P.status="rejected",P.reason=ie)})),P.status){case"fulfilled":return P.value;case"rejected":throw P.reason}}throw P}function Oe(P,ie,le,re,de){var Ie=typeof P;(Ie==="undefined"||Ie==="boolean")&&(P=null);var pe=!1;if(P===null)pe=!0;else switch(Ie){case"bigint":case"string":case"number":pe=!0;break;case"object":switch(P.$$typeof){case n:case e:pe=!0;break;case y:return pe=P._init,Oe(pe(P._payload),ie,le,re,de)}}if(pe)return de=de(P),pe=re===""?"."+B(P,0):re,ee(de)?(le="",pe!=null&&(le=pe.replace(z,"$&/")+"/"),Oe(de,ie,le,"",function(hn){return hn})):de!=null&&(D(de)&&(de=A(de,le+(de.key==null||P&&P.key===de.key?"":(""+de.key).replace(z,"$&/")+"/")+pe)),ie.push(de)),1;pe=0;var lt=re===""?".":re+":";if(ee(P))for(var Ue=0;Ue<P.length;Ue++)re=P[Ue],Ie=lt+B(re,Ue),pe+=Oe(re,ie,le,Ie,de);else if(Ue=T(P),typeof Ue=="function")for(P=Ue.call(P),Ue=0;!(re=P.next()).done;)re=re.value,Ie=lt+B(re,Ue++),pe+=Oe(re,ie,le,Ie,de);else if(Ie==="object"){if(typeof P.then=="function")return Oe(Ye(P),ie,le,re,de);throw ie=String(P),Error("Objects are not valid as a React child (found: "+(ie==="[object Object]"?"object with keys {"+Object.keys(P).join(", ")+"}":ie)+"). If you meant to render a collection of children, use an array instead.")}return pe}function W(P,ie,le){if(P==null)return P;var re=[],de=0;return Oe(P,re,"","",function(Ie){return ie.call(le,Ie,de++)}),re}function J(P){if(P._status===-1){var ie=P._result;ie=ie(),ie.then(function(le){(P._status===0||P._status===-1)&&(P._status=1,P._result=le)},function(le){(P._status===0||P._status===-1)&&(P._status=2,P._result=le)}),P._status===-1&&(P._status=0,P._result=ie)}if(P._status===1)return P._result.default;throw P._result}var he=typeof reportError=="function"?reportError:function(P){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ie=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof P=="object"&&P!==null&&typeof P.message=="string"?String(P.message):String(P),error:P});if(!window.dispatchEvent(ie))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",P);return}console.error(P)};function ye(){}return Me.Children={map:W,forEach:function(P,ie,le){W(P,function(){ie.apply(this,arguments)},le)},count:function(P){var ie=0;return W(P,function(){ie++}),ie},toArray:function(P){return W(P,function(ie){return ie})||[]},only:function(P){if(!D(P))throw Error("React.Children.only expected to receive a single React element child.");return P}},Me.Component=I,Me.Fragment=t,Me.Profiler=s,Me.PureComponent=j,Me.StrictMode=r,Me.Suspense=d,Me.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=q,Me.__COMPILER_RUNTIME={__proto__:null,c:function(P){return q.H.useMemoCache(P)}},Me.cache=function(P){return function(){return P.apply(null,arguments)}},Me.cloneElement=function(P,ie,le){if(P==null)throw Error("The argument must be a React element, but you passed "+P+".");var re=C({},P.props),de=P.key,Ie=void 0;if(ie!=null)for(pe in ie.ref!==void 0&&(Ie=void 0),ie.key!==void 0&&(de=""+ie.key),ie)!oe.call(ie,pe)||pe==="key"||pe==="__self"||pe==="__source"||pe==="ref"&&ie.ref===void 0||(re[pe]=ie[pe]);var pe=arguments.length-2;if(pe===1)re.children=le;else if(1<pe){for(var lt=Array(pe),Ue=0;Ue<pe;Ue++)lt[Ue]=arguments[Ue+2];re.children=lt}return O(P.type,de,void 0,void 0,Ie,re)},Me.createContext=function(P){return P={$$typeof:c,_currentValue:P,_currentValue2:P,_threadCount:0,Provider:null,Consumer:null},P.Provider=P,P.Consumer={$$typeof:l,_context:P},P},Me.createElement=function(P,ie,le){var re,de={},Ie=null;if(ie!=null)for(re in ie.key!==void 0&&(Ie=""+ie.key),ie)oe.call(ie,re)&&re!=="key"&&re!=="__self"&&re!=="__source"&&(de[re]=ie[re]);var pe=arguments.length-2;if(pe===1)de.children=le;else if(1<pe){for(var lt=Array(pe),Ue=0;Ue<pe;Ue++)lt[Ue]=arguments[Ue+2];de.children=lt}if(P&&P.defaultProps)for(re in pe=P.defaultProps,pe)de[re]===void 0&&(de[re]=pe[re]);return O(P,Ie,void 0,void 0,null,de)},Me.createRef=function(){return{current:null}},Me.forwardRef=function(P){return{$$typeof:m,render:P}},Me.isValidElement=D,Me.lazy=function(P){return{$$typeof:y,_payload:{_status:-1,_result:P},_init:J}},Me.memo=function(P,ie){return{$$typeof:p,type:P,compare:ie===void 0?null:ie}},Me.startTransition=function(P){var ie=q.T,le={};q.T=le;try{var re=P(),de=q.S;de!==null&&de(le,re),typeof re=="object"&&re!==null&&typeof re.then=="function"&&re.then(ye,he)}catch(Ie){he(Ie)}finally{q.T=ie}},Me.unstable_useCacheRefresh=function(){return q.H.useCacheRefresh()},Me.use=function(P){return q.H.use(P)},Me.useActionState=function(P,ie,le){return q.H.useActionState(P,ie,le)},Me.useCallback=function(P,ie){return q.H.useCallback(P,ie)},Me.useContext=function(P){return q.H.useContext(P)},Me.useDebugValue=function(){},Me.useDeferredValue=function(P,ie){return q.H.useDeferredValue(P,ie)},Me.useEffect=function(P,ie,le){var re=q.H;if(typeof le=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return re.useEffect(P,ie)},Me.useId=function(){return q.H.useId()},Me.useImperativeHandle=function(P,ie,le){return q.H.useImperativeHandle(P,ie,le)},Me.useInsertionEffect=function(P,ie){return q.H.useInsertionEffect(P,ie)},Me.useLayoutEffect=function(P,ie){return q.H.useLayoutEffect(P,ie)},Me.useMemo=function(P,ie){return q.H.useMemo(P,ie)},Me.useOptimistic=function(P,ie){return q.H.useOptimistic(P,ie)},Me.useReducer=function(P,ie,le){return q.H.useReducer(P,ie,le)},Me.useRef=function(P){return q.H.useRef(P)},Me.useState=function(P){return q.H.useState(P)},Me.useSyncExternalStore=function(P,ie,le){return q.H.useSyncExternalStore(P,ie,le)},Me.useTransition=function(){return q.H.useTransition()},Me.version="19.1.0",Me}var N0;function ag(){return N0||(N0=1,Km.exports=PR()),Km.exports}var x=ag();const kR=MR(x),V0=xR({__proto__:null,default:kR},[x]);var Ym={exports:{}},Wl={},Qm={exports:{}},Xm={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var P0;function LR(){return P0||(P0=1,function(n){function e(W,J){var he=W.length;W.push(J);e:for(;0<he;){var ye=he-1>>>1,P=W[ye];if(0<s(P,J))W[ye]=J,W[he]=P,he=ye;else break e}}function t(W){return W.length===0?null:W[0]}function r(W){if(W.length===0)return null;var J=W[0],he=W.pop();if(he!==J){W[0]=he;e:for(var ye=0,P=W.length,ie=P>>>1;ye<ie;){var le=2*(ye+1)-1,re=W[le],de=le+1,Ie=W[de];if(0>s(re,he))de<P&&0>s(Ie,re)?(W[ye]=Ie,W[de]=he,ye=de):(W[ye]=re,W[le]=he,ye=le);else if(de<P&&0>s(Ie,he))W[ye]=Ie,W[de]=he,ye=de;else break e}}return J}function s(W,J){var he=W.sortIndex-J.sortIndex;return he!==0?he:W.id-J.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;n.unstable_now=function(){return l.now()}}else{var c=Date,m=c.now();n.unstable_now=function(){return c.now()-m}}var d=[],p=[],y=1,E=null,T=3,R=!1,C=!1,N=!1,I=!1,M=typeof setTimeout=="function"?setTimeout:null,j=typeof clearTimeout=="function"?clearTimeout:null,$=typeof setImmediate<"u"?setImmediate:null;function ee(W){for(var J=t(p);J!==null;){if(J.callback===null)r(p);else if(J.startTime<=W)r(p),J.sortIndex=J.expirationTime,e(d,J);else break;J=t(p)}}function q(W){if(N=!1,ee(W),!C)if(t(d)!==null)C=!0,oe||(oe=!0,B());else{var J=t(p);J!==null&&Oe(q,J.startTime-W)}}var oe=!1,O=-1,A=5,D=-1;function V(){return I?!0:!(n.unstable_now()-D<A)}function z(){if(I=!1,oe){var W=n.unstable_now();D=W;var J=!0;try{e:{C=!1,N&&(N=!1,j(O),O=-1),R=!0;var he=T;try{t:{for(ee(W),E=t(d);E!==null&&!(E.expirationTime>W&&V());){var ye=E.callback;if(typeof ye=="function"){E.callback=null,T=E.priorityLevel;var P=ye(E.expirationTime<=W);if(W=n.unstable_now(),typeof P=="function"){E.callback=P,ee(W),J=!0;break t}E===t(d)&&r(d),ee(W)}else r(d);E=t(d)}if(E!==null)J=!0;else{var ie=t(p);ie!==null&&Oe(q,ie.startTime-W),J=!1}}break e}finally{E=null,T=he,R=!1}J=void 0}}finally{J?B():oe=!1}}}var B;if(typeof $=="function")B=function(){$(z)};else if(typeof MessageChannel<"u"){var k=new MessageChannel,Ye=k.port2;k.port1.onmessage=z,B=function(){Ye.postMessage(null)}}else B=function(){M(z,0)};function Oe(W,J){O=M(function(){W(n.unstable_now())},J)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(W){W.callback=null},n.unstable_forceFrameRate=function(W){0>W||125<W?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<W?Math.floor(1e3/W):5},n.unstable_getCurrentPriorityLevel=function(){return T},n.unstable_next=function(W){switch(T){case 1:case 2:case 3:var J=3;break;default:J=T}var he=T;T=J;try{return W()}finally{T=he}},n.unstable_requestPaint=function(){I=!0},n.unstable_runWithPriority=function(W,J){switch(W){case 1:case 2:case 3:case 4:case 5:break;default:W=3}var he=T;T=W;try{return J()}finally{T=he}},n.unstable_scheduleCallback=function(W,J,he){var ye=n.unstable_now();switch(typeof he=="object"&&he!==null?(he=he.delay,he=typeof he=="number"&&0<he?ye+he:ye):he=ye,W){case 1:var P=-1;break;case 2:P=250;break;case 5:P=1073741823;break;case 4:P=1e4;break;default:P=5e3}return P=he+P,W={id:y++,callback:J,priorityLevel:W,startTime:he,expirationTime:P,sortIndex:-1},he>ye?(W.sortIndex=he,e(p,W),t(d)===null&&W===t(p)&&(N?(j(O),O=-1):N=!0,Oe(q,he-ye))):(W.sortIndex=P,e(d,W),C||R||(C=!0,oe||(oe=!0,B()))),W},n.unstable_shouldYield=V,n.unstable_wrapCallback=function(W){var J=T;return function(){var he=T;T=J;try{return W.apply(this,arguments)}finally{T=he}}}}(Xm)),Xm}var k0;function UR(){return k0||(k0=1,Qm.exports=LR()),Qm.exports}var Wm={exports:{}},an={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var L0;function jR(){if(L0)return an;L0=1;var n=ag();function e(d){var p="https://react.dev/errors/"+d;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var y=2;y<arguments.length;y++)p+="&args[]="+encodeURIComponent(arguments[y])}return"Minified React error #"+d+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var r={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},s=Symbol.for("react.portal");function l(d,p,y){var E=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:s,key:E==null?null:""+E,children:d,containerInfo:p,implementation:y}}var c=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(d,p){if(d==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return an.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,an.createPortal=function(d,p){var y=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(e(299));return l(d,p,null,y)},an.flushSync=function(d){var p=c.T,y=r.p;try{if(c.T=null,r.p=2,d)return d()}finally{c.T=p,r.p=y,r.d.f()}},an.preconnect=function(d,p){typeof d=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,r.d.C(d,p))},an.prefetchDNS=function(d){typeof d=="string"&&r.d.D(d)},an.preinit=function(d,p){if(typeof d=="string"&&p&&typeof p.as=="string"){var y=p.as,E=m(y,p.crossOrigin),T=typeof p.integrity=="string"?p.integrity:void 0,R=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;y==="style"?r.d.S(d,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:E,integrity:T,fetchPriority:R}):y==="script"&&r.d.X(d,{crossOrigin:E,integrity:T,fetchPriority:R,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},an.preinitModule=function(d,p){if(typeof d=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var y=m(p.as,p.crossOrigin);r.d.M(d,{crossOrigin:y,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&r.d.M(d)},an.preload=function(d,p){if(typeof d=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var y=p.as,E=m(y,p.crossOrigin);r.d.L(d,y,{crossOrigin:E,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},an.preloadModule=function(d,p){if(typeof d=="string")if(p){var y=m(p.as,p.crossOrigin);r.d.m(d,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:y,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else r.d.m(d)},an.requestFormReset=function(d){r.d.r(d)},an.unstable_batchedUpdates=function(d,p){return d(p)},an.useFormState=function(d,p,y){return c.H.useFormState(d,p,y)},an.useFormStatus=function(){return c.H.useHostTransitionStatus()},an.version="19.1.0",an}var U0;function uT(){if(U0)return Wm.exports;U0=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),Wm.exports=jR(),Wm.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var j0;function zR(){if(j0)return Wl;j0=1;var n=UR(),e=ag(),t=uT();function r(i){var a="https://react.dev/errors/"+i;if(1<arguments.length){a+="?args[]="+encodeURIComponent(arguments[1]);for(var o=2;o<arguments.length;o++)a+="&args[]="+encodeURIComponent(arguments[o])}return"Minified React error #"+i+"; visit "+a+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function l(i){var a=i,o=i;if(i.alternate)for(;a.return;)a=a.return;else{i=a;do a=i,(a.flags&4098)!==0&&(o=a.return),i=a.return;while(i)}return a.tag===3?o:null}function c(i){if(i.tag===13){var a=i.memoizedState;if(a===null&&(i=i.alternate,i!==null&&(a=i.memoizedState)),a!==null)return a.dehydrated}return null}function m(i){if(l(i)!==i)throw Error(r(188))}function d(i){var a=i.alternate;if(!a){if(a=l(i),a===null)throw Error(r(188));return a!==i?null:i}for(var o=i,u=a;;){var f=o.return;if(f===null)break;var g=f.alternate;if(g===null){if(u=f.return,u!==null){o=u;continue}break}if(f.child===g.child){for(g=f.child;g;){if(g===o)return m(f),i;if(g===u)return m(f),a;g=g.sibling}throw Error(r(188))}if(o.return!==u.return)o=f,u=g;else{for(var b=!1,S=f.child;S;){if(S===o){b=!0,o=f,u=g;break}if(S===u){b=!0,u=f,o=g;break}S=S.sibling}if(!b){for(S=g.child;S;){if(S===o){b=!0,o=g,u=f;break}if(S===u){b=!0,u=g,o=f;break}S=S.sibling}if(!b)throw Error(r(189))}}if(o.alternate!==u)throw Error(r(190))}if(o.tag!==3)throw Error(r(188));return o.stateNode.current===o?i:a}function p(i){var a=i.tag;if(a===5||a===26||a===27||a===6)return i;for(i=i.child;i!==null;){if(a=p(i),a!==null)return a;i=i.sibling}return null}var y=Object.assign,E=Symbol.for("react.element"),T=Symbol.for("react.transitional.element"),R=Symbol.for("react.portal"),C=Symbol.for("react.fragment"),N=Symbol.for("react.strict_mode"),I=Symbol.for("react.profiler"),M=Symbol.for("react.provider"),j=Symbol.for("react.consumer"),$=Symbol.for("react.context"),ee=Symbol.for("react.forward_ref"),q=Symbol.for("react.suspense"),oe=Symbol.for("react.suspense_list"),O=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),D=Symbol.for("react.activity"),V=Symbol.for("react.memo_cache_sentinel"),z=Symbol.iterator;function B(i){return i===null||typeof i!="object"?null:(i=z&&i[z]||i["@@iterator"],typeof i=="function"?i:null)}var k=Symbol.for("react.client.reference");function Ye(i){if(i==null)return null;if(typeof i=="function")return i.$$typeof===k?null:i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case C:return"Fragment";case I:return"Profiler";case N:return"StrictMode";case q:return"Suspense";case oe:return"SuspenseList";case D:return"Activity"}if(typeof i=="object")switch(i.$$typeof){case R:return"Portal";case $:return(i.displayName||"Context")+".Provider";case j:return(i._context.displayName||"Context")+".Consumer";case ee:var a=i.render;return i=i.displayName,i||(i=a.displayName||a.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case O:return a=i.displayName||null,a!==null?a:Ye(i.type)||"Memo";case A:a=i._payload,i=i._init;try{return Ye(i(a))}catch{}}return null}var Oe=Array.isArray,W=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,J=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,he={pending:!1,data:null,method:null,action:null},ye=[],P=-1;function ie(i){return{current:i}}function le(i){0>P||(i.current=ye[P],ye[P]=null,P--)}function re(i,a){P++,ye[P]=i.current,i.current=a}var de=ie(null),Ie=ie(null),pe=ie(null),lt=ie(null);function Ue(i,a){switch(re(pe,a),re(Ie,i),re(de,null),a.nodeType){case 9:case 11:i=(i=a.documentElement)&&(i=i.namespaceURI)?r0(i):0;break;default:if(i=a.tagName,a=a.namespaceURI)a=r0(a),i=a0(a,i);else switch(i){case"svg":i=1;break;case"math":i=2;break;default:i=0}}le(de),re(de,i)}function hn(){le(de),le(Ie),le(pe)}function ci(i){i.memoizedState!==null&&re(lt,i);var a=de.current,o=a0(a,i.type);a!==o&&(re(Ie,i),re(de,o))}function Vn(i){Ie.current===i&&(le(de),le(Ie)),lt.current===i&&(le(lt),$l._currentValue=he)}var hi=Object.prototype.hasOwnProperty,qi=n.unstable_scheduleCallback,fi=n.unstable_cancelCallback,Ea=n.unstable_shouldYield,Hu=n.unstable_requestPaint,Pn=n.unstable_now,Gf=n.unstable_getCurrentPriorityLevel,Ho=n.unstable_ImmediatePriority,Ss=n.unstable_UserBlockingPriority,Ta=n.unstable_NormalPriority,Kf=n.unstable_LowPriority,ws=n.unstable_IdlePriority,qo=n.log,qu=n.unstable_setDisableYieldValue,yt=null,tt=null;function Sn(i){if(typeof qo=="function"&&qu(i),tt&&typeof tt.setStrictMode=="function")try{tt.setStrictMode(yt,i)}catch{}}var nn=Math.clz32?Math.clz32:Sa,$u=Math.log,Yf=Math.LN2;function Sa(i){return i>>>=0,i===0?32:31-($u(i)/Yf|0)|0}var wa=256,Aa=4194304;function Wn(i){var a=i&42;if(a!==0)return a;switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return i&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return i}}function As(i,a,o){var u=i.pendingLanes;if(u===0)return 0;var f=0,g=i.suspendedLanes,b=i.pingedLanes;i=i.warmLanes;var S=u&134217727;return S!==0?(u=S&~g,u!==0?f=Wn(u):(b&=S,b!==0?f=Wn(b):o||(o=S&~i,o!==0&&(f=Wn(o))))):(S=u&~g,S!==0?f=Wn(S):b!==0?f=Wn(b):o||(o=u&~i,o!==0&&(f=Wn(o)))),f===0?0:a!==0&&a!==f&&(a&g)===0&&(g=f&-f,o=a&-a,g>=o||g===32&&(o&4194048)!==0)?a:f}function Ra(i,a){return(i.pendingLanes&~(i.suspendedLanes&~i.pingedLanes)&a)===0}function $o(i,a){switch(i){case 1:case 2:case 4:case 8:case 64:return a+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Go(){var i=wa;return wa<<=1,(wa&4194048)===0&&(wa=256),i}function Ko(){var i=Aa;return Aa<<=1,(Aa&62914560)===0&&(Aa=4194304),i}function $i(i){for(var a=[],o=0;31>o;o++)a.push(i);return a}function Gi(i,a){i.pendingLanes|=a,a!==268435456&&(i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0)}function Yo(i,a,o,u,f,g){var b=i.pendingLanes;i.pendingLanes=o,i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0,i.expiredLanes&=o,i.entangledLanes&=o,i.errorRecoveryDisabledLanes&=o,i.shellSuspendCounter=0;var S=i.entanglements,U=i.expirationTimes,Y=i.hiddenUpdates;for(o=b&~o;0<o;){var te=31-nn(o),ae=1<<te;S[te]=0,U[te]=-1;var Q=Y[te];if(Q!==null)for(Y[te]=null,te=0;te<Q.length;te++){var X=Q[te];X!==null&&(X.lane&=-536870913)}o&=~ae}u!==0&&di(i,u,0),g!==0&&f===0&&i.tag!==0&&(i.suspendedLanes|=g&~(b&~a))}function di(i,a,o){i.pendingLanes|=a,i.suspendedLanes&=~a;var u=31-nn(a);i.entangledLanes|=a,i.entanglements[u]=i.entanglements[u]|1073741824|o&4194090}function Qo(i,a){var o=i.entangledLanes|=a;for(i=i.entanglements;o;){var u=31-nn(o),f=1<<u;f&a|i[u]&a&&(i[u]|=a),o&=~f}}function Dr(i){switch(i){case 2:i=1;break;case 8:i=4;break;case 32:i=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:i=128;break;case 268435456:i=134217728;break;default:i=0}return i}function Rs(i){return i&=-i,2<i?8<i?(i&134217727)!==0?32:268435456:8:2}function xr(){var i=J.p;return i!==0?i:(i=window.event,i===void 0?32:w0(i.type))}function Gu(i,a){var o=J.p;try{return J.p=i,a()}finally{J.p=o}}var ft=Math.random().toString(36).slice(2),Nt="__reactFiber$"+ft,Rt="__reactProps$"+ft,kn="__reactContainer$"+ft,Xo="__reactEvents$"+ft,Qf="__reactListeners$"+ft,Mr="__reactHandles$"+ft,Ku="__reactResources$"+ft,Ia="__reactMarker$"+ft;function Nr(i){delete i[Nt],delete i[Rt],delete i[Xo],delete i[Qf],delete i[Mr]}function Ki(i){var a=i[Nt];if(a)return a;for(var o=i.parentNode;o;){if(a=o[kn]||o[Nt]){if(o=a.alternate,a.child!==null||o!==null&&o.child!==null)for(i=u0(i);i!==null;){if(o=i[Nt])return o;i=u0(i)}return a}i=o,o=i.parentNode}return null}function mi(i){if(i=i[Nt]||i[kn]){var a=i.tag;if(a===5||a===6||a===13||a===26||a===27||a===3)return i}return null}function pi(i){var a=i.tag;if(a===5||a===26||a===27||a===6)return i.stateNode;throw Error(r(33))}function fn(i){var a=i[Ku];return a||(a=i[Ku]={hoistableStyles:new Map,hoistableScripts:new Map}),a}function Tt(i){i[Ia]=!0}var Wo=new Set,Is={};function Zn(i,a){Yi(i,a),Yi(i+"Capture",a)}function Yi(i,a){for(Is[i]=a,i=0;i<a.length;i++)Wo.add(a[i])}var Yu=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Qu={},Ca={};function Xu(i){return hi.call(Ca,i)?!0:hi.call(Qu,i)?!1:Yu.test(i)?Ca[i]=!0:(Qu[i]=!0,!1)}function Vr(i,a,o){if(Xu(a))if(o===null)i.removeAttribute(a);else{switch(typeof o){case"undefined":case"function":case"symbol":i.removeAttribute(a);return;case"boolean":var u=a.toLowerCase().slice(0,5);if(u!=="data-"&&u!=="aria-"){i.removeAttribute(a);return}}i.setAttribute(a,""+o)}}function gi(i,a,o){if(o===null)i.removeAttribute(a);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(a);return}i.setAttribute(a,""+o)}}function Kt(i,a,o,u){if(u===null)i.removeAttribute(o);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(o);return}i.setAttributeNS(a,o,""+u)}}var Oa,Wu;function Qi(i){if(Oa===void 0)try{throw Error()}catch(o){var a=o.stack.trim().match(/\n( *(at )?)/);Oa=a&&a[1]||"",Wu=-1<o.stack.indexOf(`
    at`)?" (<anonymous>)":-1<o.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Oa+i+Wu}var Cs=!1;function Os(i,a){if(!i||Cs)return"";Cs=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var u={DetermineComponentFrameRoot:function(){try{if(a){var ae=function(){throw Error()};if(Object.defineProperty(ae.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ae,[])}catch(X){var Q=X}Reflect.construct(i,[],ae)}else{try{ae.call()}catch(X){Q=X}i.call(ae.prototype)}}else{try{throw Error()}catch(X){Q=X}(ae=i())&&typeof ae.catch=="function"&&ae.catch(function(){})}}catch(X){if(X&&Q&&typeof X.stack=="string")return[X.stack,Q.stack]}return[null,null]}};u.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var f=Object.getOwnPropertyDescriptor(u.DetermineComponentFrameRoot,"name");f&&f.configurable&&Object.defineProperty(u.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var g=u.DetermineComponentFrameRoot(),b=g[0],S=g[1];if(b&&S){var U=b.split(`
`),Y=S.split(`
`);for(f=u=0;u<U.length&&!U[u].includes("DetermineComponentFrameRoot");)u++;for(;f<Y.length&&!Y[f].includes("DetermineComponentFrameRoot");)f++;if(u===U.length||f===Y.length)for(u=U.length-1,f=Y.length-1;1<=u&&0<=f&&U[u]!==Y[f];)f--;for(;1<=u&&0<=f;u--,f--)if(U[u]!==Y[f]){if(u!==1||f!==1)do if(u--,f--,0>f||U[u]!==Y[f]){var te=`
`+U[u].replace(" at new "," at ");return i.displayName&&te.includes("<anonymous>")&&(te=te.replace("<anonymous>",i.displayName)),te}while(1<=u&&0<=f);break}}}finally{Cs=!1,Error.prepareStackTrace=o}return(o=i?i.displayName||i.name:"")?Qi(o):""}function Zo(i){switch(i.tag){case 26:case 27:case 5:return Qi(i.type);case 16:return Qi("Lazy");case 13:return Qi("Suspense");case 19:return Qi("SuspenseList");case 0:case 15:return Os(i.type,!1);case 11:return Os(i.type.render,!1);case 1:return Os(i.type,!0);case 31:return Qi("Activity");default:return""}}function Ds(i){try{var a="";do a+=Zo(i),i=i.return;while(i);return a}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}function dn(i){switch(typeof i){case"bigint":case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function Jo(i){var a=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(a==="checkbox"||a==="radio")}function Xf(i){var a=Jo(i)?"checked":"value",o=Object.getOwnPropertyDescriptor(i.constructor.prototype,a),u=""+i[a];if(!i.hasOwnProperty(a)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var f=o.get,g=o.set;return Object.defineProperty(i,a,{configurable:!0,get:function(){return f.call(this)},set:function(b){u=""+b,g.call(this,b)}}),Object.defineProperty(i,a,{enumerable:o.enumerable}),{getValue:function(){return u},setValue:function(b){u=""+b},stopTracking:function(){i._valueTracker=null,delete i[a]}}}}function xs(i){i._valueTracker||(i._valueTracker=Xf(i))}function el(i){if(!i)return!1;var a=i._valueTracker;if(!a)return!0;var o=a.getValue(),u="";return i&&(u=Jo(i)?i.checked?"true":"false":i.value),i=u,i!==o?(a.setValue(i),!0):!1}function Da(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}var Wf=/[\n"\\]/g;function It(i){return i.replace(Wf,function(a){return"\\"+a.charCodeAt(0).toString(16)+" "})}function wn(i,a,o,u,f,g,b,S){i.name="",b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"?i.type=b:i.removeAttribute("type"),a!=null?b==="number"?(a===0&&i.value===""||i.value!=a)&&(i.value=""+dn(a)):i.value!==""+dn(a)&&(i.value=""+dn(a)):b!=="submit"&&b!=="reset"||i.removeAttribute("value"),a!=null?Pr(i,b,dn(a)):o!=null?Pr(i,b,dn(o)):u!=null&&i.removeAttribute("value"),f==null&&g!=null&&(i.defaultChecked=!!g),f!=null&&(i.checked=f&&typeof f!="function"&&typeof f!="symbol"),S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"?i.name=""+dn(S):i.removeAttribute("name")}function xa(i,a,o,u,f,g,b,S){if(g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(i.type=g),a!=null||o!=null){if(!(g!=="submit"&&g!=="reset"||a!=null))return;o=o!=null?""+dn(o):"",a=a!=null?""+dn(a):o,S||a===i.value||(i.value=a),i.defaultValue=a}u=u??f,u=typeof u!="function"&&typeof u!="symbol"&&!!u,i.checked=S?i.checked:!!u,i.defaultChecked=!!u,b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"&&(i.name=b)}function Pr(i,a,o){a==="number"&&Da(i.ownerDocument)===i||i.defaultValue===""+o||(i.defaultValue=""+o)}function Xi(i,a,o,u){if(i=i.options,a){a={};for(var f=0;f<o.length;f++)a["$"+o[f]]=!0;for(o=0;o<i.length;o++)f=a.hasOwnProperty("$"+i[o].value),i[o].selected!==f&&(i[o].selected=f),f&&u&&(i[o].defaultSelected=!0)}else{for(o=""+dn(o),a=null,f=0;f<i.length;f++){if(i[f].value===o){i[f].selected=!0,u&&(i[f].defaultSelected=!0);return}a!==null||i[f].disabled||(a=i[f])}a!==null&&(a.selected=!0)}}function rt(i,a,o){if(a!=null&&(a=""+dn(a),a!==i.value&&(i.value=a),o==null)){i.defaultValue!==a&&(i.defaultValue=a);return}i.defaultValue=o!=null?""+dn(o):""}function Ma(i,a,o,u){if(a==null){if(u!=null){if(o!=null)throw Error(r(92));if(Oe(u)){if(1<u.length)throw Error(r(93));u=u[0]}o=u}o==null&&(o=""),a=o}o=dn(a),i.defaultValue=o,u=i.textContent,u===o&&u!==""&&u!==null&&(i.value=u)}function Ln(i,a){if(a){var o=i.firstChild;if(o&&o===i.lastChild&&o.nodeType===3){o.nodeValue=a;return}}i.textContent=a}var Na=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Zu(i,a,o){var u=a.indexOf("--")===0;o==null||typeof o=="boolean"||o===""?u?i.setProperty(a,""):a==="float"?i.cssFloat="":i[a]="":u?i.setProperty(a,o):typeof o!="number"||o===0||Na.has(a)?a==="float"?i.cssFloat=o:i[a]=(""+o).trim():i[a]=o+"px"}function tl(i,a,o){if(a!=null&&typeof a!="object")throw Error(r(62));if(i=i.style,o!=null){for(var u in o)!o.hasOwnProperty(u)||a!=null&&a.hasOwnProperty(u)||(u.indexOf("--")===0?i.setProperty(u,""):u==="float"?i.cssFloat="":i[u]="");for(var f in a)u=a[f],a.hasOwnProperty(f)&&o[f]!==u&&Zu(i,f,u)}else for(var g in a)a.hasOwnProperty(g)&&Zu(i,g,a[g])}function nl(i){if(i.indexOf("-")===-1)return!1;switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Zf=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Jf=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ms(i){return Jf.test(""+i)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":i}var Wi=null;function Un(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var Zi=null,Ji=null;function il(i){var a=mi(i);if(a&&(i=a.stateNode)){var o=i[Rt]||null;e:switch(i=a.stateNode,a.type){case"input":if(wn(i,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name),a=o.name,o.type==="radio"&&a!=null){for(o=i;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll('input[name="'+It(""+a)+'"][type="radio"]'),a=0;a<o.length;a++){var u=o[a];if(u!==i&&u.form===i.form){var f=u[Rt]||null;if(!f)throw Error(r(90));wn(u,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name)}}for(a=0;a<o.length;a++)u=o[a],u.form===i.form&&el(u)}break e;case"textarea":rt(i,o.value,o.defaultValue);break e;case"select":a=o.value,a!=null&&Xi(i,!!o.multiple,a,!1)}}}var vi=!1;function Ju(i,a,o){if(vi)return i(a,o);vi=!0;try{var u=i(a);return u}finally{if(vi=!1,(Zi!==null||Ji!==null)&&(Gc(),Zi&&(a=Zi,i=Ji,Ji=Zi=null,il(a),i)))for(a=0;a<i.length;a++)il(i[a])}}function Va(i,a){var o=i.stateNode;if(o===null)return null;var u=o[Rt]||null;if(u===null)return null;o=u[a];e:switch(a){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(i=i.type,u=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!u;break e;default:i=!1}if(i)return null;if(o&&typeof o!="function")throw Error(r(231,a,typeof o));return o}var Jn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),jn=!1;if(Jn)try{var Pa={};Object.defineProperty(Pa,"passive",{get:function(){jn=!0}}),window.addEventListener("test",Pa,Pa),window.removeEventListener("test",Pa,Pa)}catch{jn=!1}var yi=null,kr=null,er=null;function rl(){if(er)return er;var i,a=kr,o=a.length,u,f="value"in yi?yi.value:yi.textContent,g=f.length;for(i=0;i<o&&a[i]===f[i];i++);var b=o-i;for(u=1;u<=b&&a[o-u]===f[g-u];u++);return er=f.slice(i,1<u?1-u:void 0)}function _i(i){var a=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&a===13&&(i=13)):i=a,i===10&&(i=13),32<=i||i===13?i:0}function bi(){return!0}function al(){return!1}function zt(i){function a(o,u,f,g,b){this._reactName=o,this._targetInst=f,this.type=u,this.nativeEvent=g,this.target=b,this.currentTarget=null;for(var S in i)i.hasOwnProperty(S)&&(o=i[S],this[S]=o?o(g):g[S]);return this.isDefaultPrevented=(g.defaultPrevented!=null?g.defaultPrevented:g.returnValue===!1)?bi:al,this.isPropagationStopped=al,this}return y(a.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=bi)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=bi)},persist:function(){},isPersistent:bi}),a}var Ze={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ns=zt(Ze),ka=y({},Ze,{view:0,detail:0}),ec=zt(ka),Vs,Ps,Ei,La=y({},ka,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:za,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==Ei&&(Ei&&i.type==="mousemove"?(Vs=i.screenX-Ei.screenX,Ps=i.screenY-Ei.screenY):Ps=Vs=0,Ei=i),Vs)},movementY:function(i){return"movementY"in i?i.movementY:Ps}}),zn=zt(La),tc=y({},La,{dataTransfer:0}),ed=zt(tc),Ua=y({},ka,{relatedTarget:0}),ks=zt(Ua),sl=y({},Ze,{animationName:0,elapsedTime:0,pseudoElement:0}),Ls=zt(sl),nc=y({},Ze,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),Us=zt(nc),td=y({},Ze,{data:0}),ol=zt(td),ja={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},ic={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},rc={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ll(i){var a=this.nativeEvent;return a.getModifierState?a.getModifierState(i):(i=rc[i])?!!a[i]:!1}function za(){return ll}var ac=y({},ka,{key:function(i){if(i.key){var a=ja[i.key]||i.key;if(a!=="Unidentified")return a}return i.type==="keypress"?(i=_i(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?ic[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:za,charCode:function(i){return i.type==="keypress"?_i(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?_i(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),js=zt(ac),sc=y({},La,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ul=zt(sc),tr=y({},ka,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:za}),oc=zt(tr),lc=y({},Ze,{propertyName:0,elapsedTime:0,pseudoElement:0}),uc=zt(lc),cc=y({},La,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),zs=zt(cc),mn=y({},Ze,{newState:0,oldState:0}),hc=zt(mn),fc=[9,13,27,32],Ti=Jn&&"CompositionEvent"in window,h=null;Jn&&"documentMode"in document&&(h=document.documentMode);var v=Jn&&"TextEvent"in window&&!h,_=Jn&&(!Ti||h&&8<h&&11>=h),w=" ",G=!1;function Z(i,a){switch(i){case"keyup":return fc.indexOf(a.keyCode)!==-1;case"keydown":return a.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ce(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var Fe=!1;function Vt(i,a){switch(i){case"compositionend":return ce(a);case"keypress":return a.which!==32?null:(G=!0,w);case"textInput":return i=a.data,i===w&&G?null:i;default:return null}}function Be(i,a){if(Fe)return i==="compositionend"||!Ti&&Z(i,a)?(i=rl(),er=kr=yi=null,Fe=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(a.ctrlKey||a.altKey||a.metaKey)||a.ctrlKey&&a.altKey){if(a.char&&1<a.char.length)return a.char;if(a.which)return String.fromCharCode(a.which)}return null;case"compositionend":return _&&a.locale!=="ko"?null:a.data;default:return null}}var Ft={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Pt(i){var a=i&&i.nodeName&&i.nodeName.toLowerCase();return a==="input"?!!Ft[i.type]:a==="textarea"}function nr(i,a,o,u){Zi?Ji?Ji.push(u):Ji=[u]:Zi=u,a=Zc(a,"onChange"),0<a.length&&(o=new Ns("onChange","change",null,o,u),i.push({event:o,listeners:a}))}var Yt=null,Si=null;function cl(i){J_(i,0)}function dc(i){var a=pi(i);if(el(a))return i}function bv(i,a){if(i==="change")return a}var Ev=!1;if(Jn){var nd;if(Jn){var id="oninput"in document;if(!id){var Tv=document.createElement("div");Tv.setAttribute("oninput","return;"),id=typeof Tv.oninput=="function"}nd=id}else nd=!1;Ev=nd&&(!document.documentMode||9<document.documentMode)}function Sv(){Yt&&(Yt.detachEvent("onpropertychange",wv),Si=Yt=null)}function wv(i){if(i.propertyName==="value"&&dc(Si)){var a=[];nr(a,Si,i,Un(i)),Ju(cl,a)}}function oA(i,a,o){i==="focusin"?(Sv(),Yt=a,Si=o,Yt.attachEvent("onpropertychange",wv)):i==="focusout"&&Sv()}function lA(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return dc(Si)}function uA(i,a){if(i==="click")return dc(a)}function cA(i,a){if(i==="input"||i==="change")return dc(a)}function hA(i,a){return i===a&&(i!==0||1/i===1/a)||i!==i&&a!==a}var An=typeof Object.is=="function"?Object.is:hA;function hl(i,a){if(An(i,a))return!0;if(typeof i!="object"||i===null||typeof a!="object"||a===null)return!1;var o=Object.keys(i),u=Object.keys(a);if(o.length!==u.length)return!1;for(u=0;u<o.length;u++){var f=o[u];if(!hi.call(a,f)||!An(i[f],a[f]))return!1}return!0}function Av(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function Rv(i,a){var o=Av(i);i=0;for(var u;o;){if(o.nodeType===3){if(u=i+o.textContent.length,i<=a&&u>=a)return{node:o,offset:a-i};i=u}e:{for(;o;){if(o.nextSibling){o=o.nextSibling;break e}o=o.parentNode}o=void 0}o=Av(o)}}function Iv(i,a){return i&&a?i===a?!0:i&&i.nodeType===3?!1:a&&a.nodeType===3?Iv(i,a.parentNode):"contains"in i?i.contains(a):i.compareDocumentPosition?!!(i.compareDocumentPosition(a)&16):!1:!1}function Cv(i){i=i!=null&&i.ownerDocument!=null&&i.ownerDocument.defaultView!=null?i.ownerDocument.defaultView:window;for(var a=Da(i.document);a instanceof i.HTMLIFrameElement;){try{var o=typeof a.contentWindow.location.href=="string"}catch{o=!1}if(o)i=a.contentWindow;else break;a=Da(i.document)}return a}function rd(i){var a=i&&i.nodeName&&i.nodeName.toLowerCase();return a&&(a==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||a==="textarea"||i.contentEditable==="true")}var fA=Jn&&"documentMode"in document&&11>=document.documentMode,Fs=null,ad=null,fl=null,sd=!1;function Ov(i,a,o){var u=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;sd||Fs==null||Fs!==Da(u)||(u=Fs,"selectionStart"in u&&rd(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),fl&&hl(fl,u)||(fl=u,u=Zc(ad,"onSelect"),0<u.length&&(a=new Ns("onSelect","select",null,a,o),i.push({event:a,listeners:u}),a.target=Fs)))}function Fa(i,a){var o={};return o[i.toLowerCase()]=a.toLowerCase(),o["Webkit"+i]="webkit"+a,o["Moz"+i]="moz"+a,o}var Bs={animationend:Fa("Animation","AnimationEnd"),animationiteration:Fa("Animation","AnimationIteration"),animationstart:Fa("Animation","AnimationStart"),transitionrun:Fa("Transition","TransitionRun"),transitionstart:Fa("Transition","TransitionStart"),transitioncancel:Fa("Transition","TransitionCancel"),transitionend:Fa("Transition","TransitionEnd")},od={},Dv={};Jn&&(Dv=document.createElement("div").style,"AnimationEvent"in window||(delete Bs.animationend.animation,delete Bs.animationiteration.animation,delete Bs.animationstart.animation),"TransitionEvent"in window||delete Bs.transitionend.transition);function Ba(i){if(od[i])return od[i];if(!Bs[i])return i;var a=Bs[i],o;for(o in a)if(a.hasOwnProperty(o)&&o in Dv)return od[i]=a[o];return i}var xv=Ba("animationend"),Mv=Ba("animationiteration"),Nv=Ba("animationstart"),dA=Ba("transitionrun"),mA=Ba("transitionstart"),pA=Ba("transitioncancel"),Vv=Ba("transitionend"),Pv=new Map,ld="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");ld.push("scrollEnd");function ei(i,a){Pv.set(i,a),Zn(a,[i])}var kv=new WeakMap;function Fn(i,a){if(typeof i=="object"&&i!==null){var o=kv.get(i);return o!==void 0?o:(a={value:i,source:a,stack:Ds(a)},kv.set(i,a),a)}return{value:i,source:a,stack:Ds(a)}}var Bn=[],Hs=0,ud=0;function mc(){for(var i=Hs,a=ud=Hs=0;a<i;){var o=Bn[a];Bn[a++]=null;var u=Bn[a];Bn[a++]=null;var f=Bn[a];Bn[a++]=null;var g=Bn[a];if(Bn[a++]=null,u!==null&&f!==null){var b=u.pending;b===null?f.next=f:(f.next=b.next,b.next=f),u.pending=f}g!==0&&Lv(o,f,g)}}function pc(i,a,o,u){Bn[Hs++]=i,Bn[Hs++]=a,Bn[Hs++]=o,Bn[Hs++]=u,ud|=u,i.lanes|=u,i=i.alternate,i!==null&&(i.lanes|=u)}function cd(i,a,o,u){return pc(i,a,o,u),gc(i)}function qs(i,a){return pc(i,null,null,a),gc(i)}function Lv(i,a,o){i.lanes|=o;var u=i.alternate;u!==null&&(u.lanes|=o);for(var f=!1,g=i.return;g!==null;)g.childLanes|=o,u=g.alternate,u!==null&&(u.childLanes|=o),g.tag===22&&(i=g.stateNode,i===null||i._visibility&1||(f=!0)),i=g,g=g.return;return i.tag===3?(g=i.stateNode,f&&a!==null&&(f=31-nn(o),i=g.hiddenUpdates,u=i[f],u===null?i[f]=[a]:u.push(a),a.lane=o|536870912),g):null}function gc(i){if(50<Ll)throw Ll=0,gm=null,Error(r(185));for(var a=i.return;a!==null;)i=a,a=i.return;return i.tag===3?i.stateNode:null}var $s={};function gA(i,a,o,u){this.tag=i,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=a,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Rn(i,a,o,u){return new gA(i,a,o,u)}function hd(i){return i=i.prototype,!(!i||!i.isReactComponent)}function ir(i,a){var o=i.alternate;return o===null?(o=Rn(i.tag,a,i.key,i.mode),o.elementType=i.elementType,o.type=i.type,o.stateNode=i.stateNode,o.alternate=i,i.alternate=o):(o.pendingProps=a,o.type=i.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=i.flags&65011712,o.childLanes=i.childLanes,o.lanes=i.lanes,o.child=i.child,o.memoizedProps=i.memoizedProps,o.memoizedState=i.memoizedState,o.updateQueue=i.updateQueue,a=i.dependencies,o.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext},o.sibling=i.sibling,o.index=i.index,o.ref=i.ref,o.refCleanup=i.refCleanup,o}function Uv(i,a){i.flags&=65011714;var o=i.alternate;return o===null?(i.childLanes=0,i.lanes=a,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,a=o.dependencies,i.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext}),i}function vc(i,a,o,u,f,g){var b=0;if(u=i,typeof i=="function")hd(i)&&(b=1);else if(typeof i=="string")b=yR(i,o,de.current)?26:i==="html"||i==="head"||i==="body"?27:5;else e:switch(i){case D:return i=Rn(31,o,a,f),i.elementType=D,i.lanes=g,i;case C:return Ha(o.children,f,g,a);case N:b=8,f|=24;break;case I:return i=Rn(12,o,a,f|2),i.elementType=I,i.lanes=g,i;case q:return i=Rn(13,o,a,f),i.elementType=q,i.lanes=g,i;case oe:return i=Rn(19,o,a,f),i.elementType=oe,i.lanes=g,i;default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case M:case $:b=10;break e;case j:b=9;break e;case ee:b=11;break e;case O:b=14;break e;case A:b=16,u=null;break e}b=29,o=Error(r(130,i===null?"null":typeof i,"")),u=null}return a=Rn(b,o,a,f),a.elementType=i,a.type=u,a.lanes=g,a}function Ha(i,a,o,u){return i=Rn(7,i,u,a),i.lanes=o,i}function fd(i,a,o){return i=Rn(6,i,null,a),i.lanes=o,i}function dd(i,a,o){return a=Rn(4,i.children!==null?i.children:[],i.key,a),a.lanes=o,a.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},a}var Gs=[],Ks=0,yc=null,_c=0,Hn=[],qn=0,qa=null,rr=1,ar="";function $a(i,a){Gs[Ks++]=_c,Gs[Ks++]=yc,yc=i,_c=a}function jv(i,a,o){Hn[qn++]=rr,Hn[qn++]=ar,Hn[qn++]=qa,qa=i;var u=rr;i=ar;var f=32-nn(u)-1;u&=~(1<<f),o+=1;var g=32-nn(a)+f;if(30<g){var b=f-f%5;g=(u&(1<<b)-1).toString(32),u>>=b,f-=b,rr=1<<32-nn(a)+f|o<<f|u,ar=g+i}else rr=1<<g|o<<f|u,ar=i}function md(i){i.return!==null&&($a(i,1),jv(i,1,0))}function pd(i){for(;i===yc;)yc=Gs[--Ks],Gs[Ks]=null,_c=Gs[--Ks],Gs[Ks]=null;for(;i===qa;)qa=Hn[--qn],Hn[qn]=null,ar=Hn[--qn],Hn[qn]=null,rr=Hn[--qn],Hn[qn]=null}var pn=null,_t=null,Qe=!1,Ga=null,wi=!1,gd=Error(r(519));function Ka(i){var a=Error(r(418,""));throw pl(Fn(a,i)),gd}function zv(i){var a=i.stateNode,o=i.type,u=i.memoizedProps;switch(a[Nt]=i,a[Rt]=u,o){case"dialog":Le("cancel",a),Le("close",a);break;case"iframe":case"object":case"embed":Le("load",a);break;case"video":case"audio":for(o=0;o<jl.length;o++)Le(jl[o],a);break;case"source":Le("error",a);break;case"img":case"image":case"link":Le("error",a),Le("load",a);break;case"details":Le("toggle",a);break;case"input":Le("invalid",a),xa(a,u.value,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name,!0),xs(a);break;case"select":Le("invalid",a);break;case"textarea":Le("invalid",a),Ma(a,u.value,u.defaultValue,u.children),xs(a)}o=u.children,typeof o!="string"&&typeof o!="number"&&typeof o!="bigint"||a.textContent===""+o||u.suppressHydrationWarning===!0||i0(a.textContent,o)?(u.popover!=null&&(Le("beforetoggle",a),Le("toggle",a)),u.onScroll!=null&&Le("scroll",a),u.onScrollEnd!=null&&Le("scrollend",a),u.onClick!=null&&(a.onclick=Jc),a=!0):a=!1,a||Ka(i)}function Fv(i){for(pn=i.return;pn;)switch(pn.tag){case 5:case 13:wi=!1;return;case 27:case 3:wi=!0;return;default:pn=pn.return}}function dl(i){if(i!==pn)return!1;if(!Qe)return Fv(i),Qe=!0,!1;var a=i.tag,o;if((o=a!==3&&a!==27)&&((o=a===5)&&(o=i.type,o=!(o!=="form"&&o!=="button")||Mm(i.type,i.memoizedProps)),o=!o),o&&_t&&Ka(i),Fv(i),a===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(r(317));e:{for(i=i.nextSibling,a=0;i;){if(i.nodeType===8)if(o=i.data,o==="/$"){if(a===0){_t=ni(i.nextSibling);break e}a--}else o!=="$"&&o!=="$!"&&o!=="$?"||a++;i=i.nextSibling}_t=null}}else a===27?(a=_t,Zr(i.type)?(i=km,km=null,_t=i):_t=a):_t=pn?ni(i.stateNode.nextSibling):null;return!0}function ml(){_t=pn=null,Qe=!1}function Bv(){var i=Ga;return i!==null&&(yn===null?yn=i:yn.push.apply(yn,i),Ga=null),i}function pl(i){Ga===null?Ga=[i]:Ga.push(i)}var vd=ie(null),Ya=null,sr=null;function Lr(i,a,o){re(vd,a._currentValue),a._currentValue=o}function or(i){i._currentValue=vd.current,le(vd)}function yd(i,a,o){for(;i!==null;){var u=i.alternate;if((i.childLanes&a)!==a?(i.childLanes|=a,u!==null&&(u.childLanes|=a)):u!==null&&(u.childLanes&a)!==a&&(u.childLanes|=a),i===o)break;i=i.return}}function _d(i,a,o,u){var f=i.child;for(f!==null&&(f.return=i);f!==null;){var g=f.dependencies;if(g!==null){var b=f.child;g=g.firstContext;e:for(;g!==null;){var S=g;g=f;for(var U=0;U<a.length;U++)if(S.context===a[U]){g.lanes|=o,S=g.alternate,S!==null&&(S.lanes|=o),yd(g.return,o,i),u||(b=null);break e}g=S.next}}else if(f.tag===18){if(b=f.return,b===null)throw Error(r(341));b.lanes|=o,g=b.alternate,g!==null&&(g.lanes|=o),yd(b,o,i),b=null}else b=f.child;if(b!==null)b.return=f;else for(b=f;b!==null;){if(b===i){b=null;break}if(f=b.sibling,f!==null){f.return=b.return,b=f;break}b=b.return}f=b}}function gl(i,a,o,u){i=null;for(var f=a,g=!1;f!==null;){if(!g){if((f.flags&524288)!==0)g=!0;else if((f.flags&262144)!==0)break}if(f.tag===10){var b=f.alternate;if(b===null)throw Error(r(387));if(b=b.memoizedProps,b!==null){var S=f.type;An(f.pendingProps.value,b.value)||(i!==null?i.push(S):i=[S])}}else if(f===lt.current){if(b=f.alternate,b===null)throw Error(r(387));b.memoizedState.memoizedState!==f.memoizedState.memoizedState&&(i!==null?i.push($l):i=[$l])}f=f.return}i!==null&&_d(a,i,o,u),a.flags|=262144}function bc(i){for(i=i.firstContext;i!==null;){if(!An(i.context._currentValue,i.memoizedValue))return!0;i=i.next}return!1}function Qa(i){Ya=i,sr=null,i=i.dependencies,i!==null&&(i.firstContext=null)}function rn(i){return Hv(Ya,i)}function Ec(i,a){return Ya===null&&Qa(i),Hv(i,a)}function Hv(i,a){var o=a._currentValue;if(a={context:a,memoizedValue:o,next:null},sr===null){if(i===null)throw Error(r(308));sr=a,i.dependencies={lanes:0,firstContext:a},i.flags|=524288}else sr=sr.next=a;return o}var vA=typeof AbortController<"u"?AbortController:function(){var i=[],a=this.signal={aborted:!1,addEventListener:function(o,u){i.push(u)}};this.abort=function(){a.aborted=!0,i.forEach(function(o){return o()})}},yA=n.unstable_scheduleCallback,_A=n.unstable_NormalPriority,kt={$$typeof:$,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function bd(){return{controller:new vA,data:new Map,refCount:0}}function vl(i){i.refCount--,i.refCount===0&&yA(_A,function(){i.controller.abort()})}var yl=null,Ed=0,Ys=0,Qs=null;function bA(i,a){if(yl===null){var o=yl=[];Ed=0,Ys=Sm(),Qs={status:"pending",value:void 0,then:function(u){o.push(u)}}}return Ed++,a.then(qv,qv),a}function qv(){if(--Ed===0&&yl!==null){Qs!==null&&(Qs.status="fulfilled");var i=yl;yl=null,Ys=0,Qs=null;for(var a=0;a<i.length;a++)(0,i[a])()}}function EA(i,a){var o=[],u={status:"pending",value:null,reason:null,then:function(f){o.push(f)}};return i.then(function(){u.status="fulfilled",u.value=a;for(var f=0;f<o.length;f++)(0,o[f])(a)},function(f){for(u.status="rejected",u.reason=f,f=0;f<o.length;f++)(0,o[f])(void 0)}),u}var $v=W.S;W.S=function(i,a){typeof a=="object"&&a!==null&&typeof a.then=="function"&&bA(i,a),$v!==null&&$v(i,a)};var Xa=ie(null);function Td(){var i=Xa.current;return i!==null?i:ct.pooledCache}function Tc(i,a){a===null?re(Xa,Xa.current):re(Xa,a.pool)}function Gv(){var i=Td();return i===null?null:{parent:kt._currentValue,pool:i}}var _l=Error(r(460)),Kv=Error(r(474)),Sc=Error(r(542)),Sd={then:function(){}};function Yv(i){return i=i.status,i==="fulfilled"||i==="rejected"}function wc(){}function Qv(i,a,o){switch(o=i[o],o===void 0?i.push(a):o!==a&&(a.then(wc,wc),a=o),a.status){case"fulfilled":return a.value;case"rejected":throw i=a.reason,Wv(i),i;default:if(typeof a.status=="string")a.then(wc,wc);else{if(i=ct,i!==null&&100<i.shellSuspendCounter)throw Error(r(482));i=a,i.status="pending",i.then(function(u){if(a.status==="pending"){var f=a;f.status="fulfilled",f.value=u}},function(u){if(a.status==="pending"){var f=a;f.status="rejected",f.reason=u}})}switch(a.status){case"fulfilled":return a.value;case"rejected":throw i=a.reason,Wv(i),i}throw bl=a,_l}}var bl=null;function Xv(){if(bl===null)throw Error(r(459));var i=bl;return bl=null,i}function Wv(i){if(i===_l||i===Sc)throw Error(r(483))}var Ur=!1;function wd(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Ad(i,a){i=i.updateQueue,a.updateQueue===i&&(a.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,callbacks:null})}function jr(i){return{lane:i,tag:0,payload:null,callback:null,next:null}}function zr(i,a,o){var u=i.updateQueue;if(u===null)return null;if(u=u.shared,(nt&2)!==0){var f=u.pending;return f===null?a.next=a:(a.next=f.next,f.next=a),u.pending=a,a=gc(i),Lv(i,null,o),a}return pc(i,u,a,o),gc(i)}function El(i,a,o){if(a=a.updateQueue,a!==null&&(a=a.shared,(o&4194048)!==0)){var u=a.lanes;u&=i.pendingLanes,o|=u,a.lanes=o,Qo(i,o)}}function Rd(i,a){var o=i.updateQueue,u=i.alternate;if(u!==null&&(u=u.updateQueue,o===u)){var f=null,g=null;if(o=o.firstBaseUpdate,o!==null){do{var b={lane:o.lane,tag:o.tag,payload:o.payload,callback:null,next:null};g===null?f=g=b:g=g.next=b,o=o.next}while(o!==null);g===null?f=g=a:g=g.next=a}else f=g=a;o={baseState:u.baseState,firstBaseUpdate:f,lastBaseUpdate:g,shared:u.shared,callbacks:u.callbacks},i.updateQueue=o;return}i=o.lastBaseUpdate,i===null?o.firstBaseUpdate=a:i.next=a,o.lastBaseUpdate=a}var Id=!1;function Tl(){if(Id){var i=Qs;if(i!==null)throw i}}function Sl(i,a,o,u){Id=!1;var f=i.updateQueue;Ur=!1;var g=f.firstBaseUpdate,b=f.lastBaseUpdate,S=f.shared.pending;if(S!==null){f.shared.pending=null;var U=S,Y=U.next;U.next=null,b===null?g=Y:b.next=Y,b=U;var te=i.alternate;te!==null&&(te=te.updateQueue,S=te.lastBaseUpdate,S!==b&&(S===null?te.firstBaseUpdate=Y:S.next=Y,te.lastBaseUpdate=U))}if(g!==null){var ae=f.baseState;b=0,te=Y=U=null,S=g;do{var Q=S.lane&-536870913,X=Q!==S.lane;if(X?(He&Q)===Q:(u&Q)===Q){Q!==0&&Q===Ys&&(Id=!0),te!==null&&(te=te.next={lane:0,tag:S.tag,payload:S.payload,callback:null,next:null});e:{var Re=i,Te=S;Q=a;var ot=o;switch(Te.tag){case 1:if(Re=Te.payload,typeof Re=="function"){ae=Re.call(ot,ae,Q);break e}ae=Re;break e;case 3:Re.flags=Re.flags&-65537|128;case 0:if(Re=Te.payload,Q=typeof Re=="function"?Re.call(ot,ae,Q):Re,Q==null)break e;ae=y({},ae,Q);break e;case 2:Ur=!0}}Q=S.callback,Q!==null&&(i.flags|=64,X&&(i.flags|=8192),X=f.callbacks,X===null?f.callbacks=[Q]:X.push(Q))}else X={lane:Q,tag:S.tag,payload:S.payload,callback:S.callback,next:null},te===null?(Y=te=X,U=ae):te=te.next=X,b|=Q;if(S=S.next,S===null){if(S=f.shared.pending,S===null)break;X=S,S=X.next,X.next=null,f.lastBaseUpdate=X,f.shared.pending=null}}while(!0);te===null&&(U=ae),f.baseState=U,f.firstBaseUpdate=Y,f.lastBaseUpdate=te,g===null&&(f.shared.lanes=0),Yr|=b,i.lanes=b,i.memoizedState=ae}}function Zv(i,a){if(typeof i!="function")throw Error(r(191,i));i.call(a)}function Jv(i,a){var o=i.callbacks;if(o!==null)for(i.callbacks=null,i=0;i<o.length;i++)Zv(o[i],a)}var Xs=ie(null),Ac=ie(0);function ey(i,a){i=mr,re(Ac,i),re(Xs,a),mr=i|a.baseLanes}function Cd(){re(Ac,mr),re(Xs,Xs.current)}function Od(){mr=Ac.current,le(Xs),le(Ac)}var Fr=0,Ne=null,at=null,Ct=null,Rc=!1,Ws=!1,Wa=!1,Ic=0,wl=0,Zs=null,TA=0;function St(){throw Error(r(321))}function Dd(i,a){if(a===null)return!1;for(var o=0;o<a.length&&o<i.length;o++)if(!An(i[o],a[o]))return!1;return!0}function xd(i,a,o,u,f,g){return Fr=g,Ne=a,a.memoizedState=null,a.updateQueue=null,a.lanes=0,W.H=i===null||i.memoizedState===null?Ly:Uy,Wa=!1,g=o(u,f),Wa=!1,Ws&&(g=ny(a,o,u,f)),ty(i),g}function ty(i){W.H=Nc;var a=at!==null&&at.next!==null;if(Fr=0,Ct=at=Ne=null,Rc=!1,wl=0,Zs=null,a)throw Error(r(300));i===null||Bt||(i=i.dependencies,i!==null&&bc(i)&&(Bt=!0))}function ny(i,a,o,u){Ne=i;var f=0;do{if(Ws&&(Zs=null),wl=0,Ws=!1,25<=f)throw Error(r(301));if(f+=1,Ct=at=null,i.updateQueue!=null){var g=i.updateQueue;g.lastEffect=null,g.events=null,g.stores=null,g.memoCache!=null&&(g.memoCache.index=0)}W.H=OA,g=a(o,u)}while(Ws);return g}function SA(){var i=W.H,a=i.useState()[0];return a=typeof a.then=="function"?Al(a):a,i=i.useState()[0],(at!==null?at.memoizedState:null)!==i&&(Ne.flags|=1024),a}function Md(){var i=Ic!==0;return Ic=0,i}function Nd(i,a,o){a.updateQueue=i.updateQueue,a.flags&=-2053,i.lanes&=~o}function Vd(i){if(Rc){for(i=i.memoizedState;i!==null;){var a=i.queue;a!==null&&(a.pending=null),i=i.next}Rc=!1}Fr=0,Ct=at=Ne=null,Ws=!1,wl=Ic=0,Zs=null}function gn(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ct===null?Ne.memoizedState=Ct=i:Ct=Ct.next=i,Ct}function Ot(){if(at===null){var i=Ne.alternate;i=i!==null?i.memoizedState:null}else i=at.next;var a=Ct===null?Ne.memoizedState:Ct.next;if(a!==null)Ct=a,at=i;else{if(i===null)throw Ne.alternate===null?Error(r(467)):Error(r(310));at=i,i={memoizedState:at.memoizedState,baseState:at.baseState,baseQueue:at.baseQueue,queue:at.queue,next:null},Ct===null?Ne.memoizedState=Ct=i:Ct=Ct.next=i}return Ct}function Pd(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Al(i){var a=wl;return wl+=1,Zs===null&&(Zs=[]),i=Qv(Zs,i,a),a=Ne,(Ct===null?a.memoizedState:Ct.next)===null&&(a=a.alternate,W.H=a===null||a.memoizedState===null?Ly:Uy),i}function Cc(i){if(i!==null&&typeof i=="object"){if(typeof i.then=="function")return Al(i);if(i.$$typeof===$)return rn(i)}throw Error(r(438,String(i)))}function kd(i){var a=null,o=Ne.updateQueue;if(o!==null&&(a=o.memoCache),a==null){var u=Ne.alternate;u!==null&&(u=u.updateQueue,u!==null&&(u=u.memoCache,u!=null&&(a={data:u.data.map(function(f){return f.slice()}),index:0})))}if(a==null&&(a={data:[],index:0}),o===null&&(o=Pd(),Ne.updateQueue=o),o.memoCache=a,o=a.data[a.index],o===void 0)for(o=a.data[a.index]=Array(i),u=0;u<i;u++)o[u]=V;return a.index++,o}function lr(i,a){return typeof a=="function"?a(i):a}function Oc(i){var a=Ot();return Ld(a,at,i)}function Ld(i,a,o){var u=i.queue;if(u===null)throw Error(r(311));u.lastRenderedReducer=o;var f=i.baseQueue,g=u.pending;if(g!==null){if(f!==null){var b=f.next;f.next=g.next,g.next=b}a.baseQueue=f=g,u.pending=null}if(g=i.baseState,f===null)i.memoizedState=g;else{a=f.next;var S=b=null,U=null,Y=a,te=!1;do{var ae=Y.lane&-536870913;if(ae!==Y.lane?(He&ae)===ae:(Fr&ae)===ae){var Q=Y.revertLane;if(Q===0)U!==null&&(U=U.next={lane:0,revertLane:0,action:Y.action,hasEagerState:Y.hasEagerState,eagerState:Y.eagerState,next:null}),ae===Ys&&(te=!0);else if((Fr&Q)===Q){Y=Y.next,Q===Ys&&(te=!0);continue}else ae={lane:0,revertLane:Y.revertLane,action:Y.action,hasEagerState:Y.hasEagerState,eagerState:Y.eagerState,next:null},U===null?(S=U=ae,b=g):U=U.next=ae,Ne.lanes|=Q,Yr|=Q;ae=Y.action,Wa&&o(g,ae),g=Y.hasEagerState?Y.eagerState:o(g,ae)}else Q={lane:ae,revertLane:Y.revertLane,action:Y.action,hasEagerState:Y.hasEagerState,eagerState:Y.eagerState,next:null},U===null?(S=U=Q,b=g):U=U.next=Q,Ne.lanes|=ae,Yr|=ae;Y=Y.next}while(Y!==null&&Y!==a);if(U===null?b=g:U.next=S,!An(g,i.memoizedState)&&(Bt=!0,te&&(o=Qs,o!==null)))throw o;i.memoizedState=g,i.baseState=b,i.baseQueue=U,u.lastRenderedState=g}return f===null&&(u.lanes=0),[i.memoizedState,u.dispatch]}function Ud(i){var a=Ot(),o=a.queue;if(o===null)throw Error(r(311));o.lastRenderedReducer=i;var u=o.dispatch,f=o.pending,g=a.memoizedState;if(f!==null){o.pending=null;var b=f=f.next;do g=i(g,b.action),b=b.next;while(b!==f);An(g,a.memoizedState)||(Bt=!0),a.memoizedState=g,a.baseQueue===null&&(a.baseState=g),o.lastRenderedState=g}return[g,u]}function iy(i,a,o){var u=Ne,f=Ot(),g=Qe;if(g){if(o===void 0)throw Error(r(407));o=o()}else o=a();var b=!An((at||f).memoizedState,o);b&&(f.memoizedState=o,Bt=!0),f=f.queue;var S=sy.bind(null,u,f,i);if(Rl(2048,8,S,[i]),f.getSnapshot!==a||b||Ct!==null&&Ct.memoizedState.tag&1){if(u.flags|=2048,Js(9,Dc(),ay.bind(null,u,f,o,a),null),ct===null)throw Error(r(349));g||(Fr&124)!==0||ry(u,a,o)}return o}function ry(i,a,o){i.flags|=16384,i={getSnapshot:a,value:o},a=Ne.updateQueue,a===null?(a=Pd(),Ne.updateQueue=a,a.stores=[i]):(o=a.stores,o===null?a.stores=[i]:o.push(i))}function ay(i,a,o,u){a.value=o,a.getSnapshot=u,oy(a)&&ly(i)}function sy(i,a,o){return o(function(){oy(a)&&ly(i)})}function oy(i){var a=i.getSnapshot;i=i.value;try{var o=a();return!An(i,o)}catch{return!0}}function ly(i){var a=qs(i,2);a!==null&&xn(a,i,2)}function jd(i){var a=gn();if(typeof i=="function"){var o=i;if(i=o(),Wa){Sn(!0);try{o()}finally{Sn(!1)}}}return a.memoizedState=a.baseState=i,a.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:lr,lastRenderedState:i},a}function uy(i,a,o,u){return i.baseState=o,Ld(i,at,typeof u=="function"?u:lr)}function wA(i,a,o,u,f){if(Mc(i))throw Error(r(485));if(i=a.action,i!==null){var g={payload:f,action:i,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(b){g.listeners.push(b)}};W.T!==null?o(!0):g.isTransition=!1,u(g),o=a.pending,o===null?(g.next=a.pending=g,cy(a,g)):(g.next=o.next,a.pending=o.next=g)}}function cy(i,a){var o=a.action,u=a.payload,f=i.state;if(a.isTransition){var g=W.T,b={};W.T=b;try{var S=o(f,u),U=W.S;U!==null&&U(b,S),hy(i,a,S)}catch(Y){zd(i,a,Y)}finally{W.T=g}}else try{g=o(f,u),hy(i,a,g)}catch(Y){zd(i,a,Y)}}function hy(i,a,o){o!==null&&typeof o=="object"&&typeof o.then=="function"?o.then(function(u){fy(i,a,u)},function(u){return zd(i,a,u)}):fy(i,a,o)}function fy(i,a,o){a.status="fulfilled",a.value=o,dy(a),i.state=o,a=i.pending,a!==null&&(o=a.next,o===a?i.pending=null:(o=o.next,a.next=o,cy(i,o)))}function zd(i,a,o){var u=i.pending;if(i.pending=null,u!==null){u=u.next;do a.status="rejected",a.reason=o,dy(a),a=a.next;while(a!==u)}i.action=null}function dy(i){i=i.listeners;for(var a=0;a<i.length;a++)(0,i[a])()}function my(i,a){return a}function py(i,a){if(Qe){var o=ct.formState;if(o!==null){e:{var u=Ne;if(Qe){if(_t){t:{for(var f=_t,g=wi;f.nodeType!==8;){if(!g){f=null;break t}if(f=ni(f.nextSibling),f===null){f=null;break t}}g=f.data,f=g==="F!"||g==="F"?f:null}if(f){_t=ni(f.nextSibling),u=f.data==="F!";break e}}Ka(u)}u=!1}u&&(a=o[0])}}return o=gn(),o.memoizedState=o.baseState=a,u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:my,lastRenderedState:a},o.queue=u,o=Vy.bind(null,Ne,u),u.dispatch=o,u=jd(!1),g=$d.bind(null,Ne,!1,u.queue),u=gn(),f={state:a,dispatch:null,action:i,pending:null},u.queue=f,o=wA.bind(null,Ne,f,g,o),f.dispatch=o,u.memoizedState=i,[a,o,!1]}function gy(i){var a=Ot();return vy(a,at,i)}function vy(i,a,o){if(a=Ld(i,a,my)[0],i=Oc(lr)[0],typeof a=="object"&&a!==null&&typeof a.then=="function")try{var u=Al(a)}catch(b){throw b===_l?Sc:b}else u=a;a=Ot();var f=a.queue,g=f.dispatch;return o!==a.memoizedState&&(Ne.flags|=2048,Js(9,Dc(),AA.bind(null,f,o),null)),[u,g,i]}function AA(i,a){i.action=a}function yy(i){var a=Ot(),o=at;if(o!==null)return vy(a,o,i);Ot(),a=a.memoizedState,o=Ot();var u=o.queue.dispatch;return o.memoizedState=i,[a,u,!1]}function Js(i,a,o,u){return i={tag:i,create:o,deps:u,inst:a,next:null},a=Ne.updateQueue,a===null&&(a=Pd(),Ne.updateQueue=a),o=a.lastEffect,o===null?a.lastEffect=i.next=i:(u=o.next,o.next=i,i.next=u,a.lastEffect=i),i}function Dc(){return{destroy:void 0,resource:void 0}}function _y(){return Ot().memoizedState}function xc(i,a,o,u){var f=gn();u=u===void 0?null:u,Ne.flags|=i,f.memoizedState=Js(1|a,Dc(),o,u)}function Rl(i,a,o,u){var f=Ot();u=u===void 0?null:u;var g=f.memoizedState.inst;at!==null&&u!==null&&Dd(u,at.memoizedState.deps)?f.memoizedState=Js(a,g,o,u):(Ne.flags|=i,f.memoizedState=Js(1|a,g,o,u))}function by(i,a){xc(8390656,8,i,a)}function Ey(i,a){Rl(2048,8,i,a)}function Ty(i,a){return Rl(4,2,i,a)}function Sy(i,a){return Rl(4,4,i,a)}function wy(i,a){if(typeof a=="function"){i=i();var o=a(i);return function(){typeof o=="function"?o():a(null)}}if(a!=null)return i=i(),a.current=i,function(){a.current=null}}function Ay(i,a,o){o=o!=null?o.concat([i]):null,Rl(4,4,wy.bind(null,a,i),o)}function Fd(){}function Ry(i,a){var o=Ot();a=a===void 0?null:a;var u=o.memoizedState;return a!==null&&Dd(a,u[1])?u[0]:(o.memoizedState=[i,a],i)}function Iy(i,a){var o=Ot();a=a===void 0?null:a;var u=o.memoizedState;if(a!==null&&Dd(a,u[1]))return u[0];if(u=i(),Wa){Sn(!0);try{i()}finally{Sn(!1)}}return o.memoizedState=[u,a],u}function Bd(i,a,o){return o===void 0||(Fr&1073741824)!==0?i.memoizedState=a:(i.memoizedState=o,i=D_(),Ne.lanes|=i,Yr|=i,o)}function Cy(i,a,o,u){return An(o,a)?o:Xs.current!==null?(i=Bd(i,o,u),An(i,a)||(Bt=!0),i):(Fr&42)===0?(Bt=!0,i.memoizedState=o):(i=D_(),Ne.lanes|=i,Yr|=i,a)}function Oy(i,a,o,u,f){var g=J.p;J.p=g!==0&&8>g?g:8;var b=W.T,S={};W.T=S,$d(i,!1,a,o);try{var U=f(),Y=W.S;if(Y!==null&&Y(S,U),U!==null&&typeof U=="object"&&typeof U.then=="function"){var te=EA(U,u);Il(i,a,te,Dn(i))}else Il(i,a,u,Dn(i))}catch(ae){Il(i,a,{then:function(){},status:"rejected",reason:ae},Dn())}finally{J.p=g,W.T=b}}function RA(){}function Hd(i,a,o,u){if(i.tag!==5)throw Error(r(476));var f=Dy(i).queue;Oy(i,f,a,he,o===null?RA:function(){return xy(i),o(u)})}function Dy(i){var a=i.memoizedState;if(a!==null)return a;a={memoizedState:he,baseState:he,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:lr,lastRenderedState:he},next:null};var o={};return a.next={memoizedState:o,baseState:o,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:lr,lastRenderedState:o},next:null},i.memoizedState=a,i=i.alternate,i!==null&&(i.memoizedState=a),a}function xy(i){var a=Dy(i).next.queue;Il(i,a,{},Dn())}function qd(){return rn($l)}function My(){return Ot().memoizedState}function Ny(){return Ot().memoizedState}function IA(i){for(var a=i.return;a!==null;){switch(a.tag){case 24:case 3:var o=Dn();i=jr(o);var u=zr(a,i,o);u!==null&&(xn(u,a,o),El(u,a,o)),a={cache:bd()},i.payload=a;return}a=a.return}}function CA(i,a,o){var u=Dn();o={lane:u,revertLane:0,action:o,hasEagerState:!1,eagerState:null,next:null},Mc(i)?Py(a,o):(o=cd(i,a,o,u),o!==null&&(xn(o,i,u),ky(o,a,u)))}function Vy(i,a,o){var u=Dn();Il(i,a,o,u)}function Il(i,a,o,u){var f={lane:u,revertLane:0,action:o,hasEagerState:!1,eagerState:null,next:null};if(Mc(i))Py(a,f);else{var g=i.alternate;if(i.lanes===0&&(g===null||g.lanes===0)&&(g=a.lastRenderedReducer,g!==null))try{var b=a.lastRenderedState,S=g(b,o);if(f.hasEagerState=!0,f.eagerState=S,An(S,b))return pc(i,a,f,0),ct===null&&mc(),!1}catch{}finally{}if(o=cd(i,a,f,u),o!==null)return xn(o,i,u),ky(o,a,u),!0}return!1}function $d(i,a,o,u){if(u={lane:2,revertLane:Sm(),action:u,hasEagerState:!1,eagerState:null,next:null},Mc(i)){if(a)throw Error(r(479))}else a=cd(i,o,u,2),a!==null&&xn(a,i,2)}function Mc(i){var a=i.alternate;return i===Ne||a!==null&&a===Ne}function Py(i,a){Ws=Rc=!0;var o=i.pending;o===null?a.next=a:(a.next=o.next,o.next=a),i.pending=a}function ky(i,a,o){if((o&4194048)!==0){var u=a.lanes;u&=i.pendingLanes,o|=u,a.lanes=o,Qo(i,o)}}var Nc={readContext:rn,use:Cc,useCallback:St,useContext:St,useEffect:St,useImperativeHandle:St,useLayoutEffect:St,useInsertionEffect:St,useMemo:St,useReducer:St,useRef:St,useState:St,useDebugValue:St,useDeferredValue:St,useTransition:St,useSyncExternalStore:St,useId:St,useHostTransitionStatus:St,useFormState:St,useActionState:St,useOptimistic:St,useMemoCache:St,useCacheRefresh:St},Ly={readContext:rn,use:Cc,useCallback:function(i,a){return gn().memoizedState=[i,a===void 0?null:a],i},useContext:rn,useEffect:by,useImperativeHandle:function(i,a,o){o=o!=null?o.concat([i]):null,xc(4194308,4,wy.bind(null,a,i),o)},useLayoutEffect:function(i,a){return xc(4194308,4,i,a)},useInsertionEffect:function(i,a){xc(4,2,i,a)},useMemo:function(i,a){var o=gn();a=a===void 0?null:a;var u=i();if(Wa){Sn(!0);try{i()}finally{Sn(!1)}}return o.memoizedState=[u,a],u},useReducer:function(i,a,o){var u=gn();if(o!==void 0){var f=o(a);if(Wa){Sn(!0);try{o(a)}finally{Sn(!1)}}}else f=a;return u.memoizedState=u.baseState=f,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:f},u.queue=i,i=i.dispatch=CA.bind(null,Ne,i),[u.memoizedState,i]},useRef:function(i){var a=gn();return i={current:i},a.memoizedState=i},useState:function(i){i=jd(i);var a=i.queue,o=Vy.bind(null,Ne,a);return a.dispatch=o,[i.memoizedState,o]},useDebugValue:Fd,useDeferredValue:function(i,a){var o=gn();return Bd(o,i,a)},useTransition:function(){var i=jd(!1);return i=Oy.bind(null,Ne,i.queue,!0,!1),gn().memoizedState=i,[!1,i]},useSyncExternalStore:function(i,a,o){var u=Ne,f=gn();if(Qe){if(o===void 0)throw Error(r(407));o=o()}else{if(o=a(),ct===null)throw Error(r(349));(He&124)!==0||ry(u,a,o)}f.memoizedState=o;var g={value:o,getSnapshot:a};return f.queue=g,by(sy.bind(null,u,g,i),[i]),u.flags|=2048,Js(9,Dc(),ay.bind(null,u,g,o,a),null),o},useId:function(){var i=gn(),a=ct.identifierPrefix;if(Qe){var o=ar,u=rr;o=(u&~(1<<32-nn(u)-1)).toString(32)+o,a=""+a+"R"+o,o=Ic++,0<o&&(a+="H"+o.toString(32)),a+=""}else o=TA++,a=""+a+"r"+o.toString(32)+"";return i.memoizedState=a},useHostTransitionStatus:qd,useFormState:py,useActionState:py,useOptimistic:function(i){var a=gn();a.memoizedState=a.baseState=i;var o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return a.queue=o,a=$d.bind(null,Ne,!0,o),o.dispatch=a,[i,a]},useMemoCache:kd,useCacheRefresh:function(){return gn().memoizedState=IA.bind(null,Ne)}},Uy={readContext:rn,use:Cc,useCallback:Ry,useContext:rn,useEffect:Ey,useImperativeHandle:Ay,useInsertionEffect:Ty,useLayoutEffect:Sy,useMemo:Iy,useReducer:Oc,useRef:_y,useState:function(){return Oc(lr)},useDebugValue:Fd,useDeferredValue:function(i,a){var o=Ot();return Cy(o,at.memoizedState,i,a)},useTransition:function(){var i=Oc(lr)[0],a=Ot().memoizedState;return[typeof i=="boolean"?i:Al(i),a]},useSyncExternalStore:iy,useId:My,useHostTransitionStatus:qd,useFormState:gy,useActionState:gy,useOptimistic:function(i,a){var o=Ot();return uy(o,at,i,a)},useMemoCache:kd,useCacheRefresh:Ny},OA={readContext:rn,use:Cc,useCallback:Ry,useContext:rn,useEffect:Ey,useImperativeHandle:Ay,useInsertionEffect:Ty,useLayoutEffect:Sy,useMemo:Iy,useReducer:Ud,useRef:_y,useState:function(){return Ud(lr)},useDebugValue:Fd,useDeferredValue:function(i,a){var o=Ot();return at===null?Bd(o,i,a):Cy(o,at.memoizedState,i,a)},useTransition:function(){var i=Ud(lr)[0],a=Ot().memoizedState;return[typeof i=="boolean"?i:Al(i),a]},useSyncExternalStore:iy,useId:My,useHostTransitionStatus:qd,useFormState:yy,useActionState:yy,useOptimistic:function(i,a){var o=Ot();return at!==null?uy(o,at,i,a):(o.baseState=i,[i,o.queue.dispatch])},useMemoCache:kd,useCacheRefresh:Ny},eo=null,Cl=0;function Vc(i){var a=Cl;return Cl+=1,eo===null&&(eo=[]),Qv(eo,i,a)}function Ol(i,a){a=a.props.ref,i.ref=a!==void 0?a:null}function Pc(i,a){throw a.$$typeof===E?Error(r(525)):(i=Object.prototype.toString.call(a),Error(r(31,i==="[object Object]"?"object with keys {"+Object.keys(a).join(", ")+"}":i)))}function jy(i){var a=i._init;return a(i._payload)}function zy(i){function a(H,F){if(i){var K=H.deletions;K===null?(H.deletions=[F],H.flags|=16):K.push(F)}}function o(H,F){if(!i)return null;for(;F!==null;)a(H,F),F=F.sibling;return null}function u(H){for(var F=new Map;H!==null;)H.key!==null?F.set(H.key,H):F.set(H.index,H),H=H.sibling;return F}function f(H,F){return H=ir(H,F),H.index=0,H.sibling=null,H}function g(H,F,K){return H.index=K,i?(K=H.alternate,K!==null?(K=K.index,K<F?(H.flags|=67108866,F):K):(H.flags|=67108866,F)):(H.flags|=1048576,F)}function b(H){return i&&H.alternate===null&&(H.flags|=67108866),H}function S(H,F,K,ne){return F===null||F.tag!==6?(F=fd(K,H.mode,ne),F.return=H,F):(F=f(F,K),F.return=H,F)}function U(H,F,K,ne){var me=K.type;return me===C?te(H,F,K.props.children,ne,K.key):F!==null&&(F.elementType===me||typeof me=="object"&&me!==null&&me.$$typeof===A&&jy(me)===F.type)?(F=f(F,K.props),Ol(F,K),F.return=H,F):(F=vc(K.type,K.key,K.props,null,H.mode,ne),Ol(F,K),F.return=H,F)}function Y(H,F,K,ne){return F===null||F.tag!==4||F.stateNode.containerInfo!==K.containerInfo||F.stateNode.implementation!==K.implementation?(F=dd(K,H.mode,ne),F.return=H,F):(F=f(F,K.children||[]),F.return=H,F)}function te(H,F,K,ne,me){return F===null||F.tag!==7?(F=Ha(K,H.mode,ne,me),F.return=H,F):(F=f(F,K),F.return=H,F)}function ae(H,F,K){if(typeof F=="string"&&F!==""||typeof F=="number"||typeof F=="bigint")return F=fd(""+F,H.mode,K),F.return=H,F;if(typeof F=="object"&&F!==null){switch(F.$$typeof){case T:return K=vc(F.type,F.key,F.props,null,H.mode,K),Ol(K,F),K.return=H,K;case R:return F=dd(F,H.mode,K),F.return=H,F;case A:var ne=F._init;return F=ne(F._payload),ae(H,F,K)}if(Oe(F)||B(F))return F=Ha(F,H.mode,K,null),F.return=H,F;if(typeof F.then=="function")return ae(H,Vc(F),K);if(F.$$typeof===$)return ae(H,Ec(H,F),K);Pc(H,F)}return null}function Q(H,F,K,ne){var me=F!==null?F.key:null;if(typeof K=="string"&&K!==""||typeof K=="number"||typeof K=="bigint")return me!==null?null:S(H,F,""+K,ne);if(typeof K=="object"&&K!==null){switch(K.$$typeof){case T:return K.key===me?U(H,F,K,ne):null;case R:return K.key===me?Y(H,F,K,ne):null;case A:return me=K._init,K=me(K._payload),Q(H,F,K,ne)}if(Oe(K)||B(K))return me!==null?null:te(H,F,K,ne,null);if(typeof K.then=="function")return Q(H,F,Vc(K),ne);if(K.$$typeof===$)return Q(H,F,Ec(H,K),ne);Pc(H,K)}return null}function X(H,F,K,ne,me){if(typeof ne=="string"&&ne!==""||typeof ne=="number"||typeof ne=="bigint")return H=H.get(K)||null,S(F,H,""+ne,me);if(typeof ne=="object"&&ne!==null){switch(ne.$$typeof){case T:return H=H.get(ne.key===null?K:ne.key)||null,U(F,H,ne,me);case R:return H=H.get(ne.key===null?K:ne.key)||null,Y(F,H,ne,me);case A:var Pe=ne._init;return ne=Pe(ne._payload),X(H,F,K,ne,me)}if(Oe(ne)||B(ne))return H=H.get(K)||null,te(F,H,ne,me,null);if(typeof ne.then=="function")return X(H,F,K,Vc(ne),me);if(ne.$$typeof===$)return X(H,F,K,Ec(F,ne),me);Pc(F,ne)}return null}function Re(H,F,K,ne){for(var me=null,Pe=null,ge=F,Se=F=0,qt=null;ge!==null&&Se<K.length;Se++){ge.index>Se?(qt=ge,ge=null):qt=ge.sibling;var $e=Q(H,ge,K[Se],ne);if($e===null){ge===null&&(ge=qt);break}i&&ge&&$e.alternate===null&&a(H,ge),F=g($e,F,Se),Pe===null?me=$e:Pe.sibling=$e,Pe=$e,ge=qt}if(Se===K.length)return o(H,ge),Qe&&$a(H,Se),me;if(ge===null){for(;Se<K.length;Se++)ge=ae(H,K[Se],ne),ge!==null&&(F=g(ge,F,Se),Pe===null?me=ge:Pe.sibling=ge,Pe=ge);return Qe&&$a(H,Se),me}for(ge=u(ge);Se<K.length;Se++)qt=X(ge,H,Se,K[Se],ne),qt!==null&&(i&&qt.alternate!==null&&ge.delete(qt.key===null?Se:qt.key),F=g(qt,F,Se),Pe===null?me=qt:Pe.sibling=qt,Pe=qt);return i&&ge.forEach(function(ia){return a(H,ia)}),Qe&&$a(H,Se),me}function Te(H,F,K,ne){if(K==null)throw Error(r(151));for(var me=null,Pe=null,ge=F,Se=F=0,qt=null,$e=K.next();ge!==null&&!$e.done;Se++,$e=K.next()){ge.index>Se?(qt=ge,ge=null):qt=ge.sibling;var ia=Q(H,ge,$e.value,ne);if(ia===null){ge===null&&(ge=qt);break}i&&ge&&ia.alternate===null&&a(H,ge),F=g(ia,F,Se),Pe===null?me=ia:Pe.sibling=ia,Pe=ia,ge=qt}if($e.done)return o(H,ge),Qe&&$a(H,Se),me;if(ge===null){for(;!$e.done;Se++,$e=K.next())$e=ae(H,$e.value,ne),$e!==null&&(F=g($e,F,Se),Pe===null?me=$e:Pe.sibling=$e,Pe=$e);return Qe&&$a(H,Se),me}for(ge=u(ge);!$e.done;Se++,$e=K.next())$e=X(ge,H,Se,$e.value,ne),$e!==null&&(i&&$e.alternate!==null&&ge.delete($e.key===null?Se:$e.key),F=g($e,F,Se),Pe===null?me=$e:Pe.sibling=$e,Pe=$e);return i&&ge.forEach(function(DR){return a(H,DR)}),Qe&&$a(H,Se),me}function ot(H,F,K,ne){if(typeof K=="object"&&K!==null&&K.type===C&&K.key===null&&(K=K.props.children),typeof K=="object"&&K!==null){switch(K.$$typeof){case T:e:{for(var me=K.key;F!==null;){if(F.key===me){if(me=K.type,me===C){if(F.tag===7){o(H,F.sibling),ne=f(F,K.props.children),ne.return=H,H=ne;break e}}else if(F.elementType===me||typeof me=="object"&&me!==null&&me.$$typeof===A&&jy(me)===F.type){o(H,F.sibling),ne=f(F,K.props),Ol(ne,K),ne.return=H,H=ne;break e}o(H,F);break}else a(H,F);F=F.sibling}K.type===C?(ne=Ha(K.props.children,H.mode,ne,K.key),ne.return=H,H=ne):(ne=vc(K.type,K.key,K.props,null,H.mode,ne),Ol(ne,K),ne.return=H,H=ne)}return b(H);case R:e:{for(me=K.key;F!==null;){if(F.key===me)if(F.tag===4&&F.stateNode.containerInfo===K.containerInfo&&F.stateNode.implementation===K.implementation){o(H,F.sibling),ne=f(F,K.children||[]),ne.return=H,H=ne;break e}else{o(H,F);break}else a(H,F);F=F.sibling}ne=dd(K,H.mode,ne),ne.return=H,H=ne}return b(H);case A:return me=K._init,K=me(K._payload),ot(H,F,K,ne)}if(Oe(K))return Re(H,F,K,ne);if(B(K)){if(me=B(K),typeof me!="function")throw Error(r(150));return K=me.call(K),Te(H,F,K,ne)}if(typeof K.then=="function")return ot(H,F,Vc(K),ne);if(K.$$typeof===$)return ot(H,F,Ec(H,K),ne);Pc(H,K)}return typeof K=="string"&&K!==""||typeof K=="number"||typeof K=="bigint"?(K=""+K,F!==null&&F.tag===6?(o(H,F.sibling),ne=f(F,K),ne.return=H,H=ne):(o(H,F),ne=fd(K,H.mode,ne),ne.return=H,H=ne),b(H)):o(H,F)}return function(H,F,K,ne){try{Cl=0;var me=ot(H,F,K,ne);return eo=null,me}catch(ge){if(ge===_l||ge===Sc)throw ge;var Pe=Rn(29,ge,null,H.mode);return Pe.lanes=ne,Pe.return=H,Pe}finally{}}}var to=zy(!0),Fy=zy(!1),$n=ie(null),Ai=null;function Br(i){var a=i.alternate;re(Lt,Lt.current&1),re($n,i),Ai===null&&(a===null||Xs.current!==null||a.memoizedState!==null)&&(Ai=i)}function By(i){if(i.tag===22){if(re(Lt,Lt.current),re($n,i),Ai===null){var a=i.alternate;a!==null&&a.memoizedState!==null&&(Ai=i)}}else Hr()}function Hr(){re(Lt,Lt.current),re($n,$n.current)}function ur(i){le($n),Ai===i&&(Ai=null),le(Lt)}var Lt=ie(0);function kc(i){for(var a=i;a!==null;){if(a.tag===13){var o=a.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||o.data==="$?"||Pm(o)))return a}else if(a.tag===19&&a.memoizedProps.revealOrder!==void 0){if((a.flags&128)!==0)return a}else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===i)break;for(;a.sibling===null;){if(a.return===null||a.return===i)return null;a=a.return}a.sibling.return=a.return,a=a.sibling}return null}function Gd(i,a,o,u){a=i.memoizedState,o=o(u,a),o=o==null?a:y({},a,o),i.memoizedState=o,i.lanes===0&&(i.updateQueue.baseState=o)}var Kd={enqueueSetState:function(i,a,o){i=i._reactInternals;var u=Dn(),f=jr(u);f.payload=a,o!=null&&(f.callback=o),a=zr(i,f,u),a!==null&&(xn(a,i,u),El(a,i,u))},enqueueReplaceState:function(i,a,o){i=i._reactInternals;var u=Dn(),f=jr(u);f.tag=1,f.payload=a,o!=null&&(f.callback=o),a=zr(i,f,u),a!==null&&(xn(a,i,u),El(a,i,u))},enqueueForceUpdate:function(i,a){i=i._reactInternals;var o=Dn(),u=jr(o);u.tag=2,a!=null&&(u.callback=a),a=zr(i,u,o),a!==null&&(xn(a,i,o),El(a,i,o))}};function Hy(i,a,o,u,f,g,b){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(u,g,b):a.prototype&&a.prototype.isPureReactComponent?!hl(o,u)||!hl(f,g):!0}function qy(i,a,o,u){i=a.state,typeof a.componentWillReceiveProps=="function"&&a.componentWillReceiveProps(o,u),typeof a.UNSAFE_componentWillReceiveProps=="function"&&a.UNSAFE_componentWillReceiveProps(o,u),a.state!==i&&Kd.enqueueReplaceState(a,a.state,null)}function Za(i,a){var o=a;if("ref"in a){o={};for(var u in a)u!=="ref"&&(o[u]=a[u])}if(i=i.defaultProps){o===a&&(o=y({},o));for(var f in i)o[f]===void 0&&(o[f]=i[f])}return o}var Lc=typeof reportError=="function"?reportError:function(i){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var a=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof i=="object"&&i!==null&&typeof i.message=="string"?String(i.message):String(i),error:i});if(!window.dispatchEvent(a))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",i);return}console.error(i)};function $y(i){Lc(i)}function Gy(i){console.error(i)}function Ky(i){Lc(i)}function Uc(i,a){try{var o=i.onUncaughtError;o(a.value,{componentStack:a.stack})}catch(u){setTimeout(function(){throw u})}}function Yy(i,a,o){try{var u=i.onCaughtError;u(o.value,{componentStack:o.stack,errorBoundary:a.tag===1?a.stateNode:null})}catch(f){setTimeout(function(){throw f})}}function Yd(i,a,o){return o=jr(o),o.tag=3,o.payload={element:null},o.callback=function(){Uc(i,a)},o}function Qy(i){return i=jr(i),i.tag=3,i}function Xy(i,a,o,u){var f=o.type.getDerivedStateFromError;if(typeof f=="function"){var g=u.value;i.payload=function(){return f(g)},i.callback=function(){Yy(a,o,u)}}var b=o.stateNode;b!==null&&typeof b.componentDidCatch=="function"&&(i.callback=function(){Yy(a,o,u),typeof f!="function"&&(Qr===null?Qr=new Set([this]):Qr.add(this));var S=u.stack;this.componentDidCatch(u.value,{componentStack:S!==null?S:""})})}function DA(i,a,o,u,f){if(o.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){if(a=o.alternate,a!==null&&gl(a,o,f,!0),o=$n.current,o!==null){switch(o.tag){case 13:return Ai===null?ym():o.alternate===null&&bt===0&&(bt=3),o.flags&=-257,o.flags|=65536,o.lanes=f,u===Sd?o.flags|=16384:(a=o.updateQueue,a===null?o.updateQueue=new Set([u]):a.add(u),bm(i,u,f)),!1;case 22:return o.flags|=65536,u===Sd?o.flags|=16384:(a=o.updateQueue,a===null?(a={transitions:null,markerInstances:null,retryQueue:new Set([u])},o.updateQueue=a):(o=a.retryQueue,o===null?a.retryQueue=new Set([u]):o.add(u)),bm(i,u,f)),!1}throw Error(r(435,o.tag))}return bm(i,u,f),ym(),!1}if(Qe)return a=$n.current,a!==null?((a.flags&65536)===0&&(a.flags|=256),a.flags|=65536,a.lanes=f,u!==gd&&(i=Error(r(422),{cause:u}),pl(Fn(i,o)))):(u!==gd&&(a=Error(r(423),{cause:u}),pl(Fn(a,o))),i=i.current.alternate,i.flags|=65536,f&=-f,i.lanes|=f,u=Fn(u,o),f=Yd(i.stateNode,u,f),Rd(i,f),bt!==4&&(bt=2)),!1;var g=Error(r(520),{cause:u});if(g=Fn(g,o),kl===null?kl=[g]:kl.push(g),bt!==4&&(bt=2),a===null)return!0;u=Fn(u,o),o=a;do{switch(o.tag){case 3:return o.flags|=65536,i=f&-f,o.lanes|=i,i=Yd(o.stateNode,u,i),Rd(o,i),!1;case 1:if(a=o.type,g=o.stateNode,(o.flags&128)===0&&(typeof a.getDerivedStateFromError=="function"||g!==null&&typeof g.componentDidCatch=="function"&&(Qr===null||!Qr.has(g))))return o.flags|=65536,f&=-f,o.lanes|=f,f=Qy(f),Xy(f,i,o,u),Rd(o,f),!1}o=o.return}while(o!==null);return!1}var Wy=Error(r(461)),Bt=!1;function Qt(i,a,o,u){a.child=i===null?Fy(a,null,o,u):to(a,i.child,o,u)}function Zy(i,a,o,u,f){o=o.render;var g=a.ref;if("ref"in u){var b={};for(var S in u)S!=="ref"&&(b[S]=u[S])}else b=u;return Qa(a),u=xd(i,a,o,b,g,f),S=Md(),i!==null&&!Bt?(Nd(i,a,f),cr(i,a,f)):(Qe&&S&&md(a),a.flags|=1,Qt(i,a,u,f),a.child)}function Jy(i,a,o,u,f){if(i===null){var g=o.type;return typeof g=="function"&&!hd(g)&&g.defaultProps===void 0&&o.compare===null?(a.tag=15,a.type=g,e_(i,a,g,u,f)):(i=vc(o.type,null,u,a,a.mode,f),i.ref=a.ref,i.return=a,a.child=i)}if(g=i.child,!nm(i,f)){var b=g.memoizedProps;if(o=o.compare,o=o!==null?o:hl,o(b,u)&&i.ref===a.ref)return cr(i,a,f)}return a.flags|=1,i=ir(g,u),i.ref=a.ref,i.return=a,a.child=i}function e_(i,a,o,u,f){if(i!==null){var g=i.memoizedProps;if(hl(g,u)&&i.ref===a.ref)if(Bt=!1,a.pendingProps=u=g,nm(i,f))(i.flags&131072)!==0&&(Bt=!0);else return a.lanes=i.lanes,cr(i,a,f)}return Qd(i,a,o,u,f)}function t_(i,a,o){var u=a.pendingProps,f=u.children,g=i!==null?i.memoizedState:null;if(u.mode==="hidden"){if((a.flags&128)!==0){if(u=g!==null?g.baseLanes|o:o,i!==null){for(f=a.child=i.child,g=0;f!==null;)g=g|f.lanes|f.childLanes,f=f.sibling;a.childLanes=g&~u}else a.childLanes=0,a.child=null;return n_(i,a,u,o)}if((o&536870912)!==0)a.memoizedState={baseLanes:0,cachePool:null},i!==null&&Tc(a,g!==null?g.cachePool:null),g!==null?ey(a,g):Cd(),By(a);else return a.lanes=a.childLanes=536870912,n_(i,a,g!==null?g.baseLanes|o:o,o)}else g!==null?(Tc(a,g.cachePool),ey(a,g),Hr(),a.memoizedState=null):(i!==null&&Tc(a,null),Cd(),Hr());return Qt(i,a,f,o),a.child}function n_(i,a,o,u){var f=Td();return f=f===null?null:{parent:kt._currentValue,pool:f},a.memoizedState={baseLanes:o,cachePool:f},i!==null&&Tc(a,null),Cd(),By(a),i!==null&&gl(i,a,u,!0),null}function jc(i,a){var o=a.ref;if(o===null)i!==null&&i.ref!==null&&(a.flags|=4194816);else{if(typeof o!="function"&&typeof o!="object")throw Error(r(284));(i===null||i.ref!==o)&&(a.flags|=4194816)}}function Qd(i,a,o,u,f){return Qa(a),o=xd(i,a,o,u,void 0,f),u=Md(),i!==null&&!Bt?(Nd(i,a,f),cr(i,a,f)):(Qe&&u&&md(a),a.flags|=1,Qt(i,a,o,f),a.child)}function i_(i,a,o,u,f,g){return Qa(a),a.updateQueue=null,o=ny(a,u,o,f),ty(i),u=Md(),i!==null&&!Bt?(Nd(i,a,g),cr(i,a,g)):(Qe&&u&&md(a),a.flags|=1,Qt(i,a,o,g),a.child)}function r_(i,a,o,u,f){if(Qa(a),a.stateNode===null){var g=$s,b=o.contextType;typeof b=="object"&&b!==null&&(g=rn(b)),g=new o(u,g),a.memoizedState=g.state!==null&&g.state!==void 0?g.state:null,g.updater=Kd,a.stateNode=g,g._reactInternals=a,g=a.stateNode,g.props=u,g.state=a.memoizedState,g.refs={},wd(a),b=o.contextType,g.context=typeof b=="object"&&b!==null?rn(b):$s,g.state=a.memoizedState,b=o.getDerivedStateFromProps,typeof b=="function"&&(Gd(a,o,b,u),g.state=a.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof g.getSnapshotBeforeUpdate=="function"||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(b=g.state,typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount(),b!==g.state&&Kd.enqueueReplaceState(g,g.state,null),Sl(a,u,g,f),Tl(),g.state=a.memoizedState),typeof g.componentDidMount=="function"&&(a.flags|=4194308),u=!0}else if(i===null){g=a.stateNode;var S=a.memoizedProps,U=Za(o,S);g.props=U;var Y=g.context,te=o.contextType;b=$s,typeof te=="object"&&te!==null&&(b=rn(te));var ae=o.getDerivedStateFromProps;te=typeof ae=="function"||typeof g.getSnapshotBeforeUpdate=="function",S=a.pendingProps!==S,te||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(S||Y!==b)&&qy(a,g,u,b),Ur=!1;var Q=a.memoizedState;g.state=Q,Sl(a,u,g,f),Tl(),Y=a.memoizedState,S||Q!==Y||Ur?(typeof ae=="function"&&(Gd(a,o,ae,u),Y=a.memoizedState),(U=Ur||Hy(a,o,U,u,Q,Y,b))?(te||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount()),typeof g.componentDidMount=="function"&&(a.flags|=4194308)):(typeof g.componentDidMount=="function"&&(a.flags|=4194308),a.memoizedProps=u,a.memoizedState=Y),g.props=u,g.state=Y,g.context=b,u=U):(typeof g.componentDidMount=="function"&&(a.flags|=4194308),u=!1)}else{g=a.stateNode,Ad(i,a),b=a.memoizedProps,te=Za(o,b),g.props=te,ae=a.pendingProps,Q=g.context,Y=o.contextType,U=$s,typeof Y=="object"&&Y!==null&&(U=rn(Y)),S=o.getDerivedStateFromProps,(Y=typeof S=="function"||typeof g.getSnapshotBeforeUpdate=="function")||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(b!==ae||Q!==U)&&qy(a,g,u,U),Ur=!1,Q=a.memoizedState,g.state=Q,Sl(a,u,g,f),Tl();var X=a.memoizedState;b!==ae||Q!==X||Ur||i!==null&&i.dependencies!==null&&bc(i.dependencies)?(typeof S=="function"&&(Gd(a,o,S,u),X=a.memoizedState),(te=Ur||Hy(a,o,te,u,Q,X,U)||i!==null&&i.dependencies!==null&&bc(i.dependencies))?(Y||typeof g.UNSAFE_componentWillUpdate!="function"&&typeof g.componentWillUpdate!="function"||(typeof g.componentWillUpdate=="function"&&g.componentWillUpdate(u,X,U),typeof g.UNSAFE_componentWillUpdate=="function"&&g.UNSAFE_componentWillUpdate(u,X,U)),typeof g.componentDidUpdate=="function"&&(a.flags|=4),typeof g.getSnapshotBeforeUpdate=="function"&&(a.flags|=1024)):(typeof g.componentDidUpdate!="function"||b===i.memoizedProps&&Q===i.memoizedState||(a.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||b===i.memoizedProps&&Q===i.memoizedState||(a.flags|=1024),a.memoizedProps=u,a.memoizedState=X),g.props=u,g.state=X,g.context=U,u=te):(typeof g.componentDidUpdate!="function"||b===i.memoizedProps&&Q===i.memoizedState||(a.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||b===i.memoizedProps&&Q===i.memoizedState||(a.flags|=1024),u=!1)}return g=u,jc(i,a),u=(a.flags&128)!==0,g||u?(g=a.stateNode,o=u&&typeof o.getDerivedStateFromError!="function"?null:g.render(),a.flags|=1,i!==null&&u?(a.child=to(a,i.child,null,f),a.child=to(a,null,o,f)):Qt(i,a,o,f),a.memoizedState=g.state,i=a.child):i=cr(i,a,f),i}function a_(i,a,o,u){return ml(),a.flags|=256,Qt(i,a,o,u),a.child}var Xd={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Wd(i){return{baseLanes:i,cachePool:Gv()}}function Zd(i,a,o){return i=i!==null?i.childLanes&~o:0,a&&(i|=Gn),i}function s_(i,a,o){var u=a.pendingProps,f=!1,g=(a.flags&128)!==0,b;if((b=g)||(b=i!==null&&i.memoizedState===null?!1:(Lt.current&2)!==0),b&&(f=!0,a.flags&=-129),b=(a.flags&32)!==0,a.flags&=-33,i===null){if(Qe){if(f?Br(a):Hr(),Qe){var S=_t,U;if(U=S){e:{for(U=S,S=wi;U.nodeType!==8;){if(!S){S=null;break e}if(U=ni(U.nextSibling),U===null){S=null;break e}}S=U}S!==null?(a.memoizedState={dehydrated:S,treeContext:qa!==null?{id:rr,overflow:ar}:null,retryLane:536870912,hydrationErrors:null},U=Rn(18,null,null,0),U.stateNode=S,U.return=a,a.child=U,pn=a,_t=null,U=!0):U=!1}U||Ka(a)}if(S=a.memoizedState,S!==null&&(S=S.dehydrated,S!==null))return Pm(S)?a.lanes=32:a.lanes=536870912,null;ur(a)}return S=u.children,u=u.fallback,f?(Hr(),f=a.mode,S=zc({mode:"hidden",children:S},f),u=Ha(u,f,o,null),S.return=a,u.return=a,S.sibling=u,a.child=S,f=a.child,f.memoizedState=Wd(o),f.childLanes=Zd(i,b,o),a.memoizedState=Xd,u):(Br(a),Jd(a,S))}if(U=i.memoizedState,U!==null&&(S=U.dehydrated,S!==null)){if(g)a.flags&256?(Br(a),a.flags&=-257,a=em(i,a,o)):a.memoizedState!==null?(Hr(),a.child=i.child,a.flags|=128,a=null):(Hr(),f=u.fallback,S=a.mode,u=zc({mode:"visible",children:u.children},S),f=Ha(f,S,o,null),f.flags|=2,u.return=a,f.return=a,u.sibling=f,a.child=u,to(a,i.child,null,o),u=a.child,u.memoizedState=Wd(o),u.childLanes=Zd(i,b,o),a.memoizedState=Xd,a=f);else if(Br(a),Pm(S)){if(b=S.nextSibling&&S.nextSibling.dataset,b)var Y=b.dgst;b=Y,u=Error(r(419)),u.stack="",u.digest=b,pl({value:u,source:null,stack:null}),a=em(i,a,o)}else if(Bt||gl(i,a,o,!1),b=(o&i.childLanes)!==0,Bt||b){if(b=ct,b!==null&&(u=o&-o,u=(u&42)!==0?1:Dr(u),u=(u&(b.suspendedLanes|o))!==0?0:u,u!==0&&u!==U.retryLane))throw U.retryLane=u,qs(i,u),xn(b,i,u),Wy;S.data==="$?"||ym(),a=em(i,a,o)}else S.data==="$?"?(a.flags|=192,a.child=i.child,a=null):(i=U.treeContext,_t=ni(S.nextSibling),pn=a,Qe=!0,Ga=null,wi=!1,i!==null&&(Hn[qn++]=rr,Hn[qn++]=ar,Hn[qn++]=qa,rr=i.id,ar=i.overflow,qa=a),a=Jd(a,u.children),a.flags|=4096);return a}return f?(Hr(),f=u.fallback,S=a.mode,U=i.child,Y=U.sibling,u=ir(U,{mode:"hidden",children:u.children}),u.subtreeFlags=U.subtreeFlags&65011712,Y!==null?f=ir(Y,f):(f=Ha(f,S,o,null),f.flags|=2),f.return=a,u.return=a,u.sibling=f,a.child=u,u=f,f=a.child,S=i.child.memoizedState,S===null?S=Wd(o):(U=S.cachePool,U!==null?(Y=kt._currentValue,U=U.parent!==Y?{parent:Y,pool:Y}:U):U=Gv(),S={baseLanes:S.baseLanes|o,cachePool:U}),f.memoizedState=S,f.childLanes=Zd(i,b,o),a.memoizedState=Xd,u):(Br(a),o=i.child,i=o.sibling,o=ir(o,{mode:"visible",children:u.children}),o.return=a,o.sibling=null,i!==null&&(b=a.deletions,b===null?(a.deletions=[i],a.flags|=16):b.push(i)),a.child=o,a.memoizedState=null,o)}function Jd(i,a){return a=zc({mode:"visible",children:a},i.mode),a.return=i,i.child=a}function zc(i,a){return i=Rn(22,i,null,a),i.lanes=0,i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},i}function em(i,a,o){return to(a,i.child,null,o),i=Jd(a,a.pendingProps.children),i.flags|=2,a.memoizedState=null,i}function o_(i,a,o){i.lanes|=a;var u=i.alternate;u!==null&&(u.lanes|=a),yd(i.return,a,o)}function tm(i,a,o,u,f){var g=i.memoizedState;g===null?i.memoizedState={isBackwards:a,rendering:null,renderingStartTime:0,last:u,tail:o,tailMode:f}:(g.isBackwards=a,g.rendering=null,g.renderingStartTime=0,g.last=u,g.tail=o,g.tailMode=f)}function l_(i,a,o){var u=a.pendingProps,f=u.revealOrder,g=u.tail;if(Qt(i,a,u.children,o),u=Lt.current,(u&2)!==0)u=u&1|2,a.flags|=128;else{if(i!==null&&(i.flags&128)!==0)e:for(i=a.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&o_(i,o,a);else if(i.tag===19)o_(i,o,a);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===a)break e;for(;i.sibling===null;){if(i.return===null||i.return===a)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}u&=1}switch(re(Lt,u),f){case"forwards":for(o=a.child,f=null;o!==null;)i=o.alternate,i!==null&&kc(i)===null&&(f=o),o=o.sibling;o=f,o===null?(f=a.child,a.child=null):(f=o.sibling,o.sibling=null),tm(a,!1,f,o,g);break;case"backwards":for(o=null,f=a.child,a.child=null;f!==null;){if(i=f.alternate,i!==null&&kc(i)===null){a.child=f;break}i=f.sibling,f.sibling=o,o=f,f=i}tm(a,!0,o,null,g);break;case"together":tm(a,!1,null,null,void 0);break;default:a.memoizedState=null}return a.child}function cr(i,a,o){if(i!==null&&(a.dependencies=i.dependencies),Yr|=a.lanes,(o&a.childLanes)===0)if(i!==null){if(gl(i,a,o,!1),(o&a.childLanes)===0)return null}else return null;if(i!==null&&a.child!==i.child)throw Error(r(153));if(a.child!==null){for(i=a.child,o=ir(i,i.pendingProps),a.child=o,o.return=a;i.sibling!==null;)i=i.sibling,o=o.sibling=ir(i,i.pendingProps),o.return=a;o.sibling=null}return a.child}function nm(i,a){return(i.lanes&a)!==0?!0:(i=i.dependencies,!!(i!==null&&bc(i)))}function xA(i,a,o){switch(a.tag){case 3:Ue(a,a.stateNode.containerInfo),Lr(a,kt,i.memoizedState.cache),ml();break;case 27:case 5:ci(a);break;case 4:Ue(a,a.stateNode.containerInfo);break;case 10:Lr(a,a.type,a.memoizedProps.value);break;case 13:var u=a.memoizedState;if(u!==null)return u.dehydrated!==null?(Br(a),a.flags|=128,null):(o&a.child.childLanes)!==0?s_(i,a,o):(Br(a),i=cr(i,a,o),i!==null?i.sibling:null);Br(a);break;case 19:var f=(i.flags&128)!==0;if(u=(o&a.childLanes)!==0,u||(gl(i,a,o,!1),u=(o&a.childLanes)!==0),f){if(u)return l_(i,a,o);a.flags|=128}if(f=a.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),re(Lt,Lt.current),u)break;return null;case 22:case 23:return a.lanes=0,t_(i,a,o);case 24:Lr(a,kt,i.memoizedState.cache)}return cr(i,a,o)}function u_(i,a,o){if(i!==null)if(i.memoizedProps!==a.pendingProps)Bt=!0;else{if(!nm(i,o)&&(a.flags&128)===0)return Bt=!1,xA(i,a,o);Bt=(i.flags&131072)!==0}else Bt=!1,Qe&&(a.flags&1048576)!==0&&jv(a,_c,a.index);switch(a.lanes=0,a.tag){case 16:e:{i=a.pendingProps;var u=a.elementType,f=u._init;if(u=f(u._payload),a.type=u,typeof u=="function")hd(u)?(i=Za(u,i),a.tag=1,a=r_(null,a,u,i,o)):(a.tag=0,a=Qd(null,a,u,i,o));else{if(u!=null){if(f=u.$$typeof,f===ee){a.tag=11,a=Zy(null,a,u,i,o);break e}else if(f===O){a.tag=14,a=Jy(null,a,u,i,o);break e}}throw a=Ye(u)||u,Error(r(306,a,""))}}return a;case 0:return Qd(i,a,a.type,a.pendingProps,o);case 1:return u=a.type,f=Za(u,a.pendingProps),r_(i,a,u,f,o);case 3:e:{if(Ue(a,a.stateNode.containerInfo),i===null)throw Error(r(387));u=a.pendingProps;var g=a.memoizedState;f=g.element,Ad(i,a),Sl(a,u,null,o);var b=a.memoizedState;if(u=b.cache,Lr(a,kt,u),u!==g.cache&&_d(a,[kt],o,!0),Tl(),u=b.element,g.isDehydrated)if(g={element:u,isDehydrated:!1,cache:b.cache},a.updateQueue.baseState=g,a.memoizedState=g,a.flags&256){a=a_(i,a,u,o);break e}else if(u!==f){f=Fn(Error(r(424)),a),pl(f),a=a_(i,a,u,o);break e}else{switch(i=a.stateNode.containerInfo,i.nodeType){case 9:i=i.body;break;default:i=i.nodeName==="HTML"?i.ownerDocument.body:i}for(_t=ni(i.firstChild),pn=a,Qe=!0,Ga=null,wi=!0,o=Fy(a,null,u,o),a.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling}else{if(ml(),u===f){a=cr(i,a,o);break e}Qt(i,a,u,o)}a=a.child}return a;case 26:return jc(i,a),i===null?(o=d0(a.type,null,a.pendingProps,null))?a.memoizedState=o:Qe||(o=a.type,i=a.pendingProps,u=eh(pe.current).createElement(o),u[Nt]=a,u[Rt]=i,Wt(u,o,i),Tt(u),a.stateNode=u):a.memoizedState=d0(a.type,i.memoizedProps,a.pendingProps,i.memoizedState),null;case 27:return ci(a),i===null&&Qe&&(u=a.stateNode=c0(a.type,a.pendingProps,pe.current),pn=a,wi=!0,f=_t,Zr(a.type)?(km=f,_t=ni(u.firstChild)):_t=f),Qt(i,a,a.pendingProps.children,o),jc(i,a),i===null&&(a.flags|=4194304),a.child;case 5:return i===null&&Qe&&((f=u=_t)&&(u=aR(u,a.type,a.pendingProps,wi),u!==null?(a.stateNode=u,pn=a,_t=ni(u.firstChild),wi=!1,f=!0):f=!1),f||Ka(a)),ci(a),f=a.type,g=a.pendingProps,b=i!==null?i.memoizedProps:null,u=g.children,Mm(f,g)?u=null:b!==null&&Mm(f,b)&&(a.flags|=32),a.memoizedState!==null&&(f=xd(i,a,SA,null,null,o),$l._currentValue=f),jc(i,a),Qt(i,a,u,o),a.child;case 6:return i===null&&Qe&&((i=o=_t)&&(o=sR(o,a.pendingProps,wi),o!==null?(a.stateNode=o,pn=a,_t=null,i=!0):i=!1),i||Ka(a)),null;case 13:return s_(i,a,o);case 4:return Ue(a,a.stateNode.containerInfo),u=a.pendingProps,i===null?a.child=to(a,null,u,o):Qt(i,a,u,o),a.child;case 11:return Zy(i,a,a.type,a.pendingProps,o);case 7:return Qt(i,a,a.pendingProps,o),a.child;case 8:return Qt(i,a,a.pendingProps.children,o),a.child;case 12:return Qt(i,a,a.pendingProps.children,o),a.child;case 10:return u=a.pendingProps,Lr(a,a.type,u.value),Qt(i,a,u.children,o),a.child;case 9:return f=a.type._context,u=a.pendingProps.children,Qa(a),f=rn(f),u=u(f),a.flags|=1,Qt(i,a,u,o),a.child;case 14:return Jy(i,a,a.type,a.pendingProps,o);case 15:return e_(i,a,a.type,a.pendingProps,o);case 19:return l_(i,a,o);case 31:return u=a.pendingProps,o=a.mode,u={mode:u.mode,children:u.children},i===null?(o=zc(u,o),o.ref=a.ref,a.child=o,o.return=a,a=o):(o=ir(i.child,u),o.ref=a.ref,a.child=o,o.return=a,a=o),a;case 22:return t_(i,a,o);case 24:return Qa(a),u=rn(kt),i===null?(f=Td(),f===null&&(f=ct,g=bd(),f.pooledCache=g,g.refCount++,g!==null&&(f.pooledCacheLanes|=o),f=g),a.memoizedState={parent:u,cache:f},wd(a),Lr(a,kt,f)):((i.lanes&o)!==0&&(Ad(i,a),Sl(a,null,null,o),Tl()),f=i.memoizedState,g=a.memoizedState,f.parent!==u?(f={parent:u,cache:u},a.memoizedState=f,a.lanes===0&&(a.memoizedState=a.updateQueue.baseState=f),Lr(a,kt,u)):(u=g.cache,Lr(a,kt,u),u!==f.cache&&_d(a,[kt],o,!0))),Qt(i,a,a.pendingProps.children,o),a.child;case 29:throw a.pendingProps}throw Error(r(156,a.tag))}function hr(i){i.flags|=4}function c_(i,a){if(a.type!=="stylesheet"||(a.state.loading&4)!==0)i.flags&=-16777217;else if(i.flags|=16777216,!y0(a)){if(a=$n.current,a!==null&&((He&4194048)===He?Ai!==null:(He&62914560)!==He&&(He&536870912)===0||a!==Ai))throw bl=Sd,Kv;i.flags|=8192}}function Fc(i,a){a!==null&&(i.flags|=4),i.flags&16384&&(a=i.tag!==22?Ko():536870912,i.lanes|=a,ao|=a)}function Dl(i,a){if(!Qe)switch(i.tailMode){case"hidden":a=i.tail;for(var o=null;a!==null;)a.alternate!==null&&(o=a),a=a.sibling;o===null?i.tail=null:o.sibling=null;break;case"collapsed":o=i.tail;for(var u=null;o!==null;)o.alternate!==null&&(u=o),o=o.sibling;u===null?a||i.tail===null?i.tail=null:i.tail.sibling=null:u.sibling=null}}function mt(i){var a=i.alternate!==null&&i.alternate.child===i.child,o=0,u=0;if(a)for(var f=i.child;f!==null;)o|=f.lanes|f.childLanes,u|=f.subtreeFlags&65011712,u|=f.flags&65011712,f.return=i,f=f.sibling;else for(f=i.child;f!==null;)o|=f.lanes|f.childLanes,u|=f.subtreeFlags,u|=f.flags,f.return=i,f=f.sibling;return i.subtreeFlags|=u,i.childLanes=o,a}function MA(i,a,o){var u=a.pendingProps;switch(pd(a),a.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return mt(a),null;case 1:return mt(a),null;case 3:return o=a.stateNode,u=null,i!==null&&(u=i.memoizedState.cache),a.memoizedState.cache!==u&&(a.flags|=2048),or(kt),hn(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(i===null||i.child===null)&&(dl(a)?hr(a):i===null||i.memoizedState.isDehydrated&&(a.flags&256)===0||(a.flags|=1024,Bv())),mt(a),null;case 26:return o=a.memoizedState,i===null?(hr(a),o!==null?(mt(a),c_(a,o)):(mt(a),a.flags&=-16777217)):o?o!==i.memoizedState?(hr(a),mt(a),c_(a,o)):(mt(a),a.flags&=-16777217):(i.memoizedProps!==u&&hr(a),mt(a),a.flags&=-16777217),null;case 27:Vn(a),o=pe.current;var f=a.type;if(i!==null&&a.stateNode!=null)i.memoizedProps!==u&&hr(a);else{if(!u){if(a.stateNode===null)throw Error(r(166));return mt(a),null}i=de.current,dl(a)?zv(a):(i=c0(f,u,o),a.stateNode=i,hr(a))}return mt(a),null;case 5:if(Vn(a),o=a.type,i!==null&&a.stateNode!=null)i.memoizedProps!==u&&hr(a);else{if(!u){if(a.stateNode===null)throw Error(r(166));return mt(a),null}if(i=de.current,dl(a))zv(a);else{switch(f=eh(pe.current),i){case 1:i=f.createElementNS("http://www.w3.org/2000/svg",o);break;case 2:i=f.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;default:switch(o){case"svg":i=f.createElementNS("http://www.w3.org/2000/svg",o);break;case"math":i=f.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;case"script":i=f.createElement("div"),i.innerHTML="<script><\/script>",i=i.removeChild(i.firstChild);break;case"select":i=typeof u.is=="string"?f.createElement("select",{is:u.is}):f.createElement("select"),u.multiple?i.multiple=!0:u.size&&(i.size=u.size);break;default:i=typeof u.is=="string"?f.createElement(o,{is:u.is}):f.createElement(o)}}i[Nt]=a,i[Rt]=u;e:for(f=a.child;f!==null;){if(f.tag===5||f.tag===6)i.appendChild(f.stateNode);else if(f.tag!==4&&f.tag!==27&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===a)break e;for(;f.sibling===null;){if(f.return===null||f.return===a)break e;f=f.return}f.sibling.return=f.return,f=f.sibling}a.stateNode=i;e:switch(Wt(i,o,u),o){case"button":case"input":case"select":case"textarea":i=!!u.autoFocus;break e;case"img":i=!0;break e;default:i=!1}i&&hr(a)}}return mt(a),a.flags&=-16777217,null;case 6:if(i&&a.stateNode!=null)i.memoizedProps!==u&&hr(a);else{if(typeof u!="string"&&a.stateNode===null)throw Error(r(166));if(i=pe.current,dl(a)){if(i=a.stateNode,o=a.memoizedProps,u=null,f=pn,f!==null)switch(f.tag){case 27:case 5:u=f.memoizedProps}i[Nt]=a,i=!!(i.nodeValue===o||u!==null&&u.suppressHydrationWarning===!0||i0(i.nodeValue,o)),i||Ka(a)}else i=eh(i).createTextNode(u),i[Nt]=a,a.stateNode=i}return mt(a),null;case 13:if(u=a.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(f=dl(a),u!==null&&u.dehydrated!==null){if(i===null){if(!f)throw Error(r(318));if(f=a.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(r(317));f[Nt]=a}else ml(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;mt(a),f=!1}else f=Bv(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=f),f=!0;if(!f)return a.flags&256?(ur(a),a):(ur(a),null)}if(ur(a),(a.flags&128)!==0)return a.lanes=o,a;if(o=u!==null,i=i!==null&&i.memoizedState!==null,o){u=a.child,f=null,u.alternate!==null&&u.alternate.memoizedState!==null&&u.alternate.memoizedState.cachePool!==null&&(f=u.alternate.memoizedState.cachePool.pool);var g=null;u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(g=u.memoizedState.cachePool.pool),g!==f&&(u.flags|=2048)}return o!==i&&o&&(a.child.flags|=8192),Fc(a,a.updateQueue),mt(a),null;case 4:return hn(),i===null&&Im(a.stateNode.containerInfo),mt(a),null;case 10:return or(a.type),mt(a),null;case 19:if(le(Lt),f=a.memoizedState,f===null)return mt(a),null;if(u=(a.flags&128)!==0,g=f.rendering,g===null)if(u)Dl(f,!1);else{if(bt!==0||i!==null&&(i.flags&128)!==0)for(i=a.child;i!==null;){if(g=kc(i),g!==null){for(a.flags|=128,Dl(f,!1),i=g.updateQueue,a.updateQueue=i,Fc(a,i),a.subtreeFlags=0,i=o,o=a.child;o!==null;)Uv(o,i),o=o.sibling;return re(Lt,Lt.current&1|2),a.child}i=i.sibling}f.tail!==null&&Pn()>qc&&(a.flags|=128,u=!0,Dl(f,!1),a.lanes=4194304)}else{if(!u)if(i=kc(g),i!==null){if(a.flags|=128,u=!0,i=i.updateQueue,a.updateQueue=i,Fc(a,i),Dl(f,!0),f.tail===null&&f.tailMode==="hidden"&&!g.alternate&&!Qe)return mt(a),null}else 2*Pn()-f.renderingStartTime>qc&&o!==536870912&&(a.flags|=128,u=!0,Dl(f,!1),a.lanes=4194304);f.isBackwards?(g.sibling=a.child,a.child=g):(i=f.last,i!==null?i.sibling=g:a.child=g,f.last=g)}return f.tail!==null?(a=f.tail,f.rendering=a,f.tail=a.sibling,f.renderingStartTime=Pn(),a.sibling=null,i=Lt.current,re(Lt,u?i&1|2:i&1),a):(mt(a),null);case 22:case 23:return ur(a),Od(),u=a.memoizedState!==null,i!==null?i.memoizedState!==null!==u&&(a.flags|=8192):u&&(a.flags|=8192),u?(o&536870912)!==0&&(a.flags&128)===0&&(mt(a),a.subtreeFlags&6&&(a.flags|=8192)):mt(a),o=a.updateQueue,o!==null&&Fc(a,o.retryQueue),o=null,i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(o=i.memoizedState.cachePool.pool),u=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(u=a.memoizedState.cachePool.pool),u!==o&&(a.flags|=2048),i!==null&&le(Xa),null;case 24:return o=null,i!==null&&(o=i.memoizedState.cache),a.memoizedState.cache!==o&&(a.flags|=2048),or(kt),mt(a),null;case 25:return null;case 30:return null}throw Error(r(156,a.tag))}function NA(i,a){switch(pd(a),a.tag){case 1:return i=a.flags,i&65536?(a.flags=i&-65537|128,a):null;case 3:return or(kt),hn(),i=a.flags,(i&65536)!==0&&(i&128)===0?(a.flags=i&-65537|128,a):null;case 26:case 27:case 5:return Vn(a),null;case 13:if(ur(a),i=a.memoizedState,i!==null&&i.dehydrated!==null){if(a.alternate===null)throw Error(r(340));ml()}return i=a.flags,i&65536?(a.flags=i&-65537|128,a):null;case 19:return le(Lt),null;case 4:return hn(),null;case 10:return or(a.type),null;case 22:case 23:return ur(a),Od(),i!==null&&le(Xa),i=a.flags,i&65536?(a.flags=i&-65537|128,a):null;case 24:return or(kt),null;case 25:return null;default:return null}}function h_(i,a){switch(pd(a),a.tag){case 3:or(kt),hn();break;case 26:case 27:case 5:Vn(a);break;case 4:hn();break;case 13:ur(a);break;case 19:le(Lt);break;case 10:or(a.type);break;case 22:case 23:ur(a),Od(),i!==null&&le(Xa);break;case 24:or(kt)}}function xl(i,a){try{var o=a.updateQueue,u=o!==null?o.lastEffect:null;if(u!==null){var f=u.next;o=f;do{if((o.tag&i)===i){u=void 0;var g=o.create,b=o.inst;u=g(),b.destroy=u}o=o.next}while(o!==f)}}catch(S){ut(a,a.return,S)}}function qr(i,a,o){try{var u=a.updateQueue,f=u!==null?u.lastEffect:null;if(f!==null){var g=f.next;u=g;do{if((u.tag&i)===i){var b=u.inst,S=b.destroy;if(S!==void 0){b.destroy=void 0,f=a;var U=o,Y=S;try{Y()}catch(te){ut(f,U,te)}}}u=u.next}while(u!==g)}}catch(te){ut(a,a.return,te)}}function f_(i){var a=i.updateQueue;if(a!==null){var o=i.stateNode;try{Jv(a,o)}catch(u){ut(i,i.return,u)}}}function d_(i,a,o){o.props=Za(i.type,i.memoizedProps),o.state=i.memoizedState;try{o.componentWillUnmount()}catch(u){ut(i,a,u)}}function Ml(i,a){try{var o=i.ref;if(o!==null){switch(i.tag){case 26:case 27:case 5:var u=i.stateNode;break;case 30:u=i.stateNode;break;default:u=i.stateNode}typeof o=="function"?i.refCleanup=o(u):o.current=u}}catch(f){ut(i,a,f)}}function Ri(i,a){var o=i.ref,u=i.refCleanup;if(o!==null)if(typeof u=="function")try{u()}catch(f){ut(i,a,f)}finally{i.refCleanup=null,i=i.alternate,i!=null&&(i.refCleanup=null)}else if(typeof o=="function")try{o(null)}catch(f){ut(i,a,f)}else o.current=null}function m_(i){var a=i.type,o=i.memoizedProps,u=i.stateNode;try{e:switch(a){case"button":case"input":case"select":case"textarea":o.autoFocus&&u.focus();break e;case"img":o.src?u.src=o.src:o.srcSet&&(u.srcset=o.srcSet)}}catch(f){ut(i,i.return,f)}}function im(i,a,o){try{var u=i.stateNode;eR(u,i.type,o,a),u[Rt]=a}catch(f){ut(i,i.return,f)}}function p_(i){return i.tag===5||i.tag===3||i.tag===26||i.tag===27&&Zr(i.type)||i.tag===4}function rm(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||p_(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.tag===27&&Zr(i.type)||i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function am(i,a,o){var u=i.tag;if(u===5||u===6)i=i.stateNode,a?(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o).insertBefore(i,a):(a=o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,a.appendChild(i),o=o._reactRootContainer,o!=null||a.onclick!==null||(a.onclick=Jc));else if(u!==4&&(u===27&&Zr(i.type)&&(o=i.stateNode,a=null),i=i.child,i!==null))for(am(i,a,o),i=i.sibling;i!==null;)am(i,a,o),i=i.sibling}function Bc(i,a,o){var u=i.tag;if(u===5||u===6)i=i.stateNode,a?o.insertBefore(i,a):o.appendChild(i);else if(u!==4&&(u===27&&Zr(i.type)&&(o=i.stateNode),i=i.child,i!==null))for(Bc(i,a,o),i=i.sibling;i!==null;)Bc(i,a,o),i=i.sibling}function g_(i){var a=i.stateNode,o=i.memoizedProps;try{for(var u=i.type,f=a.attributes;f.length;)a.removeAttributeNode(f[0]);Wt(a,u,o),a[Nt]=i,a[Rt]=o}catch(g){ut(i,i.return,g)}}var fr=!1,wt=!1,sm=!1,v_=typeof WeakSet=="function"?WeakSet:Set,Ht=null;function VA(i,a){if(i=i.containerInfo,Dm=sh,i=Cv(i),rd(i)){if("selectionStart"in i)var o={start:i.selectionStart,end:i.selectionEnd};else e:{o=(o=i.ownerDocument)&&o.defaultView||window;var u=o.getSelection&&o.getSelection();if(u&&u.rangeCount!==0){o=u.anchorNode;var f=u.anchorOffset,g=u.focusNode;u=u.focusOffset;try{o.nodeType,g.nodeType}catch{o=null;break e}var b=0,S=-1,U=-1,Y=0,te=0,ae=i,Q=null;t:for(;;){for(var X;ae!==o||f!==0&&ae.nodeType!==3||(S=b+f),ae!==g||u!==0&&ae.nodeType!==3||(U=b+u),ae.nodeType===3&&(b+=ae.nodeValue.length),(X=ae.firstChild)!==null;)Q=ae,ae=X;for(;;){if(ae===i)break t;if(Q===o&&++Y===f&&(S=b),Q===g&&++te===u&&(U=b),(X=ae.nextSibling)!==null)break;ae=Q,Q=ae.parentNode}ae=X}o=S===-1||U===-1?null:{start:S,end:U}}else o=null}o=o||{start:0,end:0}}else o=null;for(xm={focusedElem:i,selectionRange:o},sh=!1,Ht=a;Ht!==null;)if(a=Ht,i=a.child,(a.subtreeFlags&1024)!==0&&i!==null)i.return=a,Ht=i;else for(;Ht!==null;){switch(a=Ht,g=a.alternate,i=a.flags,a.tag){case 0:break;case 11:case 15:break;case 1:if((i&1024)!==0&&g!==null){i=void 0,o=a,f=g.memoizedProps,g=g.memoizedState,u=o.stateNode;try{var Re=Za(o.type,f,o.elementType===o.type);i=u.getSnapshotBeforeUpdate(Re,g),u.__reactInternalSnapshotBeforeUpdate=i}catch(Te){ut(o,o.return,Te)}}break;case 3:if((i&1024)!==0){if(i=a.stateNode.containerInfo,o=i.nodeType,o===9)Vm(i);else if(o===1)switch(i.nodeName){case"HEAD":case"HTML":case"BODY":Vm(i);break;default:i.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((i&1024)!==0)throw Error(r(163))}if(i=a.sibling,i!==null){i.return=a.return,Ht=i;break}Ht=a.return}}function y_(i,a,o){var u=o.flags;switch(o.tag){case 0:case 11:case 15:$r(i,o),u&4&&xl(5,o);break;case 1:if($r(i,o),u&4)if(i=o.stateNode,a===null)try{i.componentDidMount()}catch(b){ut(o,o.return,b)}else{var f=Za(o.type,a.memoizedProps);a=a.memoizedState;try{i.componentDidUpdate(f,a,i.__reactInternalSnapshotBeforeUpdate)}catch(b){ut(o,o.return,b)}}u&64&&f_(o),u&512&&Ml(o,o.return);break;case 3:if($r(i,o),u&64&&(i=o.updateQueue,i!==null)){if(a=null,o.child!==null)switch(o.child.tag){case 27:case 5:a=o.child.stateNode;break;case 1:a=o.child.stateNode}try{Jv(i,a)}catch(b){ut(o,o.return,b)}}break;case 27:a===null&&u&4&&g_(o);case 26:case 5:$r(i,o),a===null&&u&4&&m_(o),u&512&&Ml(o,o.return);break;case 12:$r(i,o);break;case 13:$r(i,o),u&4&&E_(i,o),u&64&&(i=o.memoizedState,i!==null&&(i=i.dehydrated,i!==null&&(o=HA.bind(null,o),oR(i,o))));break;case 22:if(u=o.memoizedState!==null||fr,!u){a=a!==null&&a.memoizedState!==null||wt,f=fr;var g=wt;fr=u,(wt=a)&&!g?Gr(i,o,(o.subtreeFlags&8772)!==0):$r(i,o),fr=f,wt=g}break;case 30:break;default:$r(i,o)}}function __(i){var a=i.alternate;a!==null&&(i.alternate=null,__(a)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(a=i.stateNode,a!==null&&Nr(a)),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}var dt=null,vn=!1;function dr(i,a,o){for(o=o.child;o!==null;)b_(i,a,o),o=o.sibling}function b_(i,a,o){if(tt&&typeof tt.onCommitFiberUnmount=="function")try{tt.onCommitFiberUnmount(yt,o)}catch{}switch(o.tag){case 26:wt||Ri(o,a),dr(i,a,o),o.memoizedState?o.memoizedState.count--:o.stateNode&&(o=o.stateNode,o.parentNode.removeChild(o));break;case 27:wt||Ri(o,a);var u=dt,f=vn;Zr(o.type)&&(dt=o.stateNode,vn=!1),dr(i,a,o),Fl(o.stateNode),dt=u,vn=f;break;case 5:wt||Ri(o,a);case 6:if(u=dt,f=vn,dt=null,dr(i,a,o),dt=u,vn=f,dt!==null)if(vn)try{(dt.nodeType===9?dt.body:dt.nodeName==="HTML"?dt.ownerDocument.body:dt).removeChild(o.stateNode)}catch(g){ut(o,a,g)}else try{dt.removeChild(o.stateNode)}catch(g){ut(o,a,g)}break;case 18:dt!==null&&(vn?(i=dt,l0(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,o.stateNode),Ql(i)):l0(dt,o.stateNode));break;case 4:u=dt,f=vn,dt=o.stateNode.containerInfo,vn=!0,dr(i,a,o),dt=u,vn=f;break;case 0:case 11:case 14:case 15:wt||qr(2,o,a),wt||qr(4,o,a),dr(i,a,o);break;case 1:wt||(Ri(o,a),u=o.stateNode,typeof u.componentWillUnmount=="function"&&d_(o,a,u)),dr(i,a,o);break;case 21:dr(i,a,o);break;case 22:wt=(u=wt)||o.memoizedState!==null,dr(i,a,o),wt=u;break;default:dr(i,a,o)}}function E_(i,a){if(a.memoizedState===null&&(i=a.alternate,i!==null&&(i=i.memoizedState,i!==null&&(i=i.dehydrated,i!==null))))try{Ql(i)}catch(o){ut(a,a.return,o)}}function PA(i){switch(i.tag){case 13:case 19:var a=i.stateNode;return a===null&&(a=i.stateNode=new v_),a;case 22:return i=i.stateNode,a=i._retryCache,a===null&&(a=i._retryCache=new v_),a;default:throw Error(r(435,i.tag))}}function om(i,a){var o=PA(i);a.forEach(function(u){var f=qA.bind(null,i,u);o.has(u)||(o.add(u),u.then(f,f))})}function In(i,a){var o=a.deletions;if(o!==null)for(var u=0;u<o.length;u++){var f=o[u],g=i,b=a,S=b;e:for(;S!==null;){switch(S.tag){case 27:if(Zr(S.type)){dt=S.stateNode,vn=!1;break e}break;case 5:dt=S.stateNode,vn=!1;break e;case 3:case 4:dt=S.stateNode.containerInfo,vn=!0;break e}S=S.return}if(dt===null)throw Error(r(160));b_(g,b,f),dt=null,vn=!1,g=f.alternate,g!==null&&(g.return=null),f.return=null}if(a.subtreeFlags&13878)for(a=a.child;a!==null;)T_(a,i),a=a.sibling}var ti=null;function T_(i,a){var o=i.alternate,u=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:In(a,i),Cn(i),u&4&&(qr(3,i,i.return),xl(3,i),qr(5,i,i.return));break;case 1:In(a,i),Cn(i),u&512&&(wt||o===null||Ri(o,o.return)),u&64&&fr&&(i=i.updateQueue,i!==null&&(u=i.callbacks,u!==null&&(o=i.shared.hiddenCallbacks,i.shared.hiddenCallbacks=o===null?u:o.concat(u))));break;case 26:var f=ti;if(In(a,i),Cn(i),u&512&&(wt||o===null||Ri(o,o.return)),u&4){var g=o!==null?o.memoizedState:null;if(u=i.memoizedState,o===null)if(u===null)if(i.stateNode===null){e:{u=i.type,o=i.memoizedProps,f=f.ownerDocument||f;t:switch(u){case"title":g=f.getElementsByTagName("title")[0],(!g||g[Ia]||g[Nt]||g.namespaceURI==="http://www.w3.org/2000/svg"||g.hasAttribute("itemprop"))&&(g=f.createElement(u),f.head.insertBefore(g,f.querySelector("head > title"))),Wt(g,u,o),g[Nt]=i,Tt(g),u=g;break e;case"link":var b=g0("link","href",f).get(u+(o.href||""));if(b){for(var S=0;S<b.length;S++)if(g=b[S],g.getAttribute("href")===(o.href==null||o.href===""?null:o.href)&&g.getAttribute("rel")===(o.rel==null?null:o.rel)&&g.getAttribute("title")===(o.title==null?null:o.title)&&g.getAttribute("crossorigin")===(o.crossOrigin==null?null:o.crossOrigin)){b.splice(S,1);break t}}g=f.createElement(u),Wt(g,u,o),f.head.appendChild(g);break;case"meta":if(b=g0("meta","content",f).get(u+(o.content||""))){for(S=0;S<b.length;S++)if(g=b[S],g.getAttribute("content")===(o.content==null?null:""+o.content)&&g.getAttribute("name")===(o.name==null?null:o.name)&&g.getAttribute("property")===(o.property==null?null:o.property)&&g.getAttribute("http-equiv")===(o.httpEquiv==null?null:o.httpEquiv)&&g.getAttribute("charset")===(o.charSet==null?null:o.charSet)){b.splice(S,1);break t}}g=f.createElement(u),Wt(g,u,o),f.head.appendChild(g);break;default:throw Error(r(468,u))}g[Nt]=i,Tt(g),u=g}i.stateNode=u}else v0(f,i.type,i.stateNode);else i.stateNode=p0(f,u,i.memoizedProps);else g!==u?(g===null?o.stateNode!==null&&(o=o.stateNode,o.parentNode.removeChild(o)):g.count--,u===null?v0(f,i.type,i.stateNode):p0(f,u,i.memoizedProps)):u===null&&i.stateNode!==null&&im(i,i.memoizedProps,o.memoizedProps)}break;case 27:In(a,i),Cn(i),u&512&&(wt||o===null||Ri(o,o.return)),o!==null&&u&4&&im(i,i.memoizedProps,o.memoizedProps);break;case 5:if(In(a,i),Cn(i),u&512&&(wt||o===null||Ri(o,o.return)),i.flags&32){f=i.stateNode;try{Ln(f,"")}catch(X){ut(i,i.return,X)}}u&4&&i.stateNode!=null&&(f=i.memoizedProps,im(i,f,o!==null?o.memoizedProps:f)),u&1024&&(sm=!0);break;case 6:if(In(a,i),Cn(i),u&4){if(i.stateNode===null)throw Error(r(162));u=i.memoizedProps,o=i.stateNode;try{o.nodeValue=u}catch(X){ut(i,i.return,X)}}break;case 3:if(ih=null,f=ti,ti=th(a.containerInfo),In(a,i),ti=f,Cn(i),u&4&&o!==null&&o.memoizedState.isDehydrated)try{Ql(a.containerInfo)}catch(X){ut(i,i.return,X)}sm&&(sm=!1,S_(i));break;case 4:u=ti,ti=th(i.stateNode.containerInfo),In(a,i),Cn(i),ti=u;break;case 12:In(a,i),Cn(i);break;case 13:In(a,i),Cn(i),i.child.flags&8192&&i.memoizedState!==null!=(o!==null&&o.memoizedState!==null)&&(dm=Pn()),u&4&&(u=i.updateQueue,u!==null&&(i.updateQueue=null,om(i,u)));break;case 22:f=i.memoizedState!==null;var U=o!==null&&o.memoizedState!==null,Y=fr,te=wt;if(fr=Y||f,wt=te||U,In(a,i),wt=te,fr=Y,Cn(i),u&8192)e:for(a=i.stateNode,a._visibility=f?a._visibility&-2:a._visibility|1,f&&(o===null||U||fr||wt||Ja(i)),o=null,a=i;;){if(a.tag===5||a.tag===26){if(o===null){U=o=a;try{if(g=U.stateNode,f)b=g.style,typeof b.setProperty=="function"?b.setProperty("display","none","important"):b.display="none";else{S=U.stateNode;var ae=U.memoizedProps.style,Q=ae!=null&&ae.hasOwnProperty("display")?ae.display:null;S.style.display=Q==null||typeof Q=="boolean"?"":(""+Q).trim()}}catch(X){ut(U,U.return,X)}}}else if(a.tag===6){if(o===null){U=a;try{U.stateNode.nodeValue=f?"":U.memoizedProps}catch(X){ut(U,U.return,X)}}}else if((a.tag!==22&&a.tag!==23||a.memoizedState===null||a===i)&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===i)break e;for(;a.sibling===null;){if(a.return===null||a.return===i)break e;o===a&&(o=null),a=a.return}o===a&&(o=null),a.sibling.return=a.return,a=a.sibling}u&4&&(u=i.updateQueue,u!==null&&(o=u.retryQueue,o!==null&&(u.retryQueue=null,om(i,o))));break;case 19:In(a,i),Cn(i),u&4&&(u=i.updateQueue,u!==null&&(i.updateQueue=null,om(i,u)));break;case 30:break;case 21:break;default:In(a,i),Cn(i)}}function Cn(i){var a=i.flags;if(a&2){try{for(var o,u=i.return;u!==null;){if(p_(u)){o=u;break}u=u.return}if(o==null)throw Error(r(160));switch(o.tag){case 27:var f=o.stateNode,g=rm(i);Bc(i,g,f);break;case 5:var b=o.stateNode;o.flags&32&&(Ln(b,""),o.flags&=-33);var S=rm(i);Bc(i,S,b);break;case 3:case 4:var U=o.stateNode.containerInfo,Y=rm(i);am(i,Y,U);break;default:throw Error(r(161))}}catch(te){ut(i,i.return,te)}i.flags&=-3}a&4096&&(i.flags&=-4097)}function S_(i){if(i.subtreeFlags&1024)for(i=i.child;i!==null;){var a=i;S_(a),a.tag===5&&a.flags&1024&&a.stateNode.reset(),i=i.sibling}}function $r(i,a){if(a.subtreeFlags&8772)for(a=a.child;a!==null;)y_(i,a.alternate,a),a=a.sibling}function Ja(i){for(i=i.child;i!==null;){var a=i;switch(a.tag){case 0:case 11:case 14:case 15:qr(4,a,a.return),Ja(a);break;case 1:Ri(a,a.return);var o=a.stateNode;typeof o.componentWillUnmount=="function"&&d_(a,a.return,o),Ja(a);break;case 27:Fl(a.stateNode);case 26:case 5:Ri(a,a.return),Ja(a);break;case 22:a.memoizedState===null&&Ja(a);break;case 30:Ja(a);break;default:Ja(a)}i=i.sibling}}function Gr(i,a,o){for(o=o&&(a.subtreeFlags&8772)!==0,a=a.child;a!==null;){var u=a.alternate,f=i,g=a,b=g.flags;switch(g.tag){case 0:case 11:case 15:Gr(f,g,o),xl(4,g);break;case 1:if(Gr(f,g,o),u=g,f=u.stateNode,typeof f.componentDidMount=="function")try{f.componentDidMount()}catch(Y){ut(u,u.return,Y)}if(u=g,f=u.updateQueue,f!==null){var S=u.stateNode;try{var U=f.shared.hiddenCallbacks;if(U!==null)for(f.shared.hiddenCallbacks=null,f=0;f<U.length;f++)Zv(U[f],S)}catch(Y){ut(u,u.return,Y)}}o&&b&64&&f_(g),Ml(g,g.return);break;case 27:g_(g);case 26:case 5:Gr(f,g,o),o&&u===null&&b&4&&m_(g),Ml(g,g.return);break;case 12:Gr(f,g,o);break;case 13:Gr(f,g,o),o&&b&4&&E_(f,g);break;case 22:g.memoizedState===null&&Gr(f,g,o),Ml(g,g.return);break;case 30:break;default:Gr(f,g,o)}a=a.sibling}}function lm(i,a){var o=null;i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(o=i.memoizedState.cachePool.pool),i=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(i=a.memoizedState.cachePool.pool),i!==o&&(i!=null&&i.refCount++,o!=null&&vl(o))}function um(i,a){i=null,a.alternate!==null&&(i=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==i&&(a.refCount++,i!=null&&vl(i))}function Ii(i,a,o,u){if(a.subtreeFlags&10256)for(a=a.child;a!==null;)w_(i,a,o,u),a=a.sibling}function w_(i,a,o,u){var f=a.flags;switch(a.tag){case 0:case 11:case 15:Ii(i,a,o,u),f&2048&&xl(9,a);break;case 1:Ii(i,a,o,u);break;case 3:Ii(i,a,o,u),f&2048&&(i=null,a.alternate!==null&&(i=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==i&&(a.refCount++,i!=null&&vl(i)));break;case 12:if(f&2048){Ii(i,a,o,u),i=a.stateNode;try{var g=a.memoizedProps,b=g.id,S=g.onPostCommit;typeof S=="function"&&S(b,a.alternate===null?"mount":"update",i.passiveEffectDuration,-0)}catch(U){ut(a,a.return,U)}}else Ii(i,a,o,u);break;case 13:Ii(i,a,o,u);break;case 23:break;case 22:g=a.stateNode,b=a.alternate,a.memoizedState!==null?g._visibility&2?Ii(i,a,o,u):Nl(i,a):g._visibility&2?Ii(i,a,o,u):(g._visibility|=2,no(i,a,o,u,(a.subtreeFlags&10256)!==0)),f&2048&&lm(b,a);break;case 24:Ii(i,a,o,u),f&2048&&um(a.alternate,a);break;default:Ii(i,a,o,u)}}function no(i,a,o,u,f){for(f=f&&(a.subtreeFlags&10256)!==0,a=a.child;a!==null;){var g=i,b=a,S=o,U=u,Y=b.flags;switch(b.tag){case 0:case 11:case 15:no(g,b,S,U,f),xl(8,b);break;case 23:break;case 22:var te=b.stateNode;b.memoizedState!==null?te._visibility&2?no(g,b,S,U,f):Nl(g,b):(te._visibility|=2,no(g,b,S,U,f)),f&&Y&2048&&lm(b.alternate,b);break;case 24:no(g,b,S,U,f),f&&Y&2048&&um(b.alternate,b);break;default:no(g,b,S,U,f)}a=a.sibling}}function Nl(i,a){if(a.subtreeFlags&10256)for(a=a.child;a!==null;){var o=i,u=a,f=u.flags;switch(u.tag){case 22:Nl(o,u),f&2048&&lm(u.alternate,u);break;case 24:Nl(o,u),f&2048&&um(u.alternate,u);break;default:Nl(o,u)}a=a.sibling}}var Vl=8192;function io(i){if(i.subtreeFlags&Vl)for(i=i.child;i!==null;)A_(i),i=i.sibling}function A_(i){switch(i.tag){case 26:io(i),i.flags&Vl&&i.memoizedState!==null&&bR(ti,i.memoizedState,i.memoizedProps);break;case 5:io(i);break;case 3:case 4:var a=ti;ti=th(i.stateNode.containerInfo),io(i),ti=a;break;case 22:i.memoizedState===null&&(a=i.alternate,a!==null&&a.memoizedState!==null?(a=Vl,Vl=16777216,io(i),Vl=a):io(i));break;default:io(i)}}function R_(i){var a=i.alternate;if(a!==null&&(i=a.child,i!==null)){a.child=null;do a=i.sibling,i.sibling=null,i=a;while(i!==null)}}function Pl(i){var a=i.deletions;if((i.flags&16)!==0){if(a!==null)for(var o=0;o<a.length;o++){var u=a[o];Ht=u,C_(u,i)}R_(i)}if(i.subtreeFlags&10256)for(i=i.child;i!==null;)I_(i),i=i.sibling}function I_(i){switch(i.tag){case 0:case 11:case 15:Pl(i),i.flags&2048&&qr(9,i,i.return);break;case 3:Pl(i);break;case 12:Pl(i);break;case 22:var a=i.stateNode;i.memoizedState!==null&&a._visibility&2&&(i.return===null||i.return.tag!==13)?(a._visibility&=-3,Hc(i)):Pl(i);break;default:Pl(i)}}function Hc(i){var a=i.deletions;if((i.flags&16)!==0){if(a!==null)for(var o=0;o<a.length;o++){var u=a[o];Ht=u,C_(u,i)}R_(i)}for(i=i.child;i!==null;){switch(a=i,a.tag){case 0:case 11:case 15:qr(8,a,a.return),Hc(a);break;case 22:o=a.stateNode,o._visibility&2&&(o._visibility&=-3,Hc(a));break;default:Hc(a)}i=i.sibling}}function C_(i,a){for(;Ht!==null;){var o=Ht;switch(o.tag){case 0:case 11:case 15:qr(8,o,a);break;case 23:case 22:if(o.memoizedState!==null&&o.memoizedState.cachePool!==null){var u=o.memoizedState.cachePool.pool;u!=null&&u.refCount++}break;case 24:vl(o.memoizedState.cache)}if(u=o.child,u!==null)u.return=o,Ht=u;else e:for(o=i;Ht!==null;){u=Ht;var f=u.sibling,g=u.return;if(__(u),u===o){Ht=null;break e}if(f!==null){f.return=g,Ht=f;break e}Ht=g}}}var kA={getCacheForType:function(i){var a=rn(kt),o=a.data.get(i);return o===void 0&&(o=i(),a.data.set(i,o)),o}},LA=typeof WeakMap=="function"?WeakMap:Map,nt=0,ct=null,ke=null,He=0,it=0,On=null,Kr=!1,ro=!1,cm=!1,mr=0,bt=0,Yr=0,es=0,hm=0,Gn=0,ao=0,kl=null,yn=null,fm=!1,dm=0,qc=1/0,$c=null,Qr=null,Xt=0,Xr=null,so=null,oo=0,mm=0,pm=null,O_=null,Ll=0,gm=null;function Dn(){if((nt&2)!==0&&He!==0)return He&-He;if(W.T!==null){var i=Ys;return i!==0?i:Sm()}return xr()}function D_(){Gn===0&&(Gn=(He&536870912)===0||Qe?Go():536870912);var i=$n.current;return i!==null&&(i.flags|=32),Gn}function xn(i,a,o){(i===ct&&(it===2||it===9)||i.cancelPendingCommit!==null)&&(lo(i,0),Wr(i,He,Gn,!1)),Gi(i,o),((nt&2)===0||i!==ct)&&(i===ct&&((nt&2)===0&&(es|=o),bt===4&&Wr(i,He,Gn,!1)),Ci(i))}function x_(i,a,o){if((nt&6)!==0)throw Error(r(327));var u=!o&&(a&124)===0&&(a&i.expiredLanes)===0||Ra(i,a),f=u?zA(i,a):_m(i,a,!0),g=u;do{if(f===0){ro&&!u&&Wr(i,a,0,!1);break}else{if(o=i.current.alternate,g&&!UA(o)){f=_m(i,a,!1),g=!1;continue}if(f===2){if(g=a,i.errorRecoveryDisabledLanes&g)var b=0;else b=i.pendingLanes&-536870913,b=b!==0?b:b&536870912?536870912:0;if(b!==0){a=b;e:{var S=i;f=kl;var U=S.current.memoizedState.isDehydrated;if(U&&(lo(S,b).flags|=256),b=_m(S,b,!1),b!==2){if(cm&&!U){S.errorRecoveryDisabledLanes|=g,es|=g,f=4;break e}g=yn,yn=f,g!==null&&(yn===null?yn=g:yn.push.apply(yn,g))}f=b}if(g=!1,f!==2)continue}}if(f===1){lo(i,0),Wr(i,a,0,!0);break}e:{switch(u=i,g=f,g){case 0:case 1:throw Error(r(345));case 4:if((a&4194048)!==a)break;case 6:Wr(u,a,Gn,!Kr);break e;case 2:yn=null;break;case 3:case 5:break;default:throw Error(r(329))}if((a&62914560)===a&&(f=dm+300-Pn(),10<f)){if(Wr(u,a,Gn,!Kr),As(u,0,!0)!==0)break e;u.timeoutHandle=s0(M_.bind(null,u,o,yn,$c,fm,a,Gn,es,ao,Kr,g,2,-0,0),f);break e}M_(u,o,yn,$c,fm,a,Gn,es,ao,Kr,g,0,-0,0)}}break}while(!0);Ci(i)}function M_(i,a,o,u,f,g,b,S,U,Y,te,ae,Q,X){if(i.timeoutHandle=-1,ae=a.subtreeFlags,(ae&8192||(ae&16785408)===16785408)&&(ql={stylesheets:null,count:0,unsuspend:_R},A_(a),ae=ER(),ae!==null)){i.cancelPendingCommit=ae(j_.bind(null,i,a,g,o,u,f,b,S,U,te,1,Q,X)),Wr(i,g,b,!Y);return}j_(i,a,g,o,u,f,b,S,U)}function UA(i){for(var a=i;;){var o=a.tag;if((o===0||o===11||o===15)&&a.flags&16384&&(o=a.updateQueue,o!==null&&(o=o.stores,o!==null)))for(var u=0;u<o.length;u++){var f=o[u],g=f.getSnapshot;f=f.value;try{if(!An(g(),f))return!1}catch{return!1}}if(o=a.child,a.subtreeFlags&16384&&o!==null)o.return=a,a=o;else{if(a===i)break;for(;a.sibling===null;){if(a.return===null||a.return===i)return!0;a=a.return}a.sibling.return=a.return,a=a.sibling}}return!0}function Wr(i,a,o,u){a&=~hm,a&=~es,i.suspendedLanes|=a,i.pingedLanes&=~a,u&&(i.warmLanes|=a),u=i.expirationTimes;for(var f=a;0<f;){var g=31-nn(f),b=1<<g;u[g]=-1,f&=~b}o!==0&&di(i,o,a)}function Gc(){return(nt&6)===0?(Ul(0),!1):!0}function vm(){if(ke!==null){if(it===0)var i=ke.return;else i=ke,sr=Ya=null,Vd(i),eo=null,Cl=0,i=ke;for(;i!==null;)h_(i.alternate,i),i=i.return;ke=null}}function lo(i,a){var o=i.timeoutHandle;o!==-1&&(i.timeoutHandle=-1,nR(o)),o=i.cancelPendingCommit,o!==null&&(i.cancelPendingCommit=null,o()),vm(),ct=i,ke=o=ir(i.current,null),He=a,it=0,On=null,Kr=!1,ro=Ra(i,a),cm=!1,ao=Gn=hm=es=Yr=bt=0,yn=kl=null,fm=!1,(a&8)!==0&&(a|=a&32);var u=i.entangledLanes;if(u!==0)for(i=i.entanglements,u&=a;0<u;){var f=31-nn(u),g=1<<f;a|=i[f],u&=~g}return mr=a,mc(),o}function N_(i,a){Ne=null,W.H=Nc,a===_l||a===Sc?(a=Xv(),it=3):a===Kv?(a=Xv(),it=4):it=a===Wy?8:a!==null&&typeof a=="object"&&typeof a.then=="function"?6:1,On=a,ke===null&&(bt=1,Uc(i,Fn(a,i.current)))}function V_(){var i=W.H;return W.H=Nc,i===null?Nc:i}function P_(){var i=W.A;return W.A=kA,i}function ym(){bt=4,Kr||(He&4194048)!==He&&$n.current!==null||(ro=!0),(Yr&134217727)===0&&(es&134217727)===0||ct===null||Wr(ct,He,Gn,!1)}function _m(i,a,o){var u=nt;nt|=2;var f=V_(),g=P_();(ct!==i||He!==a)&&($c=null,lo(i,a)),a=!1;var b=bt;e:do try{if(it!==0&&ke!==null){var S=ke,U=On;switch(it){case 8:vm(),b=6;break e;case 3:case 2:case 9:case 6:$n.current===null&&(a=!0);var Y=it;if(it=0,On=null,uo(i,S,U,Y),o&&ro){b=0;break e}break;default:Y=it,it=0,On=null,uo(i,S,U,Y)}}jA(),b=bt;break}catch(te){N_(i,te)}while(!0);return a&&i.shellSuspendCounter++,sr=Ya=null,nt=u,W.H=f,W.A=g,ke===null&&(ct=null,He=0,mc()),b}function jA(){for(;ke!==null;)k_(ke)}function zA(i,a){var o=nt;nt|=2;var u=V_(),f=P_();ct!==i||He!==a?($c=null,qc=Pn()+500,lo(i,a)):ro=Ra(i,a);e:do try{if(it!==0&&ke!==null){a=ke;var g=On;t:switch(it){case 1:it=0,On=null,uo(i,a,g,1);break;case 2:case 9:if(Yv(g)){it=0,On=null,L_(a);break}a=function(){it!==2&&it!==9||ct!==i||(it=7),Ci(i)},g.then(a,a);break e;case 3:it=7;break e;case 4:it=5;break e;case 7:Yv(g)?(it=0,On=null,L_(a)):(it=0,On=null,uo(i,a,g,7));break;case 5:var b=null;switch(ke.tag){case 26:b=ke.memoizedState;case 5:case 27:var S=ke;if(!b||y0(b)){it=0,On=null;var U=S.sibling;if(U!==null)ke=U;else{var Y=S.return;Y!==null?(ke=Y,Kc(Y)):ke=null}break t}}it=0,On=null,uo(i,a,g,5);break;case 6:it=0,On=null,uo(i,a,g,6);break;case 8:vm(),bt=6;break e;default:throw Error(r(462))}}FA();break}catch(te){N_(i,te)}while(!0);return sr=Ya=null,W.H=u,W.A=f,nt=o,ke!==null?0:(ct=null,He=0,mc(),bt)}function FA(){for(;ke!==null&&!Ea();)k_(ke)}function k_(i){var a=u_(i.alternate,i,mr);i.memoizedProps=i.pendingProps,a===null?Kc(i):ke=a}function L_(i){var a=i,o=a.alternate;switch(a.tag){case 15:case 0:a=i_(o,a,a.pendingProps,a.type,void 0,He);break;case 11:a=i_(o,a,a.pendingProps,a.type.render,a.ref,He);break;case 5:Vd(a);default:h_(o,a),a=ke=Uv(a,mr),a=u_(o,a,mr)}i.memoizedProps=i.pendingProps,a===null?Kc(i):ke=a}function uo(i,a,o,u){sr=Ya=null,Vd(a),eo=null,Cl=0;var f=a.return;try{if(DA(i,f,a,o,He)){bt=1,Uc(i,Fn(o,i.current)),ke=null;return}}catch(g){if(f!==null)throw ke=f,g;bt=1,Uc(i,Fn(o,i.current)),ke=null;return}a.flags&32768?(Qe||u===1?i=!0:ro||(He&536870912)!==0?i=!1:(Kr=i=!0,(u===2||u===9||u===3||u===6)&&(u=$n.current,u!==null&&u.tag===13&&(u.flags|=16384))),U_(a,i)):Kc(a)}function Kc(i){var a=i;do{if((a.flags&32768)!==0){U_(a,Kr);return}i=a.return;var o=MA(a.alternate,a,mr);if(o!==null){ke=o;return}if(a=a.sibling,a!==null){ke=a;return}ke=a=i}while(a!==null);bt===0&&(bt=5)}function U_(i,a){do{var o=NA(i.alternate,i);if(o!==null){o.flags&=32767,ke=o;return}if(o=i.return,o!==null&&(o.flags|=32768,o.subtreeFlags=0,o.deletions=null),!a&&(i=i.sibling,i!==null)){ke=i;return}ke=i=o}while(i!==null);bt=6,ke=null}function j_(i,a,o,u,f,g,b,S,U){i.cancelPendingCommit=null;do Yc();while(Xt!==0);if((nt&6)!==0)throw Error(r(327));if(a!==null){if(a===i.current)throw Error(r(177));if(g=a.lanes|a.childLanes,g|=ud,Yo(i,o,g,b,S,U),i===ct&&(ke=ct=null,He=0),so=a,Xr=i,oo=o,mm=g,pm=f,O_=u,(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0?(i.callbackNode=null,i.callbackPriority=0,$A(Ta,function(){return q_(),null})):(i.callbackNode=null,i.callbackPriority=0),u=(a.flags&13878)!==0,(a.subtreeFlags&13878)!==0||u){u=W.T,W.T=null,f=J.p,J.p=2,b=nt,nt|=4;try{VA(i,a,o)}finally{nt=b,J.p=f,W.T=u}}Xt=1,z_(),F_(),B_()}}function z_(){if(Xt===1){Xt=0;var i=Xr,a=so,o=(a.flags&13878)!==0;if((a.subtreeFlags&13878)!==0||o){o=W.T,W.T=null;var u=J.p;J.p=2;var f=nt;nt|=4;try{T_(a,i);var g=xm,b=Cv(i.containerInfo),S=g.focusedElem,U=g.selectionRange;if(b!==S&&S&&S.ownerDocument&&Iv(S.ownerDocument.documentElement,S)){if(U!==null&&rd(S)){var Y=U.start,te=U.end;if(te===void 0&&(te=Y),"selectionStart"in S)S.selectionStart=Y,S.selectionEnd=Math.min(te,S.value.length);else{var ae=S.ownerDocument||document,Q=ae&&ae.defaultView||window;if(Q.getSelection){var X=Q.getSelection(),Re=S.textContent.length,Te=Math.min(U.start,Re),ot=U.end===void 0?Te:Math.min(U.end,Re);!X.extend&&Te>ot&&(b=ot,ot=Te,Te=b);var H=Rv(S,Te),F=Rv(S,ot);if(H&&F&&(X.rangeCount!==1||X.anchorNode!==H.node||X.anchorOffset!==H.offset||X.focusNode!==F.node||X.focusOffset!==F.offset)){var K=ae.createRange();K.setStart(H.node,H.offset),X.removeAllRanges(),Te>ot?(X.addRange(K),X.extend(F.node,F.offset)):(K.setEnd(F.node,F.offset),X.addRange(K))}}}}for(ae=[],X=S;X=X.parentNode;)X.nodeType===1&&ae.push({element:X,left:X.scrollLeft,top:X.scrollTop});for(typeof S.focus=="function"&&S.focus(),S=0;S<ae.length;S++){var ne=ae[S];ne.element.scrollLeft=ne.left,ne.element.scrollTop=ne.top}}sh=!!Dm,xm=Dm=null}finally{nt=f,J.p=u,W.T=o}}i.current=a,Xt=2}}function F_(){if(Xt===2){Xt=0;var i=Xr,a=so,o=(a.flags&8772)!==0;if((a.subtreeFlags&8772)!==0||o){o=W.T,W.T=null;var u=J.p;J.p=2;var f=nt;nt|=4;try{y_(i,a.alternate,a)}finally{nt=f,J.p=u,W.T=o}}Xt=3}}function B_(){if(Xt===4||Xt===3){Xt=0,Hu();var i=Xr,a=so,o=oo,u=O_;(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0?Xt=5:(Xt=0,so=Xr=null,H_(i,i.pendingLanes));var f=i.pendingLanes;if(f===0&&(Qr=null),Rs(o),a=a.stateNode,tt&&typeof tt.onCommitFiberRoot=="function")try{tt.onCommitFiberRoot(yt,a,void 0,(a.current.flags&128)===128)}catch{}if(u!==null){a=W.T,f=J.p,J.p=2,W.T=null;try{for(var g=i.onRecoverableError,b=0;b<u.length;b++){var S=u[b];g(S.value,{componentStack:S.stack})}}finally{W.T=a,J.p=f}}(oo&3)!==0&&Yc(),Ci(i),f=i.pendingLanes,(o&4194090)!==0&&(f&42)!==0?i===gm?Ll++:(Ll=0,gm=i):Ll=0,Ul(0)}}function H_(i,a){(i.pooledCacheLanes&=a)===0&&(a=i.pooledCache,a!=null&&(i.pooledCache=null,vl(a)))}function Yc(i){return z_(),F_(),B_(),q_()}function q_(){if(Xt!==5)return!1;var i=Xr,a=mm;mm=0;var o=Rs(oo),u=W.T,f=J.p;try{J.p=32>o?32:o,W.T=null,o=pm,pm=null;var g=Xr,b=oo;if(Xt=0,so=Xr=null,oo=0,(nt&6)!==0)throw Error(r(331));var S=nt;if(nt|=4,I_(g.current),w_(g,g.current,b,o),nt=S,Ul(0,!1),tt&&typeof tt.onPostCommitFiberRoot=="function")try{tt.onPostCommitFiberRoot(yt,g)}catch{}return!0}finally{J.p=f,W.T=u,H_(i,a)}}function $_(i,a,o){a=Fn(o,a),a=Yd(i.stateNode,a,2),i=zr(i,a,2),i!==null&&(Gi(i,2),Ci(i))}function ut(i,a,o){if(i.tag===3)$_(i,i,o);else for(;a!==null;){if(a.tag===3){$_(a,i,o);break}else if(a.tag===1){var u=a.stateNode;if(typeof a.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(Qr===null||!Qr.has(u))){i=Fn(o,i),o=Qy(2),u=zr(a,o,2),u!==null&&(Xy(o,u,a,i),Gi(u,2),Ci(u));break}}a=a.return}}function bm(i,a,o){var u=i.pingCache;if(u===null){u=i.pingCache=new LA;var f=new Set;u.set(a,f)}else f=u.get(a),f===void 0&&(f=new Set,u.set(a,f));f.has(o)||(cm=!0,f.add(o),i=BA.bind(null,i,a,o),a.then(i,i))}function BA(i,a,o){var u=i.pingCache;u!==null&&u.delete(a),i.pingedLanes|=i.suspendedLanes&o,i.warmLanes&=~o,ct===i&&(He&o)===o&&(bt===4||bt===3&&(He&62914560)===He&&300>Pn()-dm?(nt&2)===0&&lo(i,0):hm|=o,ao===He&&(ao=0)),Ci(i)}function G_(i,a){a===0&&(a=Ko()),i=qs(i,a),i!==null&&(Gi(i,a),Ci(i))}function HA(i){var a=i.memoizedState,o=0;a!==null&&(o=a.retryLane),G_(i,o)}function qA(i,a){var o=0;switch(i.tag){case 13:var u=i.stateNode,f=i.memoizedState;f!==null&&(o=f.retryLane);break;case 19:u=i.stateNode;break;case 22:u=i.stateNode._retryCache;break;default:throw Error(r(314))}u!==null&&u.delete(a),G_(i,o)}function $A(i,a){return qi(i,a)}var Qc=null,co=null,Em=!1,Xc=!1,Tm=!1,ts=0;function Ci(i){i!==co&&i.next===null&&(co===null?Qc=co=i:co=co.next=i),Xc=!0,Em||(Em=!0,KA())}function Ul(i,a){if(!Tm&&Xc){Tm=!0;do for(var o=!1,u=Qc;u!==null;){if(i!==0){var f=u.pendingLanes;if(f===0)var g=0;else{var b=u.suspendedLanes,S=u.pingedLanes;g=(1<<31-nn(42|i)+1)-1,g&=f&~(b&~S),g=g&201326741?g&201326741|1:g?g|2:0}g!==0&&(o=!0,X_(u,g))}else g=He,g=As(u,u===ct?g:0,u.cancelPendingCommit!==null||u.timeoutHandle!==-1),(g&3)===0||Ra(u,g)||(o=!0,X_(u,g));u=u.next}while(o);Tm=!1}}function GA(){K_()}function K_(){Xc=Em=!1;var i=0;ts!==0&&(tR()&&(i=ts),ts=0);for(var a=Pn(),o=null,u=Qc;u!==null;){var f=u.next,g=Y_(u,a);g===0?(u.next=null,o===null?Qc=f:o.next=f,f===null&&(co=o)):(o=u,(i!==0||(g&3)!==0)&&(Xc=!0)),u=f}Ul(i)}function Y_(i,a){for(var o=i.suspendedLanes,u=i.pingedLanes,f=i.expirationTimes,g=i.pendingLanes&-62914561;0<g;){var b=31-nn(g),S=1<<b,U=f[b];U===-1?((S&o)===0||(S&u)!==0)&&(f[b]=$o(S,a)):U<=a&&(i.expiredLanes|=S),g&=~S}if(a=ct,o=He,o=As(i,i===a?o:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),u=i.callbackNode,o===0||i===a&&(it===2||it===9)||i.cancelPendingCommit!==null)return u!==null&&u!==null&&fi(u),i.callbackNode=null,i.callbackPriority=0;if((o&3)===0||Ra(i,o)){if(a=o&-o,a===i.callbackPriority)return a;switch(u!==null&&fi(u),Rs(o)){case 2:case 8:o=Ss;break;case 32:o=Ta;break;case 268435456:o=ws;break;default:o=Ta}return u=Q_.bind(null,i),o=qi(o,u),i.callbackPriority=a,i.callbackNode=o,a}return u!==null&&u!==null&&fi(u),i.callbackPriority=2,i.callbackNode=null,2}function Q_(i,a){if(Xt!==0&&Xt!==5)return i.callbackNode=null,i.callbackPriority=0,null;var o=i.callbackNode;if(Yc()&&i.callbackNode!==o)return null;var u=He;return u=As(i,i===ct?u:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),u===0?null:(x_(i,u,a),Y_(i,Pn()),i.callbackNode!=null&&i.callbackNode===o?Q_.bind(null,i):null)}function X_(i,a){if(Yc())return null;x_(i,a,!0)}function KA(){iR(function(){(nt&6)!==0?qi(Ho,GA):K_()})}function Sm(){return ts===0&&(ts=Go()),ts}function W_(i){return i==null||typeof i=="symbol"||typeof i=="boolean"?null:typeof i=="function"?i:Ms(""+i)}function Z_(i,a){var o=a.ownerDocument.createElement("input");return o.name=a.name,o.value=a.value,i.id&&o.setAttribute("form",i.id),a.parentNode.insertBefore(o,a),i=new FormData(i),o.parentNode.removeChild(o),i}function YA(i,a,o,u,f){if(a==="submit"&&o&&o.stateNode===f){var g=W_((f[Rt]||null).action),b=u.submitter;b&&(a=(a=b[Rt]||null)?W_(a.formAction):b.getAttribute("formAction"),a!==null&&(g=a,b=null));var S=new Ns("action","action",null,u,f);i.push({event:S,listeners:[{instance:null,listener:function(){if(u.defaultPrevented){if(ts!==0){var U=b?Z_(f,b):new FormData(f);Hd(o,{pending:!0,data:U,method:f.method,action:g},null,U)}}else typeof g=="function"&&(S.preventDefault(),U=b?Z_(f,b):new FormData(f),Hd(o,{pending:!0,data:U,method:f.method,action:g},g,U))},currentTarget:f}]})}}for(var wm=0;wm<ld.length;wm++){var Am=ld[wm],QA=Am.toLowerCase(),XA=Am[0].toUpperCase()+Am.slice(1);ei(QA,"on"+XA)}ei(xv,"onAnimationEnd"),ei(Mv,"onAnimationIteration"),ei(Nv,"onAnimationStart"),ei("dblclick","onDoubleClick"),ei("focusin","onFocus"),ei("focusout","onBlur"),ei(dA,"onTransitionRun"),ei(mA,"onTransitionStart"),ei(pA,"onTransitionCancel"),ei(Vv,"onTransitionEnd"),Yi("onMouseEnter",["mouseout","mouseover"]),Yi("onMouseLeave",["mouseout","mouseover"]),Yi("onPointerEnter",["pointerout","pointerover"]),Yi("onPointerLeave",["pointerout","pointerover"]),Zn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Zn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Zn("onBeforeInput",["compositionend","keypress","textInput","paste"]),Zn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Zn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Zn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var jl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),WA=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(jl));function J_(i,a){a=(a&4)!==0;for(var o=0;o<i.length;o++){var u=i[o],f=u.event;u=u.listeners;e:{var g=void 0;if(a)for(var b=u.length-1;0<=b;b--){var S=u[b],U=S.instance,Y=S.currentTarget;if(S=S.listener,U!==g&&f.isPropagationStopped())break e;g=S,f.currentTarget=Y;try{g(f)}catch(te){Lc(te)}f.currentTarget=null,g=U}else for(b=0;b<u.length;b++){if(S=u[b],U=S.instance,Y=S.currentTarget,S=S.listener,U!==g&&f.isPropagationStopped())break e;g=S,f.currentTarget=Y;try{g(f)}catch(te){Lc(te)}f.currentTarget=null,g=U}}}}function Le(i,a){var o=a[Xo];o===void 0&&(o=a[Xo]=new Set);var u=i+"__bubble";o.has(u)||(e0(a,i,2,!1),o.add(u))}function Rm(i,a,o){var u=0;a&&(u|=4),e0(o,i,u,a)}var Wc="_reactListening"+Math.random().toString(36).slice(2);function Im(i){if(!i[Wc]){i[Wc]=!0,Wo.forEach(function(o){o!=="selectionchange"&&(WA.has(o)||Rm(o,!1,i),Rm(o,!0,i))});var a=i.nodeType===9?i:i.ownerDocument;a===null||a[Wc]||(a[Wc]=!0,Rm("selectionchange",!1,a))}}function e0(i,a,o,u){switch(w0(a)){case 2:var f=wR;break;case 8:f=AR;break;default:f=Fm}o=f.bind(null,a,o,i),f=void 0,!jn||a!=="touchstart"&&a!=="touchmove"&&a!=="wheel"||(f=!0),u?f!==void 0?i.addEventListener(a,o,{capture:!0,passive:f}):i.addEventListener(a,o,!0):f!==void 0?i.addEventListener(a,o,{passive:f}):i.addEventListener(a,o,!1)}function Cm(i,a,o,u,f){var g=u;if((a&1)===0&&(a&2)===0&&u!==null)e:for(;;){if(u===null)return;var b=u.tag;if(b===3||b===4){var S=u.stateNode.containerInfo;if(S===f)break;if(b===4)for(b=u.return;b!==null;){var U=b.tag;if((U===3||U===4)&&b.stateNode.containerInfo===f)return;b=b.return}for(;S!==null;){if(b=Ki(S),b===null)return;if(U=b.tag,U===5||U===6||U===26||U===27){u=g=b;continue e}S=S.parentNode}}u=u.return}Ju(function(){var Y=g,te=Un(o),ae=[];e:{var Q=Pv.get(i);if(Q!==void 0){var X=Ns,Re=i;switch(i){case"keypress":if(_i(o)===0)break e;case"keydown":case"keyup":X=js;break;case"focusin":Re="focus",X=ks;break;case"focusout":Re="blur",X=ks;break;case"beforeblur":case"afterblur":X=ks;break;case"click":if(o.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":X=zn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":X=ed;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":X=oc;break;case xv:case Mv:case Nv:X=Ls;break;case Vv:X=uc;break;case"scroll":case"scrollend":X=ec;break;case"wheel":X=zs;break;case"copy":case"cut":case"paste":X=Us;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":X=ul;break;case"toggle":case"beforetoggle":X=hc}var Te=(a&4)!==0,ot=!Te&&(i==="scroll"||i==="scrollend"),H=Te?Q!==null?Q+"Capture":null:Q;Te=[];for(var F=Y,K;F!==null;){var ne=F;if(K=ne.stateNode,ne=ne.tag,ne!==5&&ne!==26&&ne!==27||K===null||H===null||(ne=Va(F,H),ne!=null&&Te.push(zl(F,ne,K))),ot)break;F=F.return}0<Te.length&&(Q=new X(Q,Re,null,o,te),ae.push({event:Q,listeners:Te}))}}if((a&7)===0){e:{if(Q=i==="mouseover"||i==="pointerover",X=i==="mouseout"||i==="pointerout",Q&&o!==Wi&&(Re=o.relatedTarget||o.fromElement)&&(Ki(Re)||Re[kn]))break e;if((X||Q)&&(Q=te.window===te?te:(Q=te.ownerDocument)?Q.defaultView||Q.parentWindow:window,X?(Re=o.relatedTarget||o.toElement,X=Y,Re=Re?Ki(Re):null,Re!==null&&(ot=l(Re),Te=Re.tag,Re!==ot||Te!==5&&Te!==27&&Te!==6)&&(Re=null)):(X=null,Re=Y),X!==Re)){if(Te=zn,ne="onMouseLeave",H="onMouseEnter",F="mouse",(i==="pointerout"||i==="pointerover")&&(Te=ul,ne="onPointerLeave",H="onPointerEnter",F="pointer"),ot=X==null?Q:pi(X),K=Re==null?Q:pi(Re),Q=new Te(ne,F+"leave",X,o,te),Q.target=ot,Q.relatedTarget=K,ne=null,Ki(te)===Y&&(Te=new Te(H,F+"enter",Re,o,te),Te.target=K,Te.relatedTarget=ot,ne=Te),ot=ne,X&&Re)t:{for(Te=X,H=Re,F=0,K=Te;K;K=ho(K))F++;for(K=0,ne=H;ne;ne=ho(ne))K++;for(;0<F-K;)Te=ho(Te),F--;for(;0<K-F;)H=ho(H),K--;for(;F--;){if(Te===H||H!==null&&Te===H.alternate)break t;Te=ho(Te),H=ho(H)}Te=null}else Te=null;X!==null&&t0(ae,Q,X,Te,!1),Re!==null&&ot!==null&&t0(ae,ot,Re,Te,!0)}}e:{if(Q=Y?pi(Y):window,X=Q.nodeName&&Q.nodeName.toLowerCase(),X==="select"||X==="input"&&Q.type==="file")var me=bv;else if(Pt(Q))if(Ev)me=cA;else{me=lA;var Pe=oA}else X=Q.nodeName,!X||X.toLowerCase()!=="input"||Q.type!=="checkbox"&&Q.type!=="radio"?Y&&nl(Y.elementType)&&(me=bv):me=uA;if(me&&(me=me(i,Y))){nr(ae,me,o,te);break e}Pe&&Pe(i,Q,Y),i==="focusout"&&Y&&Q.type==="number"&&Y.memoizedProps.value!=null&&Pr(Q,"number",Q.value)}switch(Pe=Y?pi(Y):window,i){case"focusin":(Pt(Pe)||Pe.contentEditable==="true")&&(Fs=Pe,ad=Y,fl=null);break;case"focusout":fl=ad=Fs=null;break;case"mousedown":sd=!0;break;case"contextmenu":case"mouseup":case"dragend":sd=!1,Ov(ae,o,te);break;case"selectionchange":if(fA)break;case"keydown":case"keyup":Ov(ae,o,te)}var ge;if(Ti)e:{switch(i){case"compositionstart":var Se="onCompositionStart";break e;case"compositionend":Se="onCompositionEnd";break e;case"compositionupdate":Se="onCompositionUpdate";break e}Se=void 0}else Fe?Z(i,o)&&(Se="onCompositionEnd"):i==="keydown"&&o.keyCode===229&&(Se="onCompositionStart");Se&&(_&&o.locale!=="ko"&&(Fe||Se!=="onCompositionStart"?Se==="onCompositionEnd"&&Fe&&(ge=rl()):(yi=te,kr="value"in yi?yi.value:yi.textContent,Fe=!0)),Pe=Zc(Y,Se),0<Pe.length&&(Se=new ol(Se,i,null,o,te),ae.push({event:Se,listeners:Pe}),ge?Se.data=ge:(ge=ce(o),ge!==null&&(Se.data=ge)))),(ge=v?Vt(i,o):Be(i,o))&&(Se=Zc(Y,"onBeforeInput"),0<Se.length&&(Pe=new ol("onBeforeInput","beforeinput",null,o,te),ae.push({event:Pe,listeners:Se}),Pe.data=ge)),YA(ae,i,Y,o,te)}J_(ae,a)})}function zl(i,a,o){return{instance:i,listener:a,currentTarget:o}}function Zc(i,a){for(var o=a+"Capture",u=[];i!==null;){var f=i,g=f.stateNode;if(f=f.tag,f!==5&&f!==26&&f!==27||g===null||(f=Va(i,o),f!=null&&u.unshift(zl(i,f,g)),f=Va(i,a),f!=null&&u.push(zl(i,f,g))),i.tag===3)return u;i=i.return}return[]}function ho(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5&&i.tag!==27);return i||null}function t0(i,a,o,u,f){for(var g=a._reactName,b=[];o!==null&&o!==u;){var S=o,U=S.alternate,Y=S.stateNode;if(S=S.tag,U!==null&&U===u)break;S!==5&&S!==26&&S!==27||Y===null||(U=Y,f?(Y=Va(o,g),Y!=null&&b.unshift(zl(o,Y,U))):f||(Y=Va(o,g),Y!=null&&b.push(zl(o,Y,U)))),o=o.return}b.length!==0&&i.push({event:a,listeners:b})}var ZA=/\r\n?/g,JA=/\u0000|\uFFFD/g;function n0(i){return(typeof i=="string"?i:""+i).replace(ZA,`
`).replace(JA,"")}function i0(i,a){return a=n0(a),n0(i)===a}function Jc(){}function st(i,a,o,u,f,g){switch(o){case"children":typeof u=="string"?a==="body"||a==="textarea"&&u===""||Ln(i,u):(typeof u=="number"||typeof u=="bigint")&&a!=="body"&&Ln(i,""+u);break;case"className":gi(i,"class",u);break;case"tabIndex":gi(i,"tabindex",u);break;case"dir":case"role":case"viewBox":case"width":case"height":gi(i,o,u);break;case"style":tl(i,u,g);break;case"data":if(a!=="object"){gi(i,"data",u);break}case"src":case"href":if(u===""&&(a!=="a"||o!=="href")){i.removeAttribute(o);break}if(u==null||typeof u=="function"||typeof u=="symbol"||typeof u=="boolean"){i.removeAttribute(o);break}u=Ms(""+u),i.setAttribute(o,u);break;case"action":case"formAction":if(typeof u=="function"){i.setAttribute(o,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof g=="function"&&(o==="formAction"?(a!=="input"&&st(i,a,"name",f.name,f,null),st(i,a,"formEncType",f.formEncType,f,null),st(i,a,"formMethod",f.formMethod,f,null),st(i,a,"formTarget",f.formTarget,f,null)):(st(i,a,"encType",f.encType,f,null),st(i,a,"method",f.method,f,null),st(i,a,"target",f.target,f,null)));if(u==null||typeof u=="symbol"||typeof u=="boolean"){i.removeAttribute(o);break}u=Ms(""+u),i.setAttribute(o,u);break;case"onClick":u!=null&&(i.onclick=Jc);break;case"onScroll":u!=null&&Le("scroll",i);break;case"onScrollEnd":u!=null&&Le("scrollend",i);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(r(61));if(o=u.__html,o!=null){if(f.children!=null)throw Error(r(60));i.innerHTML=o}}break;case"multiple":i.multiple=u&&typeof u!="function"&&typeof u!="symbol";break;case"muted":i.muted=u&&typeof u!="function"&&typeof u!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(u==null||typeof u=="function"||typeof u=="boolean"||typeof u=="symbol"){i.removeAttribute("xlink:href");break}o=Ms(""+u),i.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",o);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":u!=null&&typeof u!="function"&&typeof u!="symbol"?i.setAttribute(o,""+u):i.removeAttribute(o);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":u&&typeof u!="function"&&typeof u!="symbol"?i.setAttribute(o,""):i.removeAttribute(o);break;case"capture":case"download":u===!0?i.setAttribute(o,""):u!==!1&&u!=null&&typeof u!="function"&&typeof u!="symbol"?i.setAttribute(o,u):i.removeAttribute(o);break;case"cols":case"rows":case"size":case"span":u!=null&&typeof u!="function"&&typeof u!="symbol"&&!isNaN(u)&&1<=u?i.setAttribute(o,u):i.removeAttribute(o);break;case"rowSpan":case"start":u==null||typeof u=="function"||typeof u=="symbol"||isNaN(u)?i.removeAttribute(o):i.setAttribute(o,u);break;case"popover":Le("beforetoggle",i),Le("toggle",i),Vr(i,"popover",u);break;case"xlinkActuate":Kt(i,"http://www.w3.org/1999/xlink","xlink:actuate",u);break;case"xlinkArcrole":Kt(i,"http://www.w3.org/1999/xlink","xlink:arcrole",u);break;case"xlinkRole":Kt(i,"http://www.w3.org/1999/xlink","xlink:role",u);break;case"xlinkShow":Kt(i,"http://www.w3.org/1999/xlink","xlink:show",u);break;case"xlinkTitle":Kt(i,"http://www.w3.org/1999/xlink","xlink:title",u);break;case"xlinkType":Kt(i,"http://www.w3.org/1999/xlink","xlink:type",u);break;case"xmlBase":Kt(i,"http://www.w3.org/XML/1998/namespace","xml:base",u);break;case"xmlLang":Kt(i,"http://www.w3.org/XML/1998/namespace","xml:lang",u);break;case"xmlSpace":Kt(i,"http://www.w3.org/XML/1998/namespace","xml:space",u);break;case"is":Vr(i,"is",u);break;case"innerText":case"textContent":break;default:(!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(o=Zf.get(o)||o,Vr(i,o,u))}}function Om(i,a,o,u,f,g){switch(o){case"style":tl(i,u,g);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(r(61));if(o=u.__html,o!=null){if(f.children!=null)throw Error(r(60));i.innerHTML=o}}break;case"children":typeof u=="string"?Ln(i,u):(typeof u=="number"||typeof u=="bigint")&&Ln(i,""+u);break;case"onScroll":u!=null&&Le("scroll",i);break;case"onScrollEnd":u!=null&&Le("scrollend",i);break;case"onClick":u!=null&&(i.onclick=Jc);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Is.hasOwnProperty(o))e:{if(o[0]==="o"&&o[1]==="n"&&(f=o.endsWith("Capture"),a=o.slice(2,f?o.length-7:void 0),g=i[Rt]||null,g=g!=null?g[o]:null,typeof g=="function"&&i.removeEventListener(a,g,f),typeof u=="function")){typeof g!="function"&&g!==null&&(o in i?i[o]=null:i.hasAttribute(o)&&i.removeAttribute(o)),i.addEventListener(a,u,f);break e}o in i?i[o]=u:u===!0?i.setAttribute(o,""):Vr(i,o,u)}}}function Wt(i,a,o){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Le("error",i),Le("load",i);var u=!1,f=!1,g;for(g in o)if(o.hasOwnProperty(g)){var b=o[g];if(b!=null)switch(g){case"src":u=!0;break;case"srcSet":f=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,a));default:st(i,a,g,b,o,null)}}f&&st(i,a,"srcSet",o.srcSet,o,null),u&&st(i,a,"src",o.src,o,null);return;case"input":Le("invalid",i);var S=g=b=f=null,U=null,Y=null;for(u in o)if(o.hasOwnProperty(u)){var te=o[u];if(te!=null)switch(u){case"name":f=te;break;case"type":b=te;break;case"checked":U=te;break;case"defaultChecked":Y=te;break;case"value":g=te;break;case"defaultValue":S=te;break;case"children":case"dangerouslySetInnerHTML":if(te!=null)throw Error(r(137,a));break;default:st(i,a,u,te,o,null)}}xa(i,g,S,U,Y,b,f,!1),xs(i);return;case"select":Le("invalid",i),u=b=g=null;for(f in o)if(o.hasOwnProperty(f)&&(S=o[f],S!=null))switch(f){case"value":g=S;break;case"defaultValue":b=S;break;case"multiple":u=S;default:st(i,a,f,S,o,null)}a=g,o=b,i.multiple=!!u,a!=null?Xi(i,!!u,a,!1):o!=null&&Xi(i,!!u,o,!0);return;case"textarea":Le("invalid",i),g=f=u=null;for(b in o)if(o.hasOwnProperty(b)&&(S=o[b],S!=null))switch(b){case"value":u=S;break;case"defaultValue":f=S;break;case"children":g=S;break;case"dangerouslySetInnerHTML":if(S!=null)throw Error(r(91));break;default:st(i,a,b,S,o,null)}Ma(i,u,f,g),xs(i);return;case"option":for(U in o)if(o.hasOwnProperty(U)&&(u=o[U],u!=null))switch(U){case"selected":i.selected=u&&typeof u!="function"&&typeof u!="symbol";break;default:st(i,a,U,u,o,null)}return;case"dialog":Le("beforetoggle",i),Le("toggle",i),Le("cancel",i),Le("close",i);break;case"iframe":case"object":Le("load",i);break;case"video":case"audio":for(u=0;u<jl.length;u++)Le(jl[u],i);break;case"image":Le("error",i),Le("load",i);break;case"details":Le("toggle",i);break;case"embed":case"source":case"link":Le("error",i),Le("load",i);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Y in o)if(o.hasOwnProperty(Y)&&(u=o[Y],u!=null))switch(Y){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,a));default:st(i,a,Y,u,o,null)}return;default:if(nl(a)){for(te in o)o.hasOwnProperty(te)&&(u=o[te],u!==void 0&&Om(i,a,te,u,o,void 0));return}}for(S in o)o.hasOwnProperty(S)&&(u=o[S],u!=null&&st(i,a,S,u,o,null))}function eR(i,a,o,u){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var f=null,g=null,b=null,S=null,U=null,Y=null,te=null;for(X in o){var ae=o[X];if(o.hasOwnProperty(X)&&ae!=null)switch(X){case"checked":break;case"value":break;case"defaultValue":U=ae;default:u.hasOwnProperty(X)||st(i,a,X,null,u,ae)}}for(var Q in u){var X=u[Q];if(ae=o[Q],u.hasOwnProperty(Q)&&(X!=null||ae!=null))switch(Q){case"type":g=X;break;case"name":f=X;break;case"checked":Y=X;break;case"defaultChecked":te=X;break;case"value":b=X;break;case"defaultValue":S=X;break;case"children":case"dangerouslySetInnerHTML":if(X!=null)throw Error(r(137,a));break;default:X!==ae&&st(i,a,Q,X,u,ae)}}wn(i,b,S,U,Y,te,g,f);return;case"select":X=b=S=Q=null;for(g in o)if(U=o[g],o.hasOwnProperty(g)&&U!=null)switch(g){case"value":break;case"multiple":X=U;default:u.hasOwnProperty(g)||st(i,a,g,null,u,U)}for(f in u)if(g=u[f],U=o[f],u.hasOwnProperty(f)&&(g!=null||U!=null))switch(f){case"value":Q=g;break;case"defaultValue":S=g;break;case"multiple":b=g;default:g!==U&&st(i,a,f,g,u,U)}a=S,o=b,u=X,Q!=null?Xi(i,!!o,Q,!1):!!u!=!!o&&(a!=null?Xi(i,!!o,a,!0):Xi(i,!!o,o?[]:"",!1));return;case"textarea":X=Q=null;for(S in o)if(f=o[S],o.hasOwnProperty(S)&&f!=null&&!u.hasOwnProperty(S))switch(S){case"value":break;case"children":break;default:st(i,a,S,null,u,f)}for(b in u)if(f=u[b],g=o[b],u.hasOwnProperty(b)&&(f!=null||g!=null))switch(b){case"value":Q=f;break;case"defaultValue":X=f;break;case"children":break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(r(91));break;default:f!==g&&st(i,a,b,f,u,g)}rt(i,Q,X);return;case"option":for(var Re in o)if(Q=o[Re],o.hasOwnProperty(Re)&&Q!=null&&!u.hasOwnProperty(Re))switch(Re){case"selected":i.selected=!1;break;default:st(i,a,Re,null,u,Q)}for(U in u)if(Q=u[U],X=o[U],u.hasOwnProperty(U)&&Q!==X&&(Q!=null||X!=null))switch(U){case"selected":i.selected=Q&&typeof Q!="function"&&typeof Q!="symbol";break;default:st(i,a,U,Q,u,X)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Te in o)Q=o[Te],o.hasOwnProperty(Te)&&Q!=null&&!u.hasOwnProperty(Te)&&st(i,a,Te,null,u,Q);for(Y in u)if(Q=u[Y],X=o[Y],u.hasOwnProperty(Y)&&Q!==X&&(Q!=null||X!=null))switch(Y){case"children":case"dangerouslySetInnerHTML":if(Q!=null)throw Error(r(137,a));break;default:st(i,a,Y,Q,u,X)}return;default:if(nl(a)){for(var ot in o)Q=o[ot],o.hasOwnProperty(ot)&&Q!==void 0&&!u.hasOwnProperty(ot)&&Om(i,a,ot,void 0,u,Q);for(te in u)Q=u[te],X=o[te],!u.hasOwnProperty(te)||Q===X||Q===void 0&&X===void 0||Om(i,a,te,Q,u,X);return}}for(var H in o)Q=o[H],o.hasOwnProperty(H)&&Q!=null&&!u.hasOwnProperty(H)&&st(i,a,H,null,u,Q);for(ae in u)Q=u[ae],X=o[ae],!u.hasOwnProperty(ae)||Q===X||Q==null&&X==null||st(i,a,ae,Q,u,X)}var Dm=null,xm=null;function eh(i){return i.nodeType===9?i:i.ownerDocument}function r0(i){switch(i){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function a0(i,a){if(i===0)switch(a){case"svg":return 1;case"math":return 2;default:return 0}return i===1&&a==="foreignObject"?0:i}function Mm(i,a){return i==="textarea"||i==="noscript"||typeof a.children=="string"||typeof a.children=="number"||typeof a.children=="bigint"||typeof a.dangerouslySetInnerHTML=="object"&&a.dangerouslySetInnerHTML!==null&&a.dangerouslySetInnerHTML.__html!=null}var Nm=null;function tR(){var i=window.event;return i&&i.type==="popstate"?i===Nm?!1:(Nm=i,!0):(Nm=null,!1)}var s0=typeof setTimeout=="function"?setTimeout:void 0,nR=typeof clearTimeout=="function"?clearTimeout:void 0,o0=typeof Promise=="function"?Promise:void 0,iR=typeof queueMicrotask=="function"?queueMicrotask:typeof o0<"u"?function(i){return o0.resolve(null).then(i).catch(rR)}:s0;function rR(i){setTimeout(function(){throw i})}function Zr(i){return i==="head"}function l0(i,a){var o=a,u=0,f=0;do{var g=o.nextSibling;if(i.removeChild(o),g&&g.nodeType===8)if(o=g.data,o==="/$"){if(0<u&&8>u){o=u;var b=i.ownerDocument;if(o&1&&Fl(b.documentElement),o&2&&Fl(b.body),o&4)for(o=b.head,Fl(o),b=o.firstChild;b;){var S=b.nextSibling,U=b.nodeName;b[Ia]||U==="SCRIPT"||U==="STYLE"||U==="LINK"&&b.rel.toLowerCase()==="stylesheet"||o.removeChild(b),b=S}}if(f===0){i.removeChild(g),Ql(a);return}f--}else o==="$"||o==="$?"||o==="$!"?f++:u=o.charCodeAt(0)-48;else u=0;o=g}while(o);Ql(a)}function Vm(i){var a=i.firstChild;for(a&&a.nodeType===10&&(a=a.nextSibling);a;){var o=a;switch(a=a.nextSibling,o.nodeName){case"HTML":case"HEAD":case"BODY":Vm(o),Nr(o);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(o.rel.toLowerCase()==="stylesheet")continue}i.removeChild(o)}}function aR(i,a,o,u){for(;i.nodeType===1;){var f=o;if(i.nodeName.toLowerCase()!==a.toLowerCase()){if(!u&&(i.nodeName!=="INPUT"||i.type!=="hidden"))break}else if(u){if(!i[Ia])switch(a){case"meta":if(!i.hasAttribute("itemprop"))break;return i;case"link":if(g=i.getAttribute("rel"),g==="stylesheet"&&i.hasAttribute("data-precedence"))break;if(g!==f.rel||i.getAttribute("href")!==(f.href==null||f.href===""?null:f.href)||i.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin)||i.getAttribute("title")!==(f.title==null?null:f.title))break;return i;case"style":if(i.hasAttribute("data-precedence"))break;return i;case"script":if(g=i.getAttribute("src"),(g!==(f.src==null?null:f.src)||i.getAttribute("type")!==(f.type==null?null:f.type)||i.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin))&&g&&i.hasAttribute("async")&&!i.hasAttribute("itemprop"))break;return i;default:return i}}else if(a==="input"&&i.type==="hidden"){var g=f.name==null?null:""+f.name;if(f.type==="hidden"&&i.getAttribute("name")===g)return i}else return i;if(i=ni(i.nextSibling),i===null)break}return null}function sR(i,a,o){if(a==="")return null;for(;i.nodeType!==3;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!o||(i=ni(i.nextSibling),i===null))return null;return i}function Pm(i){return i.data==="$!"||i.data==="$?"&&i.ownerDocument.readyState==="complete"}function oR(i,a){var o=i.ownerDocument;if(i.data!=="$?"||o.readyState==="complete")a();else{var u=function(){a(),o.removeEventListener("DOMContentLoaded",u)};o.addEventListener("DOMContentLoaded",u),i._reactRetry=u}}function ni(i){for(;i!=null;i=i.nextSibling){var a=i.nodeType;if(a===1||a===3)break;if(a===8){if(a=i.data,a==="$"||a==="$!"||a==="$?"||a==="F!"||a==="F")break;if(a==="/$")return null}}return i}var km=null;function u0(i){i=i.previousSibling;for(var a=0;i;){if(i.nodeType===8){var o=i.data;if(o==="$"||o==="$!"||o==="$?"){if(a===0)return i;a--}else o==="/$"&&a++}i=i.previousSibling}return null}function c0(i,a,o){switch(a=eh(o),i){case"html":if(i=a.documentElement,!i)throw Error(r(452));return i;case"head":if(i=a.head,!i)throw Error(r(453));return i;case"body":if(i=a.body,!i)throw Error(r(454));return i;default:throw Error(r(451))}}function Fl(i){for(var a=i.attributes;a.length;)i.removeAttributeNode(a[0]);Nr(i)}var Kn=new Map,h0=new Set;function th(i){return typeof i.getRootNode=="function"?i.getRootNode():i.nodeType===9?i:i.ownerDocument}var pr=J.d;J.d={f:lR,r:uR,D:cR,C:hR,L:fR,m:dR,X:pR,S:mR,M:gR};function lR(){var i=pr.f(),a=Gc();return i||a}function uR(i){var a=mi(i);a!==null&&a.tag===5&&a.type==="form"?xy(a):pr.r(i)}var fo=typeof document>"u"?null:document;function f0(i,a,o){var u=fo;if(u&&typeof a=="string"&&a){var f=It(a);f='link[rel="'+i+'"][href="'+f+'"]',typeof o=="string"&&(f+='[crossorigin="'+o+'"]'),h0.has(f)||(h0.add(f),i={rel:i,crossOrigin:o,href:a},u.querySelector(f)===null&&(a=u.createElement("link"),Wt(a,"link",i),Tt(a),u.head.appendChild(a)))}}function cR(i){pr.D(i),f0("dns-prefetch",i,null)}function hR(i,a){pr.C(i,a),f0("preconnect",i,a)}function fR(i,a,o){pr.L(i,a,o);var u=fo;if(u&&i&&a){var f='link[rel="preload"][as="'+It(a)+'"]';a==="image"&&o&&o.imageSrcSet?(f+='[imagesrcset="'+It(o.imageSrcSet)+'"]',typeof o.imageSizes=="string"&&(f+='[imagesizes="'+It(o.imageSizes)+'"]')):f+='[href="'+It(i)+'"]';var g=f;switch(a){case"style":g=mo(i);break;case"script":g=po(i)}Kn.has(g)||(i=y({rel:"preload",href:a==="image"&&o&&o.imageSrcSet?void 0:i,as:a},o),Kn.set(g,i),u.querySelector(f)!==null||a==="style"&&u.querySelector(Bl(g))||a==="script"&&u.querySelector(Hl(g))||(a=u.createElement("link"),Wt(a,"link",i),Tt(a),u.head.appendChild(a)))}}function dR(i,a){pr.m(i,a);var o=fo;if(o&&i){var u=a&&typeof a.as=="string"?a.as:"script",f='link[rel="modulepreload"][as="'+It(u)+'"][href="'+It(i)+'"]',g=f;switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":g=po(i)}if(!Kn.has(g)&&(i=y({rel:"modulepreload",href:i},a),Kn.set(g,i),o.querySelector(f)===null)){switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(o.querySelector(Hl(g)))return}u=o.createElement("link"),Wt(u,"link",i),Tt(u),o.head.appendChild(u)}}}function mR(i,a,o){pr.S(i,a,o);var u=fo;if(u&&i){var f=fn(u).hoistableStyles,g=mo(i);a=a||"default";var b=f.get(g);if(!b){var S={loading:0,preload:null};if(b=u.querySelector(Bl(g)))S.loading=5;else{i=y({rel:"stylesheet",href:i,"data-precedence":a},o),(o=Kn.get(g))&&Lm(i,o);var U=b=u.createElement("link");Tt(U),Wt(U,"link",i),U._p=new Promise(function(Y,te){U.onload=Y,U.onerror=te}),U.addEventListener("load",function(){S.loading|=1}),U.addEventListener("error",function(){S.loading|=2}),S.loading|=4,nh(b,a,u)}b={type:"stylesheet",instance:b,count:1,state:S},f.set(g,b)}}}function pR(i,a){pr.X(i,a);var o=fo;if(o&&i){var u=fn(o).hoistableScripts,f=po(i),g=u.get(f);g||(g=o.querySelector(Hl(f)),g||(i=y({src:i,async:!0},a),(a=Kn.get(f))&&Um(i,a),g=o.createElement("script"),Tt(g),Wt(g,"link",i),o.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},u.set(f,g))}}function gR(i,a){pr.M(i,a);var o=fo;if(o&&i){var u=fn(o).hoistableScripts,f=po(i),g=u.get(f);g||(g=o.querySelector(Hl(f)),g||(i=y({src:i,async:!0,type:"module"},a),(a=Kn.get(f))&&Um(i,a),g=o.createElement("script"),Tt(g),Wt(g,"link",i),o.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},u.set(f,g))}}function d0(i,a,o,u){var f=(f=pe.current)?th(f):null;if(!f)throw Error(r(446));switch(i){case"meta":case"title":return null;case"style":return typeof o.precedence=="string"&&typeof o.href=="string"?(a=mo(o.href),o=fn(f).hoistableStyles,u=o.get(a),u||(u={type:"style",instance:null,count:0,state:null},o.set(a,u)),u):{type:"void",instance:null,count:0,state:null};case"link":if(o.rel==="stylesheet"&&typeof o.href=="string"&&typeof o.precedence=="string"){i=mo(o.href);var g=fn(f).hoistableStyles,b=g.get(i);if(b||(f=f.ownerDocument||f,b={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},g.set(i,b),(g=f.querySelector(Bl(i)))&&!g._p&&(b.instance=g,b.state.loading=5),Kn.has(i)||(o={rel:"preload",as:"style",href:o.href,crossOrigin:o.crossOrigin,integrity:o.integrity,media:o.media,hrefLang:o.hrefLang,referrerPolicy:o.referrerPolicy},Kn.set(i,o),g||vR(f,i,o,b.state))),a&&u===null)throw Error(r(528,""));return b}if(a&&u!==null)throw Error(r(529,""));return null;case"script":return a=o.async,o=o.src,typeof o=="string"&&a&&typeof a!="function"&&typeof a!="symbol"?(a=po(o),o=fn(f).hoistableScripts,u=o.get(a),u||(u={type:"script",instance:null,count:0,state:null},o.set(a,u)),u):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,i))}}function mo(i){return'href="'+It(i)+'"'}function Bl(i){return'link[rel="stylesheet"]['+i+"]"}function m0(i){return y({},i,{"data-precedence":i.precedence,precedence:null})}function vR(i,a,o,u){i.querySelector('link[rel="preload"][as="style"]['+a+"]")?u.loading=1:(a=i.createElement("link"),u.preload=a,a.addEventListener("load",function(){return u.loading|=1}),a.addEventListener("error",function(){return u.loading|=2}),Wt(a,"link",o),Tt(a),i.head.appendChild(a))}function po(i){return'[src="'+It(i)+'"]'}function Hl(i){return"script[async]"+i}function p0(i,a,o){if(a.count++,a.instance===null)switch(a.type){case"style":var u=i.querySelector('style[data-href~="'+It(o.href)+'"]');if(u)return a.instance=u,Tt(u),u;var f=y({},o,{"data-href":o.href,"data-precedence":o.precedence,href:null,precedence:null});return u=(i.ownerDocument||i).createElement("style"),Tt(u),Wt(u,"style",f),nh(u,o.precedence,i),a.instance=u;case"stylesheet":f=mo(o.href);var g=i.querySelector(Bl(f));if(g)return a.state.loading|=4,a.instance=g,Tt(g),g;u=m0(o),(f=Kn.get(f))&&Lm(u,f),g=(i.ownerDocument||i).createElement("link"),Tt(g);var b=g;return b._p=new Promise(function(S,U){b.onload=S,b.onerror=U}),Wt(g,"link",u),a.state.loading|=4,nh(g,o.precedence,i),a.instance=g;case"script":return g=po(o.src),(f=i.querySelector(Hl(g)))?(a.instance=f,Tt(f),f):(u=o,(f=Kn.get(g))&&(u=y({},o),Um(u,f)),i=i.ownerDocument||i,f=i.createElement("script"),Tt(f),Wt(f,"link",u),i.head.appendChild(f),a.instance=f);case"void":return null;default:throw Error(r(443,a.type))}else a.type==="stylesheet"&&(a.state.loading&4)===0&&(u=a.instance,a.state.loading|=4,nh(u,o.precedence,i));return a.instance}function nh(i,a,o){for(var u=o.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),f=u.length?u[u.length-1]:null,g=f,b=0;b<u.length;b++){var S=u[b];if(S.dataset.precedence===a)g=S;else if(g!==f)break}g?g.parentNode.insertBefore(i,g.nextSibling):(a=o.nodeType===9?o.head:o,a.insertBefore(i,a.firstChild))}function Lm(i,a){i.crossOrigin==null&&(i.crossOrigin=a.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=a.referrerPolicy),i.title==null&&(i.title=a.title)}function Um(i,a){i.crossOrigin==null&&(i.crossOrigin=a.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=a.referrerPolicy),i.integrity==null&&(i.integrity=a.integrity)}var ih=null;function g0(i,a,o){if(ih===null){var u=new Map,f=ih=new Map;f.set(o,u)}else f=ih,u=f.get(o),u||(u=new Map,f.set(o,u));if(u.has(i))return u;for(u.set(i,null),o=o.getElementsByTagName(i),f=0;f<o.length;f++){var g=o[f];if(!(g[Ia]||g[Nt]||i==="link"&&g.getAttribute("rel")==="stylesheet")&&g.namespaceURI!=="http://www.w3.org/2000/svg"){var b=g.getAttribute(a)||"";b=i+b;var S=u.get(b);S?S.push(g):u.set(b,[g])}}return u}function v0(i,a,o){i=i.ownerDocument||i,i.head.insertBefore(o,a==="title"?i.querySelector("head > title"):null)}function yR(i,a,o){if(o===1||a.itemProp!=null)return!1;switch(i){case"meta":case"title":return!0;case"style":if(typeof a.precedence!="string"||typeof a.href!="string"||a.href==="")break;return!0;case"link":if(typeof a.rel!="string"||typeof a.href!="string"||a.href===""||a.onLoad||a.onError)break;switch(a.rel){case"stylesheet":return i=a.disabled,typeof a.precedence=="string"&&i==null;default:return!0}case"script":if(a.async&&typeof a.async!="function"&&typeof a.async!="symbol"&&!a.onLoad&&!a.onError&&a.src&&typeof a.src=="string")return!0}return!1}function y0(i){return!(i.type==="stylesheet"&&(i.state.loading&3)===0)}var ql=null;function _R(){}function bR(i,a,o){if(ql===null)throw Error(r(475));var u=ql;if(a.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var f=mo(o.href),g=i.querySelector(Bl(f));if(g){i=g._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(u.count++,u=rh.bind(u),i.then(u,u)),a.state.loading|=4,a.instance=g,Tt(g);return}g=i.ownerDocument||i,o=m0(o),(f=Kn.get(f))&&Lm(o,f),g=g.createElement("link"),Tt(g);var b=g;b._p=new Promise(function(S,U){b.onload=S,b.onerror=U}),Wt(g,"link",o),a.instance=g}u.stylesheets===null&&(u.stylesheets=new Map),u.stylesheets.set(a,i),(i=a.state.preload)&&(a.state.loading&3)===0&&(u.count++,a=rh.bind(u),i.addEventListener("load",a),i.addEventListener("error",a))}}function ER(){if(ql===null)throw Error(r(475));var i=ql;return i.stylesheets&&i.count===0&&jm(i,i.stylesheets),0<i.count?function(a){var o=setTimeout(function(){if(i.stylesheets&&jm(i,i.stylesheets),i.unsuspend){var u=i.unsuspend;i.unsuspend=null,u()}},6e4);return i.unsuspend=a,function(){i.unsuspend=null,clearTimeout(o)}}:null}function rh(){if(this.count--,this.count===0){if(this.stylesheets)jm(this,this.stylesheets);else if(this.unsuspend){var i=this.unsuspend;this.unsuspend=null,i()}}}var ah=null;function jm(i,a){i.stylesheets=null,i.unsuspend!==null&&(i.count++,ah=new Map,a.forEach(TR,i),ah=null,rh.call(i))}function TR(i,a){if(!(a.state.loading&4)){var o=ah.get(i);if(o)var u=o.get(null);else{o=new Map,ah.set(i,o);for(var f=i.querySelectorAll("link[data-precedence],style[data-precedence]"),g=0;g<f.length;g++){var b=f[g];(b.nodeName==="LINK"||b.getAttribute("media")!=="not all")&&(o.set(b.dataset.precedence,b),u=b)}u&&o.set(null,u)}f=a.instance,b=f.getAttribute("data-precedence"),g=o.get(b)||u,g===u&&o.set(null,f),o.set(b,f),this.count++,u=rh.bind(this),f.addEventListener("load",u),f.addEventListener("error",u),g?g.parentNode.insertBefore(f,g.nextSibling):(i=i.nodeType===9?i.head:i,i.insertBefore(f,i.firstChild)),a.state.loading|=4}}var $l={$$typeof:$,Provider:null,Consumer:null,_currentValue:he,_currentValue2:he,_threadCount:0};function SR(i,a,o,u,f,g,b,S){this.tag=1,this.containerInfo=i,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=$i(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=$i(0),this.hiddenUpdates=$i(null),this.identifierPrefix=u,this.onUncaughtError=f,this.onCaughtError=g,this.onRecoverableError=b,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=S,this.incompleteTransitions=new Map}function _0(i,a,o,u,f,g,b,S,U,Y,te,ae){return i=new SR(i,a,o,b,S,U,Y,ae),a=1,g===!0&&(a|=24),g=Rn(3,null,null,a),i.current=g,g.stateNode=i,a=bd(),a.refCount++,i.pooledCache=a,a.refCount++,g.memoizedState={element:u,isDehydrated:o,cache:a},wd(g),i}function b0(i){return i?(i=$s,i):$s}function E0(i,a,o,u,f,g){f=b0(f),u.context===null?u.context=f:u.pendingContext=f,u=jr(a),u.payload={element:o},g=g===void 0?null:g,g!==null&&(u.callback=g),o=zr(i,u,a),o!==null&&(xn(o,i,a),El(o,i,a))}function T0(i,a){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var o=i.retryLane;i.retryLane=o!==0&&o<a?o:a}}function zm(i,a){T0(i,a),(i=i.alternate)&&T0(i,a)}function S0(i){if(i.tag===13){var a=qs(i,67108864);a!==null&&xn(a,i,67108864),zm(i,67108864)}}var sh=!0;function wR(i,a,o,u){var f=W.T;W.T=null;var g=J.p;try{J.p=2,Fm(i,a,o,u)}finally{J.p=g,W.T=f}}function AR(i,a,o,u){var f=W.T;W.T=null;var g=J.p;try{J.p=8,Fm(i,a,o,u)}finally{J.p=g,W.T=f}}function Fm(i,a,o,u){if(sh){var f=Bm(u);if(f===null)Cm(i,a,u,oh,o),A0(i,u);else if(IR(f,i,a,o,u))u.stopPropagation();else if(A0(i,u),a&4&&-1<RR.indexOf(i)){for(;f!==null;){var g=mi(f);if(g!==null)switch(g.tag){case 3:if(g=g.stateNode,g.current.memoizedState.isDehydrated){var b=Wn(g.pendingLanes);if(b!==0){var S=g;for(S.pendingLanes|=2,S.entangledLanes|=2;b;){var U=1<<31-nn(b);S.entanglements[1]|=U,b&=~U}Ci(g),(nt&6)===0&&(qc=Pn()+500,Ul(0))}}break;case 13:S=qs(g,2),S!==null&&xn(S,g,2),Gc(),zm(g,2)}if(g=Bm(u),g===null&&Cm(i,a,u,oh,o),g===f)break;f=g}f!==null&&u.stopPropagation()}else Cm(i,a,u,null,o)}}function Bm(i){return i=Un(i),Hm(i)}var oh=null;function Hm(i){if(oh=null,i=Ki(i),i!==null){var a=l(i);if(a===null)i=null;else{var o=a.tag;if(o===13){if(i=c(a),i!==null)return i;i=null}else if(o===3){if(a.stateNode.current.memoizedState.isDehydrated)return a.tag===3?a.stateNode.containerInfo:null;i=null}else a!==i&&(i=null)}}return oh=i,null}function w0(i){switch(i){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Gf()){case Ho:return 2;case Ss:return 8;case Ta:case Kf:return 32;case ws:return 268435456;default:return 32}default:return 32}}var qm=!1,Jr=null,ea=null,ta=null,Gl=new Map,Kl=new Map,na=[],RR="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function A0(i,a){switch(i){case"focusin":case"focusout":Jr=null;break;case"dragenter":case"dragleave":ea=null;break;case"mouseover":case"mouseout":ta=null;break;case"pointerover":case"pointerout":Gl.delete(a.pointerId);break;case"gotpointercapture":case"lostpointercapture":Kl.delete(a.pointerId)}}function Yl(i,a,o,u,f,g){return i===null||i.nativeEvent!==g?(i={blockedOn:a,domEventName:o,eventSystemFlags:u,nativeEvent:g,targetContainers:[f]},a!==null&&(a=mi(a),a!==null&&S0(a)),i):(i.eventSystemFlags|=u,a=i.targetContainers,f!==null&&a.indexOf(f)===-1&&a.push(f),i)}function IR(i,a,o,u,f){switch(a){case"focusin":return Jr=Yl(Jr,i,a,o,u,f),!0;case"dragenter":return ea=Yl(ea,i,a,o,u,f),!0;case"mouseover":return ta=Yl(ta,i,a,o,u,f),!0;case"pointerover":var g=f.pointerId;return Gl.set(g,Yl(Gl.get(g)||null,i,a,o,u,f)),!0;case"gotpointercapture":return g=f.pointerId,Kl.set(g,Yl(Kl.get(g)||null,i,a,o,u,f)),!0}return!1}function R0(i){var a=Ki(i.target);if(a!==null){var o=l(a);if(o!==null){if(a=o.tag,a===13){if(a=c(o),a!==null){i.blockedOn=a,Gu(i.priority,function(){if(o.tag===13){var u=Dn();u=Dr(u);var f=qs(o,u);f!==null&&xn(f,o,u),zm(o,u)}});return}}else if(a===3&&o.stateNode.current.memoizedState.isDehydrated){i.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}i.blockedOn=null}function lh(i){if(i.blockedOn!==null)return!1;for(var a=i.targetContainers;0<a.length;){var o=Bm(i.nativeEvent);if(o===null){o=i.nativeEvent;var u=new o.constructor(o.type,o);Wi=u,o.target.dispatchEvent(u),Wi=null}else return a=mi(o),a!==null&&S0(a),i.blockedOn=o,!1;a.shift()}return!0}function I0(i,a,o){lh(i)&&o.delete(a)}function CR(){qm=!1,Jr!==null&&lh(Jr)&&(Jr=null),ea!==null&&lh(ea)&&(ea=null),ta!==null&&lh(ta)&&(ta=null),Gl.forEach(I0),Kl.forEach(I0)}function uh(i,a){i.blockedOn===a&&(i.blockedOn=null,qm||(qm=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,CR)))}var ch=null;function C0(i){ch!==i&&(ch=i,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){ch===i&&(ch=null);for(var a=0;a<i.length;a+=3){var o=i[a],u=i[a+1],f=i[a+2];if(typeof u!="function"){if(Hm(u||o)===null)continue;break}var g=mi(o);g!==null&&(i.splice(a,3),a-=3,Hd(g,{pending:!0,data:f,method:o.method,action:u},u,f))}}))}function Ql(i){function a(U){return uh(U,i)}Jr!==null&&uh(Jr,i),ea!==null&&uh(ea,i),ta!==null&&uh(ta,i),Gl.forEach(a),Kl.forEach(a);for(var o=0;o<na.length;o++){var u=na[o];u.blockedOn===i&&(u.blockedOn=null)}for(;0<na.length&&(o=na[0],o.blockedOn===null);)R0(o),o.blockedOn===null&&na.shift();if(o=(i.ownerDocument||i).$$reactFormReplay,o!=null)for(u=0;u<o.length;u+=3){var f=o[u],g=o[u+1],b=f[Rt]||null;if(typeof g=="function")b||C0(o);else if(b){var S=null;if(g&&g.hasAttribute("formAction")){if(f=g,b=g[Rt]||null)S=b.formAction;else if(Hm(f)!==null)continue}else S=b.action;typeof S=="function"?o[u+1]=S:(o.splice(u,3),u-=3),C0(o)}}}function $m(i){this._internalRoot=i}hh.prototype.render=$m.prototype.render=function(i){var a=this._internalRoot;if(a===null)throw Error(r(409));var o=a.current,u=Dn();E0(o,u,i,a,null,null)},hh.prototype.unmount=$m.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var a=i.containerInfo;E0(i.current,2,null,i,null,null),Gc(),a[kn]=null}};function hh(i){this._internalRoot=i}hh.prototype.unstable_scheduleHydration=function(i){if(i){var a=xr();i={blockedOn:null,target:i,priority:a};for(var o=0;o<na.length&&a!==0&&a<na[o].priority;o++);na.splice(o,0,i),o===0&&R0(i)}};var O0=e.version;if(O0!=="19.1.0")throw Error(r(527,O0,"19.1.0"));J.findDOMNode=function(i){var a=i._reactInternals;if(a===void 0)throw typeof i.render=="function"?Error(r(188)):(i=Object.keys(i).join(","),Error(r(268,i)));return i=d(a),i=i!==null?p(i):null,i=i===null?null:i.stateNode,i};var OR={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:W,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var fh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!fh.isDisabled&&fh.supportsFiber)try{yt=fh.inject(OR),tt=fh}catch{}}return Wl.createRoot=function(i,a){if(!s(i))throw Error(r(299));var o=!1,u="",f=$y,g=Gy,b=Ky,S=null;return a!=null&&(a.unstable_strictMode===!0&&(o=!0),a.identifierPrefix!==void 0&&(u=a.identifierPrefix),a.onUncaughtError!==void 0&&(f=a.onUncaughtError),a.onCaughtError!==void 0&&(g=a.onCaughtError),a.onRecoverableError!==void 0&&(b=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(S=a.unstable_transitionCallbacks)),a=_0(i,1,!1,null,null,o,u,f,g,b,S,null),i[kn]=a.current,Im(i),new $m(a)},Wl.hydrateRoot=function(i,a,o){if(!s(i))throw Error(r(299));var u=!1,f="",g=$y,b=Gy,S=Ky,U=null,Y=null;return o!=null&&(o.unstable_strictMode===!0&&(u=!0),o.identifierPrefix!==void 0&&(f=o.identifierPrefix),o.onUncaughtError!==void 0&&(g=o.onUncaughtError),o.onCaughtError!==void 0&&(b=o.onCaughtError),o.onRecoverableError!==void 0&&(S=o.onRecoverableError),o.unstable_transitionCallbacks!==void 0&&(U=o.unstable_transitionCallbacks),o.formState!==void 0&&(Y=o.formState)),a=_0(i,1,!0,a,o??null,u,f,g,b,S,U,Y),a.context=b0(null),o=a.current,u=Dn(),u=Dr(u),f=jr(u),f.callback=null,zr(o,f,u),o=u,a.current.lanes=o,Gi(a,o),Ci(a),i[kn]=a.current,Im(i),new hh(a)},Wl.version="19.1.0",Wl}var z0;function FR(){if(z0)return Ym.exports;z0=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),Ym.exports=zR(),Ym.exports}var BR=FR(),Zl={},F0;function HR(){if(F0)return Zl;F0=1,Object.defineProperty(Zl,"__esModule",{value:!0}),Zl.parse=c,Zl.serialize=p;const n=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,t=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,r=/^[\u0020-\u003A\u003D-\u007E]*$/,s=Object.prototype.toString,l=(()=>{const T=function(){};return T.prototype=Object.create(null),T})();function c(T,R){const C=new l,N=T.length;if(N<2)return C;const I=(R==null?void 0:R.decode)||y;let M=0;do{const j=T.indexOf("=",M);if(j===-1)break;const $=T.indexOf(";",M),ee=$===-1?N:$;if(j>ee){M=T.lastIndexOf(";",j-1)+1;continue}const q=m(T,M,j),oe=d(T,j,q),O=T.slice(q,oe);if(C[O]===void 0){let A=m(T,j+1,ee),D=d(T,ee,A);const V=I(T.slice(A,D));C[O]=V}M=ee+1}while(M<N);return C}function m(T,R,C){do{const N=T.charCodeAt(R);if(N!==32&&N!==9)return R}while(++R<C);return C}function d(T,R,C){for(;R>C;){const N=T.charCodeAt(--R);if(N!==32&&N!==9)return R+1}return C}function p(T,R,C){const N=(C==null?void 0:C.encode)||encodeURIComponent;if(!n.test(T))throw new TypeError(`argument name is invalid: ${T}`);const I=N(R);if(!e.test(I))throw new TypeError(`argument val is invalid: ${R}`);let M=T+"="+I;if(!C)return M;if(C.maxAge!==void 0){if(!Number.isInteger(C.maxAge))throw new TypeError(`option maxAge is invalid: ${C.maxAge}`);M+="; Max-Age="+C.maxAge}if(C.domain){if(!t.test(C.domain))throw new TypeError(`option domain is invalid: ${C.domain}`);M+="; Domain="+C.domain}if(C.path){if(!r.test(C.path))throw new TypeError(`option path is invalid: ${C.path}`);M+="; Path="+C.path}if(C.expires){if(!E(C.expires)||!Number.isFinite(C.expires.valueOf()))throw new TypeError(`option expires is invalid: ${C.expires}`);M+="; Expires="+C.expires.toUTCString()}if(C.httpOnly&&(M+="; HttpOnly"),C.secure&&(M+="; Secure"),C.partitioned&&(M+="; Partitioned"),C.priority)switch(typeof C.priority=="string"?C.priority.toLowerCase():void 0){case"low":M+="; Priority=Low";break;case"medium":M+="; Priority=Medium";break;case"high":M+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${C.priority}`)}if(C.sameSite)switch(typeof C.sameSite=="string"?C.sameSite.toLowerCase():C.sameSite){case!0:case"strict":M+="; SameSite=Strict";break;case"lax":M+="; SameSite=Lax";break;case"none":M+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${C.sameSite}`)}return M}function y(T){if(T.indexOf("%")===-1)return T;try{return decodeURIComponent(T)}catch{return T}}function E(T){return s.call(T)==="[object Date]"}return Zl}HR();var B0="popstate";function qR(n={}){function e(s,l){let{pathname:c="/",search:m="",hash:d=""}=ps(s.location.hash.substring(1));return!c.startsWith("/")&&!c.startsWith(".")&&(c="/"+c),Sp("",{pathname:c,search:m,hash:d},l.state&&l.state.usr||null,l.state&&l.state.key||"default")}function t(s,l){let c=s.document.querySelector("base"),m="";if(c&&c.getAttribute("href")){let d=s.location.href,p=d.indexOf("#");m=p===-1?d:d.slice(0,p)}return m+"#"+(typeof l=="string"?l:pu(l))}function r(s,l){oi(s.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(l)})`)}return GR(e,t,r,n)}function gt(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function oi(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function $R(){return Math.random().toString(36).substring(2,10)}function H0(n,e){return{usr:n.state,key:n.key,idx:e}}function Sp(n,e,t=null,r){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof e=="string"?ps(e):e,state:t,key:e&&e.key||r||$R()}}function pu({pathname:n="/",search:e="",hash:t=""}){return e&&e!=="?"&&(n+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(n+=t.charAt(0)==="#"?t:"#"+t),n}function ps(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substring(t),n=n.substring(0,t));let r=n.indexOf("?");r>=0&&(e.search=n.substring(r),n=n.substring(0,r)),n&&(e.pathname=n)}return e}function GR(n,e,t,r={}){let{window:s=document.defaultView,v5Compat:l=!1}=r,c=s.history,m="POP",d=null,p=y();p==null&&(p=0,c.replaceState({...c.state,idx:p},""));function y(){return(c.state||{idx:null}).idx}function E(){m="POP";let I=y(),M=I==null?null:I-p;p=I,d&&d({action:m,location:N.location,delta:M})}function T(I,M){m="PUSH";let j=Sp(N.location,I,M);t&&t(j,I),p=y()+1;let $=H0(j,p),ee=N.createHref(j);try{c.pushState($,"",ee)}catch(q){if(q instanceof DOMException&&q.name==="DataCloneError")throw q;s.location.assign(ee)}l&&d&&d({action:m,location:N.location,delta:1})}function R(I,M){m="REPLACE";let j=Sp(N.location,I,M);t&&t(j,I),p=y();let $=H0(j,p),ee=N.createHref(j);c.replaceState($,"",ee),l&&d&&d({action:m,location:N.location,delta:0})}function C(I){return KR(I)}let N={get action(){return m},get location(){return n(s,c)},listen(I){if(d)throw new Error("A history only accepts one active listener");return s.addEventListener(B0,E),d=I,()=>{s.removeEventListener(B0,E),d=null}},createHref(I){return e(s,I)},createURL:C,encodeLocation(I){let M=C(I);return{pathname:M.pathname,search:M.search,hash:M.hash}},push:T,replace:R,go(I){return c.go(I)}};return N}function KR(n,e=!1){let t="http://localhost";typeof window<"u"&&(t=window.location.origin!=="null"?window.location.origin:window.location.href),gt(t,"No window.location.(origin|href) available to create URL");let r=typeof n=="string"?n:pu(n);return r=r.replace(/ $/,"%20"),!e&&r.startsWith("//")&&(r=t+r),new URL(r,t)}function cT(n,e,t="/"){return YR(n,e,t,!1)}function YR(n,e,t,r){let s=typeof e=="string"?ps(e):e,l=Tr(s.pathname||"/",t);if(l==null)return null;let c=hT(n);QR(c);let m=null;for(let d=0;m==null&&d<c.length;++d){let p=s2(l);m=r2(c[d],p,r)}return m}function hT(n,e=[],t=[],r=""){let s=(l,c,m)=>{let d={relativePath:m===void 0?l.path||"":m,caseSensitive:l.caseSensitive===!0,childrenIndex:c,route:l};d.relativePath.startsWith("/")&&(gt(d.relativePath.startsWith(r),`Absolute route path "${d.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),d.relativePath=d.relativePath.slice(r.length));let p=_r([r,d.relativePath]),y=t.concat(d);l.children&&l.children.length>0&&(gt(l.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${p}".`),hT(l.children,e,y,p)),!(l.path==null&&!l.index)&&e.push({path:p,score:n2(p,l.index),routesMeta:y})};return n.forEach((l,c)=>{var m;if(l.path===""||!((m=l.path)!=null&&m.includes("?")))s(l,c);else for(let d of fT(l.path))s(l,c,d)}),e}function fT(n){let e=n.split("/");if(e.length===0)return[];let[t,...r]=e,s=t.endsWith("?"),l=t.replace(/\?$/,"");if(r.length===0)return s?[l,""]:[l];let c=fT(r.join("/")),m=[];return m.push(...c.map(d=>d===""?l:[l,d].join("/"))),s&&m.push(...c),m.map(d=>n.startsWith("/")&&d===""?"/":d)}function QR(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:i2(e.routesMeta.map(r=>r.childrenIndex),t.routesMeta.map(r=>r.childrenIndex)))}var XR=/^:[\w-]+$/,WR=3,ZR=2,JR=1,e2=10,t2=-2,q0=n=>n==="*";function n2(n,e){let t=n.split("/"),r=t.length;return t.some(q0)&&(r+=t2),e&&(r+=ZR),t.filter(s=>!q0(s)).reduce((s,l)=>s+(XR.test(l)?WR:l===""?JR:e2),r)}function i2(n,e){return n.length===e.length&&n.slice(0,-1).every((r,s)=>r===e[s])?n[n.length-1]-e[e.length-1]:0}function r2(n,e,t=!1){let{routesMeta:r}=n,s={},l="/",c=[];for(let m=0;m<r.length;++m){let d=r[m],p=m===r.length-1,y=l==="/"?e:e.slice(l.length)||"/",E=Fh({path:d.relativePath,caseSensitive:d.caseSensitive,end:p},y),T=d.route;if(!E&&p&&t&&!r[r.length-1].route.index&&(E=Fh({path:d.relativePath,caseSensitive:d.caseSensitive,end:!1},y)),!E)return null;Object.assign(s,E.params),c.push({params:s,pathname:_r([l,E.pathname]),pathnameBase:c2(_r([l,E.pathnameBase])),route:T}),E.pathnameBase!=="/"&&(l=_r([l,E.pathnameBase]))}return c}function Fh(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,r]=a2(n.path,n.caseSensitive,n.end),s=e.match(t);if(!s)return null;let l=s[0],c=l.replace(/(.)\/+$/,"$1"),m=s.slice(1);return{params:r.reduce((p,{paramName:y,isOptional:E},T)=>{if(y==="*"){let C=m[T]||"";c=l.slice(0,l.length-C.length).replace(/(.)\/+$/,"$1")}const R=m[T];return E&&!R?p[y]=void 0:p[y]=(R||"").replace(/%2F/g,"/"),p},{}),pathname:l,pathnameBase:c,pattern:n}}function a2(n,e=!1,t=!0){oi(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let r=[],s="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,m,d)=>(r.push({paramName:m,isOptional:d!=null}),d?"/?([^\\/]+)?":"/([^\\/]+)"));return n.endsWith("*")?(r.push({paramName:"*"}),s+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?s+="\\/*$":n!==""&&n!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),r]}function s2(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return oi(!1,`The URL path "${n}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),n}}function Tr(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,r=n.charAt(t);return r&&r!=="/"?null:n.slice(t)||"/"}function o2(n,e="/"){let{pathname:t,search:r="",hash:s=""}=typeof n=="string"?ps(n):n;return{pathname:t?t.startsWith("/")?t:l2(t,e):e,search:h2(r),hash:f2(s)}}function l2(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(s=>{s===".."?t.length>1&&t.pop():s!=="."&&t.push(s)}),t.length>1?t.join("/"):"/"}function Zm(n,e,t,r){return`Cannot include a '${n}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function u2(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function dT(n){let e=u2(n);return e.map((t,r)=>r===e.length-1?t.pathname:t.pathnameBase)}function mT(n,e,t,r=!1){let s;typeof n=="string"?s=ps(n):(s={...n},gt(!s.pathname||!s.pathname.includes("?"),Zm("?","pathname","search",s)),gt(!s.pathname||!s.pathname.includes("#"),Zm("#","pathname","hash",s)),gt(!s.search||!s.search.includes("#"),Zm("#","search","hash",s)));let l=n===""||s.pathname==="",c=l?"/":s.pathname,m;if(c==null)m=t;else{let E=e.length-1;if(!r&&c.startsWith("..")){let T=c.split("/");for(;T[0]==="..";)T.shift(),E-=1;s.pathname=T.join("/")}m=E>=0?e[E]:"/"}let d=o2(s,m),p=c&&c!=="/"&&c.endsWith("/"),y=(l||c===".")&&t.endsWith("/");return!d.pathname.endsWith("/")&&(p||y)&&(d.pathname+="/"),d}var _r=n=>n.join("/").replace(/\/\/+/g,"/"),c2=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),h2=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,f2=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function d2(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}var pT=["POST","PUT","PATCH","DELETE"];new Set(pT);var m2=["GET",...pT];new Set(m2);var Vo=x.createContext(null);Vo.displayName="DataRouter";var _f=x.createContext(null);_f.displayName="DataRouterState";var gT=x.createContext({isTransitioning:!1});gT.displayName="ViewTransition";var p2=x.createContext(new Map);p2.displayName="Fetchers";var g2=x.createContext(null);g2.displayName="Await";var Bi=x.createContext(null);Bi.displayName="Navigation";var Du=x.createContext(null);Du.displayName="Location";var Hi=x.createContext({outlet:null,matches:[],isDataRoute:!1});Hi.displayName="Route";var sg=x.createContext(null);sg.displayName="RouteError";function v2(n,{relative:e}={}){gt(xu(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:r}=x.useContext(Bi),{hash:s,pathname:l,search:c}=Mu(n,{relative:e}),m=l;return t!=="/"&&(m=l==="/"?t:_r([t,l])),r.createHref({pathname:m,search:c,hash:s})}function xu(){return x.useContext(Du)!=null}function gs(){return gt(xu(),"useLocation() may be used only in the context of a <Router> component."),x.useContext(Du).location}var vT="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function yT(n){x.useContext(Bi).static||x.useLayoutEffect(n)}function y2(){let{isDataRoute:n}=x.useContext(Hi);return n?x2():_2()}function _2(){gt(xu(),"useNavigate() may be used only in the context of a <Router> component.");let n=x.useContext(Vo),{basename:e,navigator:t}=x.useContext(Bi),{matches:r}=x.useContext(Hi),{pathname:s}=gs(),l=JSON.stringify(dT(r)),c=x.useRef(!1);return yT(()=>{c.current=!0}),x.useCallback((d,p={})=>{if(oi(c.current,vT),!c.current)return;if(typeof d=="number"){t.go(d);return}let y=mT(d,JSON.parse(l),s,p.relative==="path");n==null&&e!=="/"&&(y.pathname=y.pathname==="/"?e:_r([e,y.pathname])),(p.replace?t.replace:t.push)(y,p.state,p)},[e,t,l,s,n])}x.createContext(null);function og(){let{matches:n}=x.useContext(Hi),e=n[n.length-1];return e?e.params:{}}function Mu(n,{relative:e}={}){let{matches:t}=x.useContext(Hi),{pathname:r}=gs(),s=JSON.stringify(dT(t));return x.useMemo(()=>mT(n,JSON.parse(s),r,e==="path"),[n,s,r,e])}function b2(n,e){return _T(n,e)}function _T(n,e,t,r){var M;gt(xu(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:s}=x.useContext(Bi),{matches:l}=x.useContext(Hi),c=l[l.length-1],m=c?c.params:{},d=c?c.pathname:"/",p=c?c.pathnameBase:"/",y=c&&c.route;{let j=y&&y.path||"";bT(d,!y||j.endsWith("*")||j.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${d}" (under <Route path="${j}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${j}"> to <Route path="${j==="/"?"*":`${j}/*`}">.`)}let E=gs(),T;if(e){let j=typeof e=="string"?ps(e):e;gt(p==="/"||((M=j.pathname)==null?void 0:M.startsWith(p)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${p}" but pathname "${j.pathname}" was given in the \`location\` prop.`),T=j}else T=E;let R=T.pathname||"/",C=R;if(p!=="/"){let j=p.replace(/^\//,"").split("/");C="/"+R.replace(/^\//,"").split("/").slice(j.length).join("/")}let N=cT(n,{pathname:C});oi(y||N!=null,`No routes matched location "${T.pathname}${T.search}${T.hash}" `),oi(N==null||N[N.length-1].route.element!==void 0||N[N.length-1].route.Component!==void 0||N[N.length-1].route.lazy!==void 0,`Matched leaf route at location "${T.pathname}${T.search}${T.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let I=A2(N&&N.map(j=>Object.assign({},j,{params:Object.assign({},m,j.params),pathname:_r([p,s.encodeLocation?s.encodeLocation(j.pathname).pathname:j.pathname]),pathnameBase:j.pathnameBase==="/"?p:_r([p,s.encodeLocation?s.encodeLocation(j.pathnameBase).pathname:j.pathnameBase])})),l,t,r);return e&&I?x.createElement(Du.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...T},navigationType:"POP"}},I):I}function E2(){let n=D2(),e=d2(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,r="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:r},l={padding:"2px 4px",backgroundColor:r},c=null;return console.error("Error handled by React Router default ErrorBoundary:",n),c=x.createElement(x.Fragment,null,x.createElement("p",null," Hey developer "),x.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",x.createElement("code",{style:l},"ErrorBoundary")," or"," ",x.createElement("code",{style:l},"errorElement")," prop on your route.")),x.createElement(x.Fragment,null,x.createElement("h2",null,"Unexpected Application Error!"),x.createElement("h3",{style:{fontStyle:"italic"}},e),t?x.createElement("pre",{style:s},t):null,c)}var T2=x.createElement(E2,null),S2=class extends x.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,e){return e.location!==n.location||e.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:e.error,location:e.location,revalidation:n.revalidation||e.revalidation}}componentDidCatch(n,e){console.error("React Router caught the following error during render",n,e)}render(){return this.state.error!==void 0?x.createElement(Hi.Provider,{value:this.props.routeContext},x.createElement(sg.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function w2({routeContext:n,match:e,children:t}){let r=x.useContext(Vo);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),x.createElement(Hi.Provider,{value:n},t)}function A2(n,e=[],t=null,r=null){if(n==null){if(!t)return null;if(t.errors)n=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let s=n,l=t==null?void 0:t.errors;if(l!=null){let d=s.findIndex(p=>p.route.id&&(l==null?void 0:l[p.route.id])!==void 0);gt(d>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(l).join(",")}`),s=s.slice(0,Math.min(s.length,d+1))}let c=!1,m=-1;if(t)for(let d=0;d<s.length;d++){let p=s[d];if((p.route.HydrateFallback||p.route.hydrateFallbackElement)&&(m=d),p.route.id){let{loaderData:y,errors:E}=t,T=p.route.loader&&!y.hasOwnProperty(p.route.id)&&(!E||E[p.route.id]===void 0);if(p.route.lazy||T){c=!0,m>=0?s=s.slice(0,m+1):s=[s[0]];break}}}return s.reduceRight((d,p,y)=>{let E,T=!1,R=null,C=null;t&&(E=l&&p.route.id?l[p.route.id]:void 0,R=p.route.errorElement||T2,c&&(m<0&&y===0?(bT("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),T=!0,C=null):m===y&&(T=!0,C=p.route.hydrateFallbackElement||null)));let N=e.concat(s.slice(0,y+1)),I=()=>{let M;return E?M=R:T?M=C:p.route.Component?M=x.createElement(p.route.Component,null):p.route.element?M=p.route.element:M=d,x.createElement(w2,{match:p,routeContext:{outlet:d,matches:N,isDataRoute:t!=null},children:M})};return t&&(p.route.ErrorBoundary||p.route.errorElement||y===0)?x.createElement(S2,{location:t.location,revalidation:t.revalidation,component:R,error:E,children:I(),routeContext:{outlet:null,matches:N,isDataRoute:!0}}):I()},null)}function lg(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function R2(n){let e=x.useContext(Vo);return gt(e,lg(n)),e}function I2(n){let e=x.useContext(_f);return gt(e,lg(n)),e}function C2(n){let e=x.useContext(Hi);return gt(e,lg(n)),e}function ug(n){let e=C2(n),t=e.matches[e.matches.length-1];return gt(t.route.id,`${n} can only be used on routes that contain a unique "id"`),t.route.id}function O2(){return ug("useRouteId")}function D2(){var r;let n=x.useContext(sg),e=I2("useRouteError"),t=ug("useRouteError");return n!==void 0?n:(r=e.errors)==null?void 0:r[t]}function x2(){let{router:n}=R2("useNavigate"),e=ug("useNavigate"),t=x.useRef(!1);return yT(()=>{t.current=!0}),x.useCallback(async(s,l={})=>{oi(t.current,vT),t.current&&(typeof s=="number"?n.navigate(s):await n.navigate(s,{fromRouteId:e,...l}))},[n,e])}var $0={};function bT(n,e,t){!e&&!$0[n]&&($0[n]=!0,oi(!1,t))}x.memo(M2);function M2({routes:n,future:e,state:t}){return _T(n,void 0,t,e)}function ns(n){gt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function N2({basename:n="/",children:e=null,location:t,navigationType:r="POP",navigator:s,static:l=!1}){gt(!xu(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let c=n.replace(/^\/*/,"/"),m=x.useMemo(()=>({basename:c,navigator:s,static:l,future:{}}),[c,s,l]);typeof t=="string"&&(t=ps(t));let{pathname:d="/",search:p="",hash:y="",state:E=null,key:T="default"}=t,R=x.useMemo(()=>{let C=Tr(d,c);return C==null?null:{location:{pathname:C,search:p,hash:y,state:E,key:T},navigationType:r}},[c,d,p,y,E,T,r]);return oi(R!=null,`<Router basename="${c}"> is not able to match the URL "${d}${p}${y}" because it does not start with the basename, so the <Router> won't render anything.`),R==null?null:x.createElement(Bi.Provider,{value:m},x.createElement(Du.Provider,{children:e,value:R}))}function V2({children:n,location:e}){return b2(wp(n),e)}function wp(n,e=[]){let t=[];return x.Children.forEach(n,(r,s)=>{if(!x.isValidElement(r))return;let l=[...e,s];if(r.type===x.Fragment){t.push.apply(t,wp(r.props.children,l));return}gt(r.type===ns,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),gt(!r.props.index||!r.props.children,"An index route cannot have child routes.");let c={id:r.props.id||l.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(c.children=wp(r.props.children,l)),t.push(c)}),t}var Ah="get",Rh="application/x-www-form-urlencoded";function bf(n){return n!=null&&typeof n.tagName=="string"}function P2(n){return bf(n)&&n.tagName.toLowerCase()==="button"}function k2(n){return bf(n)&&n.tagName.toLowerCase()==="form"}function L2(n){return bf(n)&&n.tagName.toLowerCase()==="input"}function U2(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function j2(n,e){return n.button===0&&(!e||e==="_self")&&!U2(n)}var dh=null;function z2(){if(dh===null)try{new FormData(document.createElement("form"),0),dh=!1}catch{dh=!0}return dh}var F2=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Jm(n){return n!=null&&!F2.has(n)?(oi(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Rh}"`),null):n}function B2(n,e){let t,r,s,l,c;if(k2(n)){let m=n.getAttribute("action");r=m?Tr(m,e):null,t=n.getAttribute("method")||Ah,s=Jm(n.getAttribute("enctype"))||Rh,l=new FormData(n)}else if(P2(n)||L2(n)&&(n.type==="submit"||n.type==="image")){let m=n.form;if(m==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let d=n.getAttribute("formaction")||m.getAttribute("action");if(r=d?Tr(d,e):null,t=n.getAttribute("formmethod")||m.getAttribute("method")||Ah,s=Jm(n.getAttribute("formenctype"))||Jm(m.getAttribute("enctype"))||Rh,l=new FormData(m,n),!z2()){let{name:p,type:y,value:E}=n;if(y==="image"){let T=p?`${p}.`:"";l.append(`${T}x`,"0"),l.append(`${T}y`,"0")}else p&&l.append(p,E)}}else{if(bf(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=Ah,r=null,s=Rh,c=n}return l&&s==="text/plain"&&(c=l,l=void 0),{action:r,method:t.toLowerCase(),encType:s,formData:l,body:c}}function cg(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}async function H2(n,e){if(n.id in e)return e[n.id];try{let t=await import(n.module);return e[n.id]=t,t}catch(t){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function q2(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function $2(n,e,t){let r=await Promise.all(n.map(async s=>{let l=e.routes[s.route.id];if(l){let c=await H2(l,t);return c.links?c.links():[]}return[]}));return Q2(r.flat(1).filter(q2).filter(s=>s.rel==="stylesheet"||s.rel==="preload").map(s=>s.rel==="stylesheet"?{...s,rel:"prefetch",as:"style"}:{...s,rel:"prefetch"}))}function G0(n,e,t,r,s,l){let c=(d,p)=>t[p]?d.route.id!==t[p].route.id:!0,m=(d,p)=>{var y;return t[p].pathname!==d.pathname||((y=t[p].route.path)==null?void 0:y.endsWith("*"))&&t[p].params["*"]!==d.params["*"]};return l==="assets"?e.filter((d,p)=>c(d,p)||m(d,p)):l==="data"?e.filter((d,p)=>{var E;let y=r.routes[d.route.id];if(!y||!y.hasLoader)return!1;if(c(d,p)||m(d,p))return!0;if(d.route.shouldRevalidate){let T=d.route.shouldRevalidate({currentUrl:new URL(s.pathname+s.search+s.hash,window.origin),currentParams:((E=t[0])==null?void 0:E.params)||{},nextUrl:new URL(n,window.origin),nextParams:d.params,defaultShouldRevalidate:!0});if(typeof T=="boolean")return T}return!0}):[]}function G2(n,e,{includeHydrateFallback:t}={}){return K2(n.map(r=>{let s=e.routes[r.route.id];if(!s)return[];let l=[s.module];return s.clientActionModule&&(l=l.concat(s.clientActionModule)),s.clientLoaderModule&&(l=l.concat(s.clientLoaderModule)),t&&s.hydrateFallbackModule&&(l=l.concat(s.hydrateFallbackModule)),s.imports&&(l=l.concat(s.imports)),l}).flat(1))}function K2(n){return[...new Set(n)]}function Y2(n){let e={},t=Object.keys(n).sort();for(let r of t)e[r]=n[r];return e}function Q2(n,e){let t=new Set;return new Set(e),n.reduce((r,s)=>{let l=JSON.stringify(Y2(s));return t.has(l)||(t.add(l),r.push({key:l,link:s})),r},[])}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var X2=new Set([100,101,204,205]);function W2(n,e){let t=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return t.pathname==="/"?t.pathname="_root.data":e&&Tr(t.pathname,e)==="/"?t.pathname=`${e.replace(/\/$/,"")}/_root.data`:t.pathname=`${t.pathname.replace(/\/$/,"")}.data`,t}function ET(){let n=x.useContext(Vo);return cg(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function Z2(){let n=x.useContext(_f);return cg(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var hg=x.createContext(void 0);hg.displayName="FrameworkContext";function TT(){let n=x.useContext(hg);return cg(n,"You must render this element inside a <HydratedRouter> element"),n}function J2(n,e){let t=x.useContext(hg),[r,s]=x.useState(!1),[l,c]=x.useState(!1),{onFocus:m,onBlur:d,onMouseEnter:p,onMouseLeave:y,onTouchStart:E}=e,T=x.useRef(null);x.useEffect(()=>{if(n==="render"&&c(!0),n==="viewport"){let N=M=>{M.forEach(j=>{c(j.isIntersecting)})},I=new IntersectionObserver(N,{threshold:.5});return T.current&&I.observe(T.current),()=>{I.disconnect()}}},[n]),x.useEffect(()=>{if(r){let N=setTimeout(()=>{c(!0)},100);return()=>{clearTimeout(N)}}},[r]);let R=()=>{s(!0)},C=()=>{s(!1),c(!1)};return t?n!=="intent"?[l,T,{}]:[l,T,{onFocus:Jl(m,R),onBlur:Jl(d,C),onMouseEnter:Jl(p,R),onMouseLeave:Jl(y,C),onTouchStart:Jl(E,R)}]:[!1,T,{}]}function Jl(n,e){return t=>{n&&n(t),t.defaultPrevented||e(t)}}function eI({page:n,...e}){let{router:t}=ET(),r=x.useMemo(()=>cT(t.routes,n,t.basename),[t.routes,n,t.basename]);return r?x.createElement(nI,{page:n,matches:r,...e}):null}function tI(n){let{manifest:e,routeModules:t}=TT(),[r,s]=x.useState([]);return x.useEffect(()=>{let l=!1;return $2(n,e,t).then(c=>{l||s(c)}),()=>{l=!0}},[n,e,t]),r}function nI({page:n,matches:e,...t}){let r=gs(),{manifest:s,routeModules:l}=TT(),{basename:c}=ET(),{loaderData:m,matches:d}=Z2(),p=x.useMemo(()=>G0(n,e,d,s,r,"data"),[n,e,d,s,r]),y=x.useMemo(()=>G0(n,e,d,s,r,"assets"),[n,e,d,s,r]),E=x.useMemo(()=>{if(n===r.pathname+r.search+r.hash)return[];let C=new Set,N=!1;if(e.forEach(M=>{var $;let j=s.routes[M.route.id];!j||!j.hasLoader||(!p.some(ee=>ee.route.id===M.route.id)&&M.route.id in m&&(($=l[M.route.id])!=null&&$.shouldRevalidate)||j.hasClientLoader?N=!0:C.add(M.route.id))}),C.size===0)return[];let I=W2(n,c);return N&&C.size>0&&I.searchParams.set("_routes",e.filter(M=>C.has(M.route.id)).map(M=>M.route.id).join(",")),[I.pathname+I.search]},[c,m,r,s,p,e,n,l]),T=x.useMemo(()=>G2(y,s),[y,s]),R=tI(y);return x.createElement(x.Fragment,null,E.map(C=>x.createElement("link",{key:C,rel:"prefetch",as:"fetch",href:C,...t})),T.map(C=>x.createElement("link",{key:C,rel:"modulepreload",href:C,...t})),R.map(({key:C,link:N})=>x.createElement("link",{key:C,...N})))}function iI(...n){return e=>{n.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var ST=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{ST&&(window.__reactRouterVersion="7.6.2")}catch{}function rI({basename:n,children:e,window:t}){let r=x.useRef();r.current==null&&(r.current=qR({window:t,v5Compat:!0}));let s=r.current,[l,c]=x.useState({action:s.action,location:s.location}),m=x.useCallback(d=>{x.startTransition(()=>c(d))},[c]);return x.useLayoutEffect(()=>s.listen(m),[s,m]),x.createElement(N2,{basename:n,children:e,location:l.location,navigationType:l.action,navigator:s})}var wT=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Sr=x.forwardRef(function({onClick:e,discover:t="render",prefetch:r="none",relative:s,reloadDocument:l,replace:c,state:m,target:d,to:p,preventScrollReset:y,viewTransition:E,...T},R){let{basename:C}=x.useContext(Bi),N=typeof p=="string"&&wT.test(p),I,M=!1;if(typeof p=="string"&&N&&(I=p,ST))try{let D=new URL(window.location.href),V=p.startsWith("//")?new URL(D.protocol+p):new URL(p),z=Tr(V.pathname,C);V.origin===D.origin&&z!=null?p=z+V.search+V.hash:M=!0}catch{oi(!1,`<Link to="${p}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let j=v2(p,{relative:s}),[$,ee,q]=J2(r,T),oe=lI(p,{replace:c,state:m,target:d,preventScrollReset:y,relative:s,viewTransition:E});function O(D){e&&e(D),D.defaultPrevented||oe(D)}let A=x.createElement("a",{...T,...q,href:I||j,onClick:M||l?e:O,ref:iI(R,ee),target:d,"data-discover":!N&&t==="render"?"true":void 0});return $&&!N?x.createElement(x.Fragment,null,A,x.createElement(eI,{page:j})):A});Sr.displayName="Link";var aI=x.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:r="",end:s=!1,style:l,to:c,viewTransition:m,children:d,...p},y){let E=Mu(c,{relative:p.relative}),T=gs(),R=x.useContext(_f),{navigator:C,basename:N}=x.useContext(Bi),I=R!=null&&dI(E)&&m===!0,M=C.encodeLocation?C.encodeLocation(E).pathname:E.pathname,j=T.pathname,$=R&&R.navigation&&R.navigation.location?R.navigation.location.pathname:null;t||(j=j.toLowerCase(),$=$?$.toLowerCase():null,M=M.toLowerCase()),$&&N&&($=Tr($,N)||$);const ee=M!=="/"&&M.endsWith("/")?M.length-1:M.length;let q=j===M||!s&&j.startsWith(M)&&j.charAt(ee)==="/",oe=$!=null&&($===M||!s&&$.startsWith(M)&&$.charAt(M.length)==="/"),O={isActive:q,isPending:oe,isTransitioning:I},A=q?e:void 0,D;typeof r=="function"?D=r(O):D=[r,q?"active":null,oe?"pending":null,I?"transitioning":null].filter(Boolean).join(" ");let V=typeof l=="function"?l(O):l;return x.createElement(Sr,{...p,"aria-current":A,className:D,ref:y,style:V,to:c,viewTransition:m},typeof d=="function"?d(O):d)});aI.displayName="NavLink";var sI=x.forwardRef(({discover:n="render",fetcherKey:e,navigate:t,reloadDocument:r,replace:s,state:l,method:c=Ah,action:m,onSubmit:d,relative:p,preventScrollReset:y,viewTransition:E,...T},R)=>{let C=hI(),N=fI(m,{relative:p}),I=c.toLowerCase()==="get"?"get":"post",M=typeof m=="string"&&wT.test(m),j=$=>{if(d&&d($),$.defaultPrevented)return;$.preventDefault();let ee=$.nativeEvent.submitter,q=(ee==null?void 0:ee.getAttribute("formmethod"))||c;C(ee||$.currentTarget,{fetcherKey:e,method:q,navigate:t,replace:s,state:l,relative:p,preventScrollReset:y,viewTransition:E})};return x.createElement("form",{ref:R,method:I,action:N,onSubmit:r?d:j,...T,"data-discover":!M&&n==="render"?"true":void 0})});sI.displayName="Form";function oI(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function AT(n){let e=x.useContext(Vo);return gt(e,oI(n)),e}function lI(n,{target:e,replace:t,state:r,preventScrollReset:s,relative:l,viewTransition:c}={}){let m=y2(),d=gs(),p=Mu(n,{relative:l});return x.useCallback(y=>{if(j2(y,e)){y.preventDefault();let E=t!==void 0?t:pu(d)===pu(p);m(n,{replace:E,state:r,preventScrollReset:s,relative:l,viewTransition:c})}},[d,m,p,t,r,e,n,s,l,c])}var uI=0,cI=()=>`__${String(++uI)}__`;function hI(){let{router:n}=AT("useSubmit"),{basename:e}=x.useContext(Bi),t=O2();return x.useCallback(async(r,s={})=>{let{action:l,method:c,encType:m,formData:d,body:p}=B2(r,e);if(s.navigate===!1){let y=s.fetcherKey||cI();await n.fetch(y,t,s.action||l,{preventScrollReset:s.preventScrollReset,formData:d,body:p,formMethod:s.method||c,formEncType:s.encType||m,flushSync:s.flushSync})}else await n.navigate(s.action||l,{preventScrollReset:s.preventScrollReset,formData:d,body:p,formMethod:s.method||c,formEncType:s.encType||m,replace:s.replace,state:s.state,fromRouteId:t,flushSync:s.flushSync,viewTransition:s.viewTransition})},[n,e,t])}function fI(n,{relative:e}={}){let{basename:t}=x.useContext(Bi),r=x.useContext(Hi);gt(r,"useFormAction must be used inside a RouteContext");let[s]=r.matches.slice(-1),l={...Mu(n||".",{relative:e})},c=gs();if(n==null){l.search=c.search;let m=new URLSearchParams(l.search),d=m.getAll("index");if(d.some(y=>y==="")){m.delete("index"),d.filter(E=>E).forEach(E=>m.append("index",E));let y=m.toString();l.search=y?`?${y}`:""}}return(!n||n===".")&&s.route.index&&(l.search=l.search?l.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(l.pathname=l.pathname==="/"?t:_r([t,l.pathname])),pu(l)}function dI(n,e={}){let t=x.useContext(gT);gt(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=AT("useViewTransitionState"),s=Mu(n,{relative:e.relative});if(!t.isTransitioning)return!1;let l=Tr(t.currentLocation.pathname,r)||t.currentLocation.pathname,c=Tr(t.nextLocation.pathname,r)||t.nextLocation.pathname;return Fh(s.pathname,c)!=null||Fh(s.pathname,l)!=null}[...X2];var mI=uT();const pI=()=>{};var K0={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RT=function(n){const e=[];let t=0;for(let r=0;r<n.length;r++){let s=n.charCodeAt(r);s<128?e[t++]=s:s<2048?(e[t++]=s>>6|192,e[t++]=s&63|128):(s&64512)===55296&&r+1<n.length&&(n.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(n.charCodeAt(++r)&1023),e[t++]=s>>18|240,e[t++]=s>>12&63|128,e[t++]=s>>6&63|128,e[t++]=s&63|128):(e[t++]=s>>12|224,e[t++]=s>>6&63|128,e[t++]=s&63|128)}return e},gI=function(n){const e=[];let t=0,r=0;for(;t<n.length;){const s=n[t++];if(s<128)e[r++]=String.fromCharCode(s);else if(s>191&&s<224){const l=n[t++];e[r++]=String.fromCharCode((s&31)<<6|l&63)}else if(s>239&&s<365){const l=n[t++],c=n[t++],m=n[t++],d=((s&7)<<18|(l&63)<<12|(c&63)<<6|m&63)-65536;e[r++]=String.fromCharCode(55296+(d>>10)),e[r++]=String.fromCharCode(56320+(d&1023))}else{const l=n[t++],c=n[t++];e[r++]=String.fromCharCode((s&15)<<12|(l&63)<<6|c&63)}}return e.join("")},IT={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<n.length;s+=3){const l=n[s],c=s+1<n.length,m=c?n[s+1]:0,d=s+2<n.length,p=d?n[s+2]:0,y=l>>2,E=(l&3)<<4|m>>4;let T=(m&15)<<2|p>>6,R=p&63;d||(R=64,c||(T=64)),r.push(t[y],t[E],t[T],t[R])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(RT(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):gI(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<n.length;){const l=t[n.charAt(s++)],m=s<n.length?t[n.charAt(s)]:0;++s;const p=s<n.length?t[n.charAt(s)]:64;++s;const E=s<n.length?t[n.charAt(s)]:64;if(++s,l==null||m==null||p==null||E==null)throw new vI;const T=l<<2|m>>4;if(r.push(T),p!==64){const R=m<<4&240|p>>2;if(r.push(R),E!==64){const C=p<<6&192|E;r.push(C)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class vI extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const yI=function(n){const e=RT(n);return IT.encodeByteArray(e,!0)},Bh=function(n){return yI(n).replace(/\./g,"")},CT=function(n){try{return IT.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _I(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bI=()=>_I().__FIREBASE_DEFAULTS__,EI=()=>{if(typeof process>"u"||typeof K0>"u")return;const n=K0.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},TI=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&CT(n[1]);return e&&JSON.parse(e)},Ef=()=>{try{return pI()||bI()||EI()||TI()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},OT=n=>{var e,t;return(t=(e=Ef())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[n]},SI=n=>{const e=OT(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),r]:[e.substring(0,t),r]},DT=()=>{var n;return(n=Ef())===null||n===void 0?void 0:n.config},xT=n=>{var e;return(e=Ef())===null||e===void 0?void 0:e[`_${n}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wI{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Po(n){try{return(n.startsWith("http://")||n.startsWith("https://")?new URL(n).hostname:n).endsWith(".cloudworkstations.dev")}catch{return!1}}async function MT(n){return(await fetch(n,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AI(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},r=e||"demo-project",s=n.iat||0,l=n.sub||n.user_id;if(!l)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const c=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:s,exp:s+3600,auth_time:s,sub:l,user_id:l,firebase:{sign_in_provider:"custom",identities:{}}},n);return[Bh(JSON.stringify(t)),Bh(JSON.stringify(c)),""].join(".")}const ou={};function RI(){const n={prod:[],emulator:[]};for(const e of Object.keys(ou))ou[e]?n.emulator.push(e):n.prod.push(e);return n}function II(n){let e=document.getElementById(n),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",n),t=!0),{created:t,element:e}}let Y0=!1;function NT(n,e){if(typeof window>"u"||typeof document>"u"||!Po(window.location.host)||ou[n]===e||ou[n]||Y0)return;ou[n]=e;function t(T){return`__firebase__banner__${T}`}const r="__firebase__banner",l=RI().prod.length>0;function c(){const T=document.getElementById(r);T&&T.remove()}function m(T){T.style.display="flex",T.style.background="#7faaf0",T.style.position="fixed",T.style.bottom="5px",T.style.left="5px",T.style.padding=".5em",T.style.borderRadius="5px",T.style.alignItems="center"}function d(T,R){T.setAttribute("width","24"),T.setAttribute("id",R),T.setAttribute("height","24"),T.setAttribute("viewBox","0 0 24 24"),T.setAttribute("fill","none"),T.style.marginLeft="-6px"}function p(){const T=document.createElement("span");return T.style.cursor="pointer",T.style.marginLeft="16px",T.style.fontSize="24px",T.innerHTML=" &times;",T.onclick=()=>{Y0=!0,c()},T}function y(T,R){T.setAttribute("id",R),T.innerText="Learn more",T.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",T.setAttribute("target","__blank"),T.style.paddingLeft="5px",T.style.textDecoration="underline"}function E(){const T=II(r),R=t("text"),C=document.getElementById(R)||document.createElement("span"),N=t("learnmore"),I=document.getElementById(N)||document.createElement("a"),M=t("preprendIcon"),j=document.getElementById(M)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(T.created){const $=T.element;m($),y(I,N);const ee=p();d(j,M),$.append(j,C,I,ee),document.body.appendChild($)}l?(C.innerText="Preview backend disconnected.",j.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(j.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,C.innerText="Preview backend running in this workspace."),C.setAttribute("id",R)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",E):E()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function CI(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(cn())}function OI(){var n;const e=(n=Ef())===null||n===void 0?void 0:n.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function DI(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function VT(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function xI(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function MI(){const n=cn();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function NI(){return!OI()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function PT(){try{return typeof indexedDB=="object"}catch{return!1}}function kT(){return new Promise((n,e)=>{try{let t=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),t||self.indexedDB.deleteDatabase(r),n(!0)},s.onupgradeneeded=()=>{t=!1},s.onerror=()=>{var l;e(((l=s.error)===null||l===void 0?void 0:l.message)||"")}}catch(t){e(t)}})}function VI(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PI="FirebaseError";class ui extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name=PI,Object.setPrototypeOf(this,ui.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,vs.prototype.create)}}class vs{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){const r=t[0]||{},s=`${this.service}/${e}`,l=this.errors[e],c=l?kI(l,r):"Error",m=`${this.serviceName}: ${c} (${s}).`;return new ui(s,m,r)}}function kI(n,e){return n.replace(LI,(t,r)=>{const s=e[r];return s!=null?String(s):`<${r}?>`})}const LI=/\{\$([^}]+)}/g;function UI(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function da(n,e){if(n===e)return!0;const t=Object.keys(n),r=Object.keys(e);for(const s of t){if(!r.includes(s))return!1;const l=n[s],c=e[s];if(Q0(l)&&Q0(c)){if(!da(l,c))return!1}else if(l!==c)return!1}for(const s of r)if(!t.includes(s))return!1;return!0}function Q0(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nu(n){const e=[];for(const[t,r]of Object.entries(n))Array.isArray(r)?r.forEach(s=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function jI(n,e){const t=new zI(n,e);return t.subscribe.bind(t)}class zI{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,r){let s;if(e===void 0&&t===void 0&&r===void 0)throw new Error("Missing Observer.");FI(e,["next","error","complete"])?s=e:s={next:e,error:t,complete:r},s.next===void 0&&(s.next=ep),s.error===void 0&&(s.error=ep),s.complete===void 0&&(s.complete=ep);const l=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),l}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function FI(n,e){if(typeof n!="object"||n===null)return!1;for(const t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function ep(){}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BI=1e3,HI=2,qI=4*60*60*1e3,$I=.5;function X0(n,e=BI,t=HI){const r=e*Math.pow(t,n),s=Math.round($I*r*(Math.random()-.5)*2);return Math.min(qI,r+s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function En(n){return n&&n._delegate?n._delegate:n}class li{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const is="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GI{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const r=new wI;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:t});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),s=(t=e==null?void 0:e.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(l){if(s)return null;throw l}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(YI(e))try{this.getOrInitializeService({instanceIdentifier:is})}catch{}for(const[t,r]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(t);try{const l=this.getOrInitializeService({instanceIdentifier:s});r.resolve(l)}catch{}}}}clearInstance(e=is){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=is){return this.instances.has(e)}getOptions(e=is){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:r,options:t});for(const[l,c]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(l);r===m&&c.resolve(s)}return s}onInit(e,t){var r;const s=this.normalizeInstanceIdentifier(t),l=(r=this.onInitCallbacks.get(s))!==null&&r!==void 0?r:new Set;l.add(e),this.onInitCallbacks.set(s,l);const c=this.instances.get(s);return c&&e(c,s),()=>{l.delete(e)}}invokeOnInitCallbacks(e,t){const r=this.onInitCallbacks.get(t);if(r)for(const s of r)try{s(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:KI(e),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=is){return this.component?this.component.multipleInstances?e:is:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function KI(n){return n===is?void 0:n}function YI(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QI{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new GI(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var je;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(je||(je={}));const XI={debug:je.DEBUG,verbose:je.VERBOSE,info:je.INFO,warn:je.WARN,error:je.ERROR,silent:je.SILENT},WI=je.INFO,ZI={[je.DEBUG]:"log",[je.VERBOSE]:"log",[je.INFO]:"info",[je.WARN]:"warn",[je.ERROR]:"error"},JI=(n,e,...t)=>{if(e<n.logLevel)return;const r=new Date().toISOString(),s=ZI[e];if(s)console[s](`[${r}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Tf{constructor(e){this.name=e,this._logLevel=WI,this._logHandler=JI,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in je))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?XI[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,je.DEBUG,...e),this._logHandler(this,je.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,je.VERBOSE,...e),this._logHandler(this,je.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,je.INFO,...e),this._logHandler(this,je.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,je.WARN,...e),this._logHandler(this,je.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,je.ERROR,...e),this._logHandler(this,je.ERROR,...e)}}const eC=(n,e)=>e.some(t=>n instanceof t);let W0,Z0;function tC(){return W0||(W0=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function nC(){return Z0||(Z0=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const LT=new WeakMap,Ap=new WeakMap,UT=new WeakMap,tp=new WeakMap,fg=new WeakMap;function iC(n){const e=new Promise((t,r)=>{const s=()=>{n.removeEventListener("success",l),n.removeEventListener("error",c)},l=()=>{t(ua(n.result)),s()},c=()=>{r(n.error),s()};n.addEventListener("success",l),n.addEventListener("error",c)});return e.then(t=>{t instanceof IDBCursor&&LT.set(t,n)}).catch(()=>{}),fg.set(e,n),e}function rC(n){if(Ap.has(n))return;const e=new Promise((t,r)=>{const s=()=>{n.removeEventListener("complete",l),n.removeEventListener("error",c),n.removeEventListener("abort",c)},l=()=>{t(),s()},c=()=>{r(n.error||new DOMException("AbortError","AbortError")),s()};n.addEventListener("complete",l),n.addEventListener("error",c),n.addEventListener("abort",c)});Ap.set(n,e)}let Rp={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return Ap.get(n);if(e==="objectStoreNames")return n.objectStoreNames||UT.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return ua(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function aC(n){Rp=n(Rp)}function sC(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const r=n.call(np(this),e,...t);return UT.set(r,e.sort?e.sort():[e]),ua(r)}:nC().includes(n)?function(...e){return n.apply(np(this),e),ua(LT.get(this))}:function(...e){return ua(n.apply(np(this),e))}}function oC(n){return typeof n=="function"?sC(n):(n instanceof IDBTransaction&&rC(n),eC(n,tC())?new Proxy(n,Rp):n)}function ua(n){if(n instanceof IDBRequest)return iC(n);if(tp.has(n))return tp.get(n);const e=oC(n);return e!==n&&(tp.set(n,e),fg.set(e,n)),e}const np=n=>fg.get(n);function jT(n,e,{blocked:t,upgrade:r,blocking:s,terminated:l}={}){const c=indexedDB.open(n,e),m=ua(c);return r&&c.addEventListener("upgradeneeded",d=>{r(ua(c.result),d.oldVersion,d.newVersion,ua(c.transaction),d)}),t&&c.addEventListener("blocked",d=>t(d.oldVersion,d.newVersion,d)),m.then(d=>{l&&d.addEventListener("close",()=>l()),s&&d.addEventListener("versionchange",p=>s(p.oldVersion,p.newVersion,p))}).catch(()=>{}),m}const lC=["get","getKey","getAll","getAllKeys","count"],uC=["put","add","delete","clear"],ip=new Map;function J0(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(ip.get(e))return ip.get(e);const t=e.replace(/FromIndex$/,""),r=e!==t,s=uC.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!(s||lC.includes(t)))return;const l=async function(c,...m){const d=this.transaction(c,s?"readwrite":"readonly");let p=d.store;return r&&(p=p.index(m.shift())),(await Promise.all([p[t](...m),s&&d.done]))[0]};return ip.set(e,l),l}aC(n=>({...n,get:(e,t,r)=>J0(e,t)||n.get(e,t,r),has:(e,t)=>!!J0(e,t)||n.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cC{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(hC(t)){const r=t.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(t=>t).join(" ")}}function hC(n){const e=n.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Ip="@firebase/app",eb="0.13.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wr=new Tf("@firebase/app"),fC="@firebase/app-compat",dC="@firebase/analytics-compat",mC="@firebase/analytics",pC="@firebase/app-check-compat",gC="@firebase/app-check",vC="@firebase/auth",yC="@firebase/auth-compat",_C="@firebase/database",bC="@firebase/data-connect",EC="@firebase/database-compat",TC="@firebase/functions",SC="@firebase/functions-compat",wC="@firebase/installations",AC="@firebase/installations-compat",RC="@firebase/messaging",IC="@firebase/messaging-compat",CC="@firebase/performance",OC="@firebase/performance-compat",DC="@firebase/remote-config",xC="@firebase/remote-config-compat",MC="@firebase/storage",NC="@firebase/storage-compat",VC="@firebase/firestore",PC="@firebase/ai",kC="@firebase/firestore-compat",LC="firebase",UC="11.10.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cp="[DEFAULT]",jC={[Ip]:"fire-core",[fC]:"fire-core-compat",[mC]:"fire-analytics",[dC]:"fire-analytics-compat",[gC]:"fire-app-check",[pC]:"fire-app-check-compat",[vC]:"fire-auth",[yC]:"fire-auth-compat",[_C]:"fire-rtdb",[bC]:"fire-data-connect",[EC]:"fire-rtdb-compat",[TC]:"fire-fn",[SC]:"fire-fn-compat",[wC]:"fire-iid",[AC]:"fire-iid-compat",[RC]:"fire-fcm",[IC]:"fire-fcm-compat",[CC]:"fire-perf",[OC]:"fire-perf-compat",[DC]:"fire-rc",[xC]:"fire-rc-compat",[MC]:"fire-gcs",[NC]:"fire-gcs-compat",[VC]:"fire-fst",[kC]:"fire-fst-compat",[PC]:"fire-vertex","fire-js":"fire-js",[LC]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hh=new Map,zC=new Map,Op=new Map;function tb(n,e){try{n.container.addComponent(e)}catch(t){wr.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function Ui(n){const e=n.name;if(Op.has(e))return wr.debug(`There were multiple attempts to register component ${e}.`),!1;Op.set(e,n);for(const t of Hh.values())tb(t,n);for(const t of zC.values())tb(t,n);return!0}function ys(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function ii(n){return n==null?!1:n.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FC={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ca=new vs("app","Firebase",FC);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BC{constructor(e,t,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new li("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ca.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ko=UC;function zT(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const r=Object.assign({name:Cp,automaticDataCollectionEnabled:!0},e),s=r.name;if(typeof s!="string"||!s)throw ca.create("bad-app-name",{appName:String(s)});if(t||(t=DT()),!t)throw ca.create("no-options");const l=Hh.get(s);if(l){if(da(t,l.options)&&da(r,l.config))return l;throw ca.create("duplicate-app",{appName:s})}const c=new QI(s);for(const d of Op.values())c.addComponent(d);const m=new BC(t,r,c);return Hh.set(s,m),m}function dg(n=Cp){const e=Hh.get(n);if(!e&&n===Cp&&DT())return zT();if(!e)throw ca.create("no-app",{appName:n});return e}function Xn(n,e,t){var r;let s=(r=jC[n])!==null&&r!==void 0?r:n;t&&(s+=`-${t}`);const l=s.match(/\s|\//),c=e.match(/\s|\//);if(l||c){const m=[`Unable to register library "${s}" with version "${e}":`];l&&m.push(`library name "${s}" contains illegal characters (whitespace or "/")`),l&&c&&m.push("and"),c&&m.push(`version name "${e}" contains illegal characters (whitespace or "/")`),wr.warn(m.join(" "));return}Ui(new li(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HC="firebase-heartbeat-database",qC=1,gu="firebase-heartbeat-store";let rp=null;function FT(){return rp||(rp=jT(HC,qC,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(gu)}catch(t){console.warn(t)}}}}).catch(n=>{throw ca.create("idb-open",{originalErrorMessage:n.message})})),rp}async function $C(n){try{const t=(await FT()).transaction(gu),r=await t.objectStore(gu).get(BT(n));return await t.done,r}catch(e){if(e instanceof ui)wr.warn(e.message);else{const t=ca.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});wr.warn(t.message)}}}async function nb(n,e){try{const r=(await FT()).transaction(gu,"readwrite");await r.objectStore(gu).put(e,BT(n)),await r.done}catch(t){if(t instanceof ui)wr.warn(t.message);else{const r=ca.create("idb-set",{originalErrorMessage:t==null?void 0:t.message});wr.warn(r.message)}}}function BT(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GC=1024,KC=30;class YC{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new XC(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,t;try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),l=ib();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===l||this._heartbeatsCache.heartbeats.some(c=>c.date===l))return;if(this._heartbeatsCache.heartbeats.push({date:l,agent:s}),this._heartbeatsCache.heartbeats.length>KC){const c=WC(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(c,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){wr.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=ib(),{heartbeatsToSend:r,unsentEntries:s}=QC(this._heartbeatsCache.heartbeats),l=Bh(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=t,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(t){return wr.warn(t),""}}}function ib(){return new Date().toISOString().substring(0,10)}function QC(n,e=GC){const t=[];let r=n.slice();for(const s of n){const l=t.find(c=>c.agent===s.agent);if(l){if(l.dates.push(s.date),rb(t)>e){l.dates.pop();break}}else if(t.push({agent:s.agent,dates:[s.date]}),rb(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}class XC{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return PT()?kT().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await $C(this.app);return t!=null&&t.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const s=await this.read();return nb(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var t;if(await this._canUseIndexedDBPromise){const s=await this.read();return nb(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function rb(n){return Bh(JSON.stringify({version:2,heartbeats:n})).length}function WC(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let r=1;r<n.length;r++)n[r].date<t&&(t=n[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZC(n){Ui(new li("platform-logger",e=>new cC(e),"PRIVATE")),Ui(new li("heartbeat",e=>new YC(e),"PRIVATE")),Xn(Ip,eb,n),Xn(Ip,eb,"esm2017"),Xn("fire-js","")}ZC("");var JC="firebase",eO="11.10.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Xn(JC,eO,"app");const HT="@firebase/installations",mg="0.6.18";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qT=1e4,$T=`w:${mg}`,GT="FIS_v2",tO="https://firebaseinstallations.googleapis.com/v1",nO=60*60*1e3,iO="installations",rO="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aO={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},us=new vs(iO,rO,aO);function KT(n){return n instanceof ui&&n.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YT({projectId:n}){return`${tO}/projects/${n}/installations`}function QT(n){return{token:n.token,requestStatus:2,expiresIn:oO(n.expiresIn),creationTime:Date.now()}}async function XT(n,e){const r=(await e.json()).error;return us.create("request-failed",{requestName:n,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})}function WT({apiKey:n}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":n})}function sO(n,{refreshToken:e}){const t=WT(n);return t.append("Authorization",lO(e)),t}async function ZT(n){const e=await n();return e.status>=500&&e.status<600?n():e}function oO(n){return Number(n.replace("s","000"))}function lO(n){return`${GT} ${n}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function uO({appConfig:n,heartbeatServiceProvider:e},{fid:t}){const r=YT(n),s=WT(n),l=e.getImmediate({optional:!0});if(l){const p=await l.getHeartbeatsHeader();p&&s.append("x-firebase-client",p)}const c={fid:t,authVersion:GT,appId:n.appId,sdkVersion:$T},m={method:"POST",headers:s,body:JSON.stringify(c)},d=await ZT(()=>fetch(r,m));if(d.ok){const p=await d.json();return{fid:p.fid||t,registrationStatus:2,refreshToken:p.refreshToken,authToken:QT(p.authToken)}}else throw await XT("Create Installation",d)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JT(n){return new Promise(e=>{setTimeout(e,n)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cO(n){return btoa(String.fromCharCode(...n)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hO=/^[cdef][\w-]{21}$/,Dp="";function fO(){try{const n=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(n),n[0]=112+n[0]%16;const t=dO(n);return hO.test(t)?t:Dp}catch{return Dp}}function dO(n){return cO(n).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sf(n){return`${n.appName}!${n.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eS=new Map;function tS(n,e){const t=Sf(n);nS(t,e),mO(t,e)}function nS(n,e){const t=eS.get(n);if(t)for(const r of t)r(e)}function mO(n,e){const t=pO();t&&t.postMessage({key:n,fid:e}),gO()}let rs=null;function pO(){return!rs&&"BroadcastChannel"in self&&(rs=new BroadcastChannel("[Firebase] FID Change"),rs.onmessage=n=>{nS(n.data.key,n.data.fid)}),rs}function gO(){eS.size===0&&rs&&(rs.close(),rs=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vO="firebase-installations-database",yO=1,cs="firebase-installations-store";let ap=null;function pg(){return ap||(ap=jT(vO,yO,{upgrade:(n,e)=>{switch(e){case 0:n.createObjectStore(cs)}}})),ap}async function qh(n,e){const t=Sf(n),s=(await pg()).transaction(cs,"readwrite"),l=s.objectStore(cs),c=await l.get(t);return await l.put(e,t),await s.done,(!c||c.fid!==e.fid)&&tS(n,e.fid),e}async function iS(n){const e=Sf(n),r=(await pg()).transaction(cs,"readwrite");await r.objectStore(cs).delete(e),await r.done}async function wf(n,e){const t=Sf(n),s=(await pg()).transaction(cs,"readwrite"),l=s.objectStore(cs),c=await l.get(t),m=e(c);return m===void 0?await l.delete(t):await l.put(m,t),await s.done,m&&(!c||c.fid!==m.fid)&&tS(n,m.fid),m}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gg(n){let e;const t=await wf(n.appConfig,r=>{const s=_O(r),l=bO(n,s);return e=l.registrationPromise,l.installationEntry});return t.fid===Dp?{installationEntry:await e}:{installationEntry:t,registrationPromise:e}}function _O(n){const e=n||{fid:fO(),registrationStatus:0};return rS(e)}function bO(n,e){if(e.registrationStatus===0){if(!navigator.onLine){const s=Promise.reject(us.create("app-offline"));return{installationEntry:e,registrationPromise:s}}const t={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=EO(n,t);return{installationEntry:t,registrationPromise:r}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:TO(n)}:{installationEntry:e}}async function EO(n,e){try{const t=await uO(n,e);return qh(n.appConfig,t)}catch(t){throw KT(t)&&t.customData.serverCode===409?await iS(n.appConfig):await qh(n.appConfig,{fid:e.fid,registrationStatus:0}),t}}async function TO(n){let e=await ab(n.appConfig);for(;e.registrationStatus===1;)await JT(100),e=await ab(n.appConfig);if(e.registrationStatus===0){const{installationEntry:t,registrationPromise:r}=await gg(n);return r||t}return e}function ab(n){return wf(n,e=>{if(!e)throw us.create("installation-not-found");return rS(e)})}function rS(n){return SO(n)?{fid:n.fid,registrationStatus:0}:n}function SO(n){return n.registrationStatus===1&&n.registrationTime+qT<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wO({appConfig:n,heartbeatServiceProvider:e},t){const r=AO(n,t),s=sO(n,t),l=e.getImmediate({optional:!0});if(l){const p=await l.getHeartbeatsHeader();p&&s.append("x-firebase-client",p)}const c={installation:{sdkVersion:$T,appId:n.appId}},m={method:"POST",headers:s,body:JSON.stringify(c)},d=await ZT(()=>fetch(r,m));if(d.ok){const p=await d.json();return QT(p)}else throw await XT("Generate Auth Token",d)}function AO(n,{fid:e}){return`${YT(n)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vg(n,e=!1){let t;const r=await wf(n.appConfig,l=>{if(!aS(l))throw us.create("not-registered");const c=l.authToken;if(!e&&CO(c))return l;if(c.requestStatus===1)return t=RO(n,e),l;{if(!navigator.onLine)throw us.create("app-offline");const m=DO(l);return t=IO(n,m),m}});return t?await t:r.authToken}async function RO(n,e){let t=await sb(n.appConfig);for(;t.authToken.requestStatus===1;)await JT(100),t=await sb(n.appConfig);const r=t.authToken;return r.requestStatus===0?vg(n,e):r}function sb(n){return wf(n,e=>{if(!aS(e))throw us.create("not-registered");const t=e.authToken;return xO(t)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}async function IO(n,e){try{const t=await wO(n,e),r=Object.assign(Object.assign({},e),{authToken:t});return await qh(n.appConfig,r),t}catch(t){if(KT(t)&&(t.customData.serverCode===401||t.customData.serverCode===404))await iS(n.appConfig);else{const r=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});await qh(n.appConfig,r)}throw t}}function aS(n){return n!==void 0&&n.registrationStatus===2}function CO(n){return n.requestStatus===2&&!OO(n)}function OO(n){const e=Date.now();return e<n.creationTime||n.creationTime+n.expiresIn<e+nO}function DO(n){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},n),{authToken:e})}function xO(n){return n.requestStatus===1&&n.requestTime+qT<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function MO(n){const e=n,{installationEntry:t,registrationPromise:r}=await gg(e);return r?r.catch(console.error):vg(e).catch(console.error),t.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function NO(n,e=!1){const t=n;return await VO(t),(await vg(t,e)).token}async function VO(n){const{registrationPromise:e}=await gg(n);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PO(n){if(!n||!n.options)throw sp("App Configuration");if(!n.name)throw sp("App Name");const e=["projectId","apiKey","appId"];for(const t of e)if(!n.options[t])throw sp(t);return{appName:n.name,projectId:n.options.projectId,apiKey:n.options.apiKey,appId:n.options.appId}}function sp(n){return us.create("missing-app-config-values",{valueName:n})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sS="installations",kO="installations-internal",LO=n=>{const e=n.getProvider("app").getImmediate(),t=PO(e),r=ys(e,"heartbeat");return{app:e,appConfig:t,heartbeatServiceProvider:r,_delete:()=>Promise.resolve()}},UO=n=>{const e=n.getProvider("app").getImmediate(),t=ys(e,sS).getImmediate();return{getId:()=>MO(t),getToken:s=>NO(t,s)}};function jO(){Ui(new li(sS,LO,"PUBLIC")),Ui(new li(kO,UO,"PRIVATE"))}jO();Xn(HT,mg);Xn(HT,mg,"esm2017");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $h="analytics",zO="firebase_id",FO="origin",BO=60*1e3,HO="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",yg="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bn=new Tf("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qO={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},Mn=new vs("analytics","Analytics",qO);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $O(n){if(!n.startsWith(yg)){const e=Mn.create("invalid-gtag-resource",{gtagURL:n});return bn.warn(e.message),""}return n}function oS(n){return Promise.all(n.map(e=>e.catch(t=>t)))}function GO(n,e){let t;return window.trustedTypes&&(t=window.trustedTypes.createPolicy(n,e)),t}function KO(n,e){const t=GO("firebase-js-sdk-policy",{createScriptURL:$O}),r=document.createElement("script"),s=`${yg}?l=${n}&id=${e}`;r.src=t?t==null?void 0:t.createScriptURL(s):s,r.async=!0,document.head.appendChild(r)}function YO(n){let e=[];return Array.isArray(window[n])?e=window[n]:window[n]=e,e}async function QO(n,e,t,r,s,l){const c=r[s];try{if(c)await e[c];else{const d=(await oS(t)).find(p=>p.measurementId===s);d&&await e[d.appId]}}catch(m){bn.error(m)}n("config",s,l)}async function XO(n,e,t,r,s){try{let l=[];if(s&&s.send_to){let c=s.send_to;Array.isArray(c)||(c=[c]);const m=await oS(t);for(const d of c){const p=m.find(E=>E.measurementId===d),y=p&&e[p.appId];if(y)l.push(y);else{l=[];break}}}l.length===0&&(l=Object.values(e)),await Promise.all(l),n("event",r,s||{})}catch(l){bn.error(l)}}function WO(n,e,t,r){async function s(l,...c){try{if(l==="event"){const[m,d]=c;await XO(n,e,t,m,d)}else if(l==="config"){const[m,d]=c;await QO(n,e,t,r,m,d)}else if(l==="consent"){const[m,d]=c;n("consent",m,d)}else if(l==="get"){const[m,d,p]=c;n("get",m,d,p)}else if(l==="set"){const[m]=c;n("set",m)}else n(l,...c)}catch(m){bn.error(m)}}return s}function ZO(n,e,t,r,s){let l=function(...c){window[r].push(arguments)};return window[s]&&typeof window[s]=="function"&&(l=window[s]),window[s]=WO(l,n,e,t),{gtagCore:l,wrappedGtag:window[s]}}function JO(n){const e=window.document.getElementsByTagName("script");for(const t of Object.values(e))if(t.src&&t.src.includes(yg)&&t.src.includes(n))return t;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eD=30,tD=1e3;class nD{constructor(e={},t=tD){this.throttleMetadata=e,this.intervalMillis=t}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,t){this.throttleMetadata[e]=t}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const lS=new nD;function iD(n){return new Headers({Accept:"application/json","x-goog-api-key":n})}async function rD(n){var e;const{appId:t,apiKey:r}=n,s={method:"GET",headers:iD(r)},l=HO.replace("{app-id}",t),c=await fetch(l,s);if(c.status!==200&&c.status!==304){let m="";try{const d=await c.json();!((e=d.error)===null||e===void 0)&&e.message&&(m=d.error.message)}catch{}throw Mn.create("config-fetch-failed",{httpStatus:c.status,responseMessage:m})}return c.json()}async function aD(n,e=lS,t){const{appId:r,apiKey:s,measurementId:l}=n.options;if(!r)throw Mn.create("no-app-id");if(!s){if(l)return{measurementId:l,appId:r};throw Mn.create("no-api-key")}const c=e.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},m=new lD;return setTimeout(async()=>{m.abort()},BO),uS({appId:r,apiKey:s,measurementId:l},c,m,e)}async function uS(n,{throttleEndTimeMillis:e,backoffCount:t},r,s=lS){var l;const{appId:c,measurementId:m}=n;try{await sD(r,e)}catch(d){if(m)return bn.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${m} provided in the "measurementId" field in the local Firebase config. [${d==null?void 0:d.message}]`),{appId:c,measurementId:m};throw d}try{const d=await rD(n);return s.deleteThrottleMetadata(c),d}catch(d){const p=d;if(!oD(p)){if(s.deleteThrottleMetadata(c),m)return bn.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${m} provided in the "measurementId" field in the local Firebase config. [${p==null?void 0:p.message}]`),{appId:c,measurementId:m};throw d}const y=Number((l=p==null?void 0:p.customData)===null||l===void 0?void 0:l.httpStatus)===503?X0(t,s.intervalMillis,eD):X0(t,s.intervalMillis),E={throttleEndTimeMillis:Date.now()+y,backoffCount:t+1};return s.setThrottleMetadata(c,E),bn.debug(`Calling attemptFetch again in ${y} millis`),uS(n,E,r,s)}}function sD(n,e){return new Promise((t,r)=>{const s=Math.max(e-Date.now(),0),l=setTimeout(t,s);n.addEventListener(()=>{clearTimeout(l),r(Mn.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function oD(n){if(!(n instanceof ui)||!n.customData)return!1;const e=Number(n.customData.httpStatus);return e===429||e===500||e===503||e===504}class lD{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function uD(n,e,t,r,s){if(s&&s.global){n("event",t,r);return}else{const l=await e,c=Object.assign(Object.assign({},r),{send_to:l});n("event",t,c)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cD(){if(PT())try{await kT()}catch(n){return bn.warn(Mn.create("indexeddb-unavailable",{errorInfo:n==null?void 0:n.toString()}).message),!1}else return bn.warn(Mn.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function hD(n,e,t,r,s,l,c){var m;const d=aD(n);d.then(R=>{t[R.measurementId]=R.appId,n.options.measurementId&&R.measurementId!==n.options.measurementId&&bn.warn(`The measurement ID in the local Firebase config (${n.options.measurementId}) does not match the measurement ID fetched from the server (${R.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(R=>bn.error(R)),e.push(d);const p=cD().then(R=>{if(R)return r.getId()}),[y,E]=await Promise.all([d,p]);JO(l)||KO(l,y.measurementId),s("js",new Date);const T=(m=c==null?void 0:c.config)!==null&&m!==void 0?m:{};return T[FO]="firebase",T.update=!0,E!=null&&(T[zO]=E),s("config",y.measurementId,T),y.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fD{constructor(e){this.app=e}_delete(){return delete lu[this.app.options.appId],Promise.resolve()}}let lu={},ob=[];const lb={};let op="dataLayer",dD="gtag",ub,cS,cb=!1;function mD(){const n=[];if(VT()&&n.push("This is a browser extension environment."),VI()||n.push("Cookies are not available."),n.length>0){const e=n.map((r,s)=>`(${s+1}) ${r}`).join(" "),t=Mn.create("invalid-analytics-context",{errorInfo:e});bn.warn(t.message)}}function pD(n,e,t){mD();const r=n.options.appId;if(!r)throw Mn.create("no-app-id");if(!n.options.apiKey)if(n.options.measurementId)bn.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${n.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw Mn.create("no-api-key");if(lu[r]!=null)throw Mn.create("already-exists",{id:r});if(!cb){YO(op);const{wrappedGtag:l,gtagCore:c}=ZO(lu,ob,lb,op,dD);cS=l,ub=c,cb=!0}return lu[r]=hD(n,ob,lb,e,ub,op,t),new fD(n)}function gD(n=dg()){n=En(n);const e=ys(n,$h);return e.isInitialized()?e.getImmediate():vD(n)}function vD(n,e={}){const t=ys(n,$h);if(t.isInitialized()){const s=t.getImmediate();if(da(e,t.getOptions()))return s;throw Mn.create("already-initialized")}return t.initialize({options:e})}function yD(n,e,t,r){n=En(n),uD(cS,lu[n.app.options.appId],e,t,r).catch(s=>bn.error(s))}const hb="@firebase/analytics",fb="0.10.17";function _D(){Ui(new li($h,(e,{options:t})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("installations-internal").getImmediate();return pD(r,s,t)},"PUBLIC")),Ui(new li("analytics-internal",n,"PRIVATE")),Xn(hb,fb),Xn(hb,fb,"esm2017");function n(e){try{const t=e.getProvider($h).getImmediate();return{logEvent:(r,s,l)=>yD(t,r,s,l)}}catch(t){throw Mn.create("interop-component-reg-failed",{reason:t})}}}_D();function _g(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(n);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(n,r[s])&&(t[r[s]]=n[r[s]]);return t}function hS(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const bD=hS,fS=new vs("auth","Firebase",hS());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gh=new Tf("@firebase/auth");function ED(n,...e){Gh.logLevel<=je.WARN&&Gh.warn(`Auth (${ko}): ${n}`,...e)}function Ih(n,...e){Gh.logLevel<=je.ERROR&&Gh.error(`Auth (${ko}): ${n}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ji(n,...e){throw Eg(n,...e)}function si(n,...e){return Eg(n,...e)}function bg(n,e,t){const r=Object.assign(Object.assign({},bD()),{[e]:t});return new vs("auth","Firebase",r).create(e,{appName:n.name})}function os(n){return bg(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function TD(n,e,t){const r=t;if(!(e instanceof r))throw r.name!==e.constructor.name&&ji(n,"argument-error"),bg(n,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Eg(n,...e){if(typeof n!="string"){const t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(t,...r)}return fS.create(n,...e)}function Ce(n,e,...t){if(!n)throw Eg(e,...t)}function vr(n){const e="INTERNAL ASSERTION FAILED: "+n;throw Ih(e),new Error(e)}function Ar(n,e){n||vr(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xp(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.href)||""}function SD(){return db()==="http:"||db()==="https:"}function db(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wD(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(SD()||VT()||"connection"in navigator)?navigator.onLine:!0}function AD(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vu{constructor(e,t){this.shortDelay=e,this.longDelay=t,Ar(t>e,"Short delay should be less than long delay!"),this.isMobile=CI()||xI()}get(){return wD()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tg(n,e){Ar(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dS{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;vr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;vr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;vr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RD={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ID=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],CD=new Vu(3e4,6e4);function Sg(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}async function Lo(n,e,t,r,s={}){return mS(n,s,async()=>{let l={},c={};r&&(e==="GET"?c=r:l={body:JSON.stringify(r)});const m=Nu(Object.assign({key:n.config.apiKey},c)).slice(1),d=await n._getAdditionalHeaders();d["Content-Type"]="application/json",n.languageCode&&(d["X-Firebase-Locale"]=n.languageCode);const p=Object.assign({method:e,headers:d},l);return DI()||(p.referrerPolicy="no-referrer"),n.emulatorConfig&&Po(n.emulatorConfig.host)&&(p.credentials="include"),dS.fetch()(await pS(n,n.config.apiHost,t,m),p)})}async function mS(n,e,t){n._canInitEmulator=!1;const r=Object.assign(Object.assign({},RD),e);try{const s=new DD(n),l=await Promise.race([t(),s.promise]);s.clearNetworkTimeout();const c=await l.json();if("needConfirmation"in c)throw mh(n,"account-exists-with-different-credential",c);if(l.ok&&!("errorMessage"in c))return c;{const m=l.ok?c.errorMessage:c.error.message,[d,p]=m.split(" : ");if(d==="FEDERATED_USER_ID_ALREADY_LINKED")throw mh(n,"credential-already-in-use",c);if(d==="EMAIL_EXISTS")throw mh(n,"email-already-in-use",c);if(d==="USER_DISABLED")throw mh(n,"user-disabled",c);const y=r[d]||d.toLowerCase().replace(/[_\s]+/g,"-");if(p)throw bg(n,y,p);ji(n,y)}}catch(s){if(s instanceof ui)throw s;ji(n,"network-request-failed",{message:String(s)})}}async function OD(n,e,t,r,s={}){const l=await Lo(n,e,t,r,s);return"mfaPendingCredential"in l&&ji(n,"multi-factor-auth-required",{_serverResponse:l}),l}async function pS(n,e,t,r){const s=`${e}${t}?${r}`,l=n,c=l.config.emulator?Tg(n.config,s):`${n.config.apiScheme}://${s}`;return ID.includes(t)&&(await l._persistenceManagerAvailable,l._getPersistenceType()==="COOKIE")?l._getPersistence()._getFinalTarget(c).toString():c}class DD{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r(si(this.auth,"network-request-failed")),CD.get())})}}function mh(n,e,t){const r={appName:n.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);const s=si(n,e,r);return s.customData._tokenResponse=t,s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xD(n,e){return Lo(n,"POST","/v1/accounts:delete",e)}async function Kh(n,e){return Lo(n,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uu(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function MD(n,e=!1){const t=En(n),r=await t.getIdToken(e),s=wg(r);Ce(s&&s.exp&&s.auth_time&&s.iat,t.auth,"internal-error");const l=typeof s.firebase=="object"?s.firebase:void 0,c=l==null?void 0:l.sign_in_provider;return{claims:s,token:r,authTime:uu(lp(s.auth_time)),issuedAtTime:uu(lp(s.iat)),expirationTime:uu(lp(s.exp)),signInProvider:c||null,signInSecondFactor:(l==null?void 0:l.sign_in_second_factor)||null}}function lp(n){return Number(n)*1e3}function wg(n){const[e,t,r]=n.split(".");if(e===void 0||t===void 0||r===void 0)return Ih("JWT malformed, contained fewer than 3 sections"),null;try{const s=CT(t);return s?JSON.parse(s):(Ih("Failed to decode base64 JWT payload"),null)}catch(s){return Ih("Caught error parsing JWT payload as JSON",s==null?void 0:s.toString()),null}}function mb(n){const e=wg(n);return Ce(e,"internal-error"),Ce(typeof e.exp<"u","internal-error"),Ce(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vu(n,e,t=!1){if(t)return e;try{return await e}catch(r){throw r instanceof ui&&ND(r)&&n.auth.currentUser===n&&await n.auth.signOut(),r}}function ND({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VD{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const s=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mp{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=uu(this.lastLoginAt),this.creationTime=uu(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Yh(n){var e;const t=n.auth,r=await n.getIdToken(),s=await vu(n,Kh(t,{idToken:r}));Ce(s==null?void 0:s.users.length,t,"internal-error");const l=s.users[0];n._notifyReloadListener(l);const c=!((e=l.providerUserInfo)===null||e===void 0)&&e.length?gS(l.providerUserInfo):[],m=kD(n.providerData,c),d=n.isAnonymous,p=!(n.email&&l.passwordHash)&&!(m!=null&&m.length),y=d?p:!1,E={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:m,metadata:new Mp(l.createdAt,l.lastLoginAt),isAnonymous:y};Object.assign(n,E)}async function PD(n){const e=En(n);await Yh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function kD(n,e){return[...n.filter(r=>!e.some(s=>s.providerId===r.providerId)),...e]}function gS(n){return n.map(e=>{var{providerId:t}=e,r=_g(e,["providerId"]);return{providerId:t,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function LD(n,e){const t=await mS(n,{},async()=>{const r=Nu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:l}=n.config,c=await pS(n,s,"/v1/token",`key=${l}`),m=await n._getAdditionalHeaders();m["Content-Type"]="application/x-www-form-urlencoded";const d={method:"POST",headers:m,body:r};return n.emulatorConfig&&Po(n.emulatorConfig.host)&&(d.credentials="include"),dS.fetch()(c,d)});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function UD(n,e){return Lo(n,"POST","/v2/accounts:revokeToken",Sg(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class To{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ce(e.idToken,"internal-error"),Ce(typeof e.idToken<"u","internal-error"),Ce(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):mb(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){Ce(e.length!==0,"internal-error");const t=mb(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(Ce(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:r,refreshToken:s,expiresIn:l}=await LD(e,t);this.updateTokensAndExpiration(r,s,Number(l))}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,t){const{refreshToken:r,accessToken:s,expirationTime:l}=t,c=new To;return r&&(Ce(typeof r=="string","internal-error",{appName:e}),c.refreshToken=r),s&&(Ce(typeof s=="string","internal-error",{appName:e}),c.accessToken=s),l&&(Ce(typeof l=="number","internal-error",{appName:e}),c.expirationTime=l),c}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new To,this.toJSON())}_performRefresh(){return vr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ra(n,e){Ce(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}class ri{constructor(e){var{uid:t,auth:r,stsTokenManager:s}=e,l=_g(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new VD(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=r,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=l.displayName||null,this.email=l.email||null,this.emailVerified=l.emailVerified||!1,this.phoneNumber=l.phoneNumber||null,this.photoURL=l.photoURL||null,this.isAnonymous=l.isAnonymous||!1,this.tenantId=l.tenantId||null,this.providerData=l.providerData?[...l.providerData]:[],this.metadata=new Mp(l.createdAt||void 0,l.lastLoginAt||void 0)}async getIdToken(e){const t=await vu(this,this.stsTokenManager.getToken(this.auth,e));return Ce(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return MD(this,e)}reload(){return PD(this)}_assign(e){this!==e&&(Ce(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new ri(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){Ce(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),t&&await Yh(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(ii(this.auth.app))return Promise.reject(os(this.auth));const e=await this.getIdToken();return await vu(this,xD(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var r,s,l,c,m,d,p,y;const E=(r=t.displayName)!==null&&r!==void 0?r:void 0,T=(s=t.email)!==null&&s!==void 0?s:void 0,R=(l=t.phoneNumber)!==null&&l!==void 0?l:void 0,C=(c=t.photoURL)!==null&&c!==void 0?c:void 0,N=(m=t.tenantId)!==null&&m!==void 0?m:void 0,I=(d=t._redirectEventId)!==null&&d!==void 0?d:void 0,M=(p=t.createdAt)!==null&&p!==void 0?p:void 0,j=(y=t.lastLoginAt)!==null&&y!==void 0?y:void 0,{uid:$,emailVerified:ee,isAnonymous:q,providerData:oe,stsTokenManager:O}=t;Ce($&&O,e,"internal-error");const A=To.fromJSON(this.name,O);Ce(typeof $=="string",e,"internal-error"),ra(E,e.name),ra(T,e.name),Ce(typeof ee=="boolean",e,"internal-error"),Ce(typeof q=="boolean",e,"internal-error"),ra(R,e.name),ra(C,e.name),ra(N,e.name),ra(I,e.name),ra(M,e.name),ra(j,e.name);const D=new ri({uid:$,auth:e,email:T,emailVerified:ee,displayName:E,isAnonymous:q,photoURL:C,phoneNumber:R,tenantId:N,stsTokenManager:A,createdAt:M,lastLoginAt:j});return oe&&Array.isArray(oe)&&(D.providerData=oe.map(V=>Object.assign({},V))),I&&(D._redirectEventId=I),D}static async _fromIdTokenResponse(e,t,r=!1){const s=new To;s.updateFromServerResponse(t);const l=new ri({uid:t.localId,auth:e,stsTokenManager:s,isAnonymous:r});return await Yh(l),l}static async _fromGetAccountInfoResponse(e,t,r){const s=t.users[0];Ce(s.localId!==void 0,"internal-error");const l=s.providerUserInfo!==void 0?gS(s.providerUserInfo):[],c=!(s.email&&s.passwordHash)&&!(l!=null&&l.length),m=new To;m.updateFromIdToken(r);const d=new ri({uid:s.localId,auth:e,stsTokenManager:m,isAnonymous:c}),p={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:l,metadata:new Mp(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!(l!=null&&l.length)};return Object.assign(d,p),d}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pb=new Map;function yr(n){Ar(n instanceof Function,"Expected a class definition");let e=pb.get(n);return e?(Ar(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,pb.set(n,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vS{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}vS.type="NONE";const gb=vS;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ch(n,e,t){return`firebase:${n}:${e}:${t}`}class So{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;const{config:s,name:l}=this.auth;this.fullUserKey=Ch(this.userKey,s.apiKey,l),this.fullPersistenceKey=Ch("persistence",s.apiKey,l),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const t=await Kh(this.auth,{idToken:e}).catch(()=>{});return t?ri._fromGetAccountInfoResponse(this.auth,t,e):null}return ri._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,r="authUser"){if(!t.length)return new So(yr(gb),e,r);const s=(await Promise.all(t.map(async p=>{if(await p._isAvailable())return p}))).filter(p=>p);let l=s[0]||yr(gb);const c=Ch(r,e.config.apiKey,e.name);let m=null;for(const p of t)try{const y=await p._get(c);if(y){let E;if(typeof y=="string"){const T=await Kh(e,{idToken:y}).catch(()=>{});if(!T)break;E=await ri._fromGetAccountInfoResponse(e,T,y)}else E=ri._fromJSON(e,y);p!==l&&(m=E),l=p;break}}catch{}const d=s.filter(p=>p._shouldAllowMigration);return!l._shouldAllowMigration||!d.length?new So(l,e,r):(l=d[0],m&&await l._set(c,m.toJSON()),await Promise.all(t.map(async p=>{if(p!==l)try{await p._remove(c)}catch{}})),new So(l,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vb(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(ES(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(yS(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(SS(e))return"Blackberry";if(wS(e))return"Webos";if(_S(e))return"Safari";if((e.includes("chrome/")||bS(e))&&!e.includes("edge/"))return"Chrome";if(TS(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=n.match(t);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function yS(n=cn()){return/firefox\//i.test(n)}function _S(n=cn()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function bS(n=cn()){return/crios\//i.test(n)}function ES(n=cn()){return/iemobile/i.test(n)}function TS(n=cn()){return/android/i.test(n)}function SS(n=cn()){return/blackberry/i.test(n)}function wS(n=cn()){return/webos/i.test(n)}function Ag(n=cn()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function jD(n=cn()){var e;return Ag(n)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function zD(){return MI()&&document.documentMode===10}function AS(n=cn()){return Ag(n)||TS(n)||wS(n)||SS(n)||/windows phone/i.test(n)||ES(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RS(n,e=[]){let t;switch(n){case"Browser":t=vb(cn());break;case"Worker":t=`${vb(cn())}-${n}`;break;default:t=n}const r=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${ko}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FD{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const r=l=>new Promise((c,m)=>{try{const d=e(l);c(d)}catch(d){m(d)}});r.onAbort=t,this.queue.push(r);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const r of this.queue)await r(e),r.onAbort&&t.push(r.onAbort)}catch(r){t.reverse();for(const s of t)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function BD(n,e={}){return Lo(n,"GET","/v2/passwordPolicy",Sg(n,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HD=6;class qD{constructor(e){var t,r,s,l;const c=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=c.minPasswordLength)!==null&&t!==void 0?t:HD,c.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=c.maxPasswordLength),c.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=c.containsLowercaseCharacter),c.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=c.containsUppercaseCharacter),c.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=c.containsNumericCharacter),c.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=c.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(s=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&s!==void 0?s:"",this.forceUpgradeOnSignin=(l=e.forceUpgradeOnSignin)!==null&&l!==void 0?l:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,r,s,l,c,m;const d={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,d),this.validatePasswordCharacterOptions(e,d),d.isValid&&(d.isValid=(t=d.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),d.isValid&&(d.isValid=(r=d.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),d.isValid&&(d.isValid=(s=d.containsLowercaseLetter)!==null&&s!==void 0?s:!0),d.isValid&&(d.isValid=(l=d.containsUppercaseLetter)!==null&&l!==void 0?l:!0),d.isValid&&(d.isValid=(c=d.containsNumericCharacter)!==null&&c!==void 0?c:!0),d.isValid&&(d.isValid=(m=d.containsNonAlphanumericCharacter)!==null&&m!==void 0?m:!0),d}validatePasswordLengthOptions(e,t){const r=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;r&&(t.meetsMinPasswordLength=e.length>=r),s&&(t.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let r;for(let s=0;s<e.length;s++)r=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(t,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,t,r,s,l){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $D{constructor(e,t,r,s){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=r,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new yb(this),this.idTokenSubscription=new yb(this),this.beforeStateQueue=new FD(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=fS,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion,this._persistenceManagerAvailable=new Promise(l=>this._resolvePersistenceManagerAvailable=l)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=yr(t)),this._initializationPromise=this.queue(async()=>{var r,s,l;if(!this._deleted&&(this.persistenceManager=await So.create(this,e),(r=this._resolvePersistenceManagerAvailable)===null||r===void 0||r.call(this),!this._deleted)){if(!((s=this._popupRedirectResolver)===null||s===void 0)&&s._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((l=this.currentUser)===null||l===void 0?void 0:l.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await Kh(this,{idToken:e}),r=await ri._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(r)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(ii(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(m=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(m,m))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let s=r,l=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,m=s==null?void 0:s._redirectEventId,d=await this.tryRedirectSignIn(e);(!c||c===m)&&(d!=null&&d.user)&&(s=d.user,l=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(l)try{await this.beforeStateQueue.runMiddleware(s)}catch(c){s=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return Ce(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await Yh(e)}catch(t){if((t==null?void 0:t.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=AD()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(ii(this.app))return Promise.reject(os(this));const t=e?En(e):null;return t&&Ce(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&Ce(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return ii(this.app)?Promise.reject(os(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return ii(this.app)?Promise.reject(os(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(yr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await BD(this),t=new qD(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new vs("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(r.tenantId=this.tenantId),await UD(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,t){const r=await this.getOrInitRedirectPersistenceManager(t);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&yr(e)||this._popupRedirectResolver;Ce(t,this,"argument-error"),this.redirectPersistenceManager=await So.create(this,[yr(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,r;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,s){if(this._deleted)return()=>{};const l=typeof t=="function"?t:t.next.bind(t);let c=!1;const m=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ce(m,this,"internal-error"),m.then(()=>{c||l(this.currentUser)}),typeof t=="function"){const d=e.addObserver(t,r,s);return()=>{c=!0,d()}}else{const d=e.addObserver(t);return()=>{c=!0,d()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ce(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=RS(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(t["X-Firebase-Client"]=r);const s=await this._getAppCheckToken();return s&&(t["X-Firebase-AppCheck"]=s),t}async _getAppCheckToken(){var e;if(ii(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return t!=null&&t.error&&ED(`Error while retrieving App Check token: ${t.error}`),t==null?void 0:t.token}}function Af(n){return En(n)}class yb{constructor(e){this.auth=e,this.observer=null,this.addObserver=jI(t=>this.observer=t)}get next(){return Ce(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Rg={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function GD(n){Rg=n}function KD(n){return Rg.loadJS(n)}function YD(){return Rg.gapiScript}function QD(n){return`__${n}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XD(n,e){const t=ys(n,"auth");if(t.isInitialized()){const s=t.getImmediate(),l=t.getOptions();if(da(l,e??{}))return s;ji(s,"already-initialized")}return t.initialize({options:e})}function WD(n,e){const t=(e==null?void 0:e.persistence)||[],r=(Array.isArray(t)?t:[t]).map(yr);e!=null&&e.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function ZD(n,e,t){const r=Af(n);Ce(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const s=!1,l=IS(e),{host:c,port:m}=JD(e),d=m===null?"":`:${m}`,p={url:`${l}//${c}${d}/`},y=Object.freeze({host:c,port:m,protocol:l.replace(":",""),options:Object.freeze({disableWarnings:s})});if(!r._canInitEmulator){Ce(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),Ce(da(p,r.config.emulator)&&da(y,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=p,r.emulatorConfig=y,r.settings.appVerificationDisabledForTesting=!0,Po(c)?(MT(`${l}//${c}${d}`),NT("Auth",!0)):ex()}function IS(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function JD(n){const e=IS(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const r=t[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(r);if(s){const l=s[1];return{host:l,port:_b(r.substr(l.length+1))}}else{const[l,c]=r.split(":");return{host:l,port:_b(c)}}}function _b(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}function ex(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CS{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return vr("not implemented")}_getIdTokenResponse(e){return vr("not implemented")}_linkToIdToken(e,t){return vr("not implemented")}_getReauthenticationResolver(e){return vr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wo(n,e){return OD(n,"POST","/v1/accounts:signInWithIdp",Sg(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tx="http://localhost";class hs extends CS{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new hs(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):ji("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:s}=t,l=_g(t,["providerId","signInMethod"]);if(!r||!s)return null;const c=new hs(r,s);return c.idToken=l.idToken||void 0,c.accessToken=l.accessToken||void 0,c.secret=l.secret,c.nonce=l.nonce,c.pendingToken=l.pendingToken||null,c}_getIdTokenResponse(e){const t=this.buildRequest();return wo(e,t)}_linkToIdToken(e,t){const r=this.buildRequest();return r.idToken=t,wo(e,r)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,wo(e,t)}buildRequest(){const e={requestUri:tx,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Nu(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ig{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pu extends Ig{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aa extends Pu{constructor(){super("facebook.com")}static credential(e){return hs._fromParams({providerId:aa.PROVIDER_ID,signInMethod:aa.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return aa.credentialFromTaggedObject(e)}static credentialFromError(e){return aa.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return aa.credential(e.oauthAccessToken)}catch{return null}}}aa.FACEBOOK_SIGN_IN_METHOD="facebook.com";aa.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gr extends Pu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return hs._fromParams({providerId:gr.PROVIDER_ID,signInMethod:gr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return gr.credentialFromTaggedObject(e)}static credentialFromError(e){return gr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:r}=e;if(!t&&!r)return null;try{return gr.credential(t,r)}catch{return null}}}gr.GOOGLE_SIGN_IN_METHOD="google.com";gr.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sa extends Pu{constructor(){super("github.com")}static credential(e){return hs._fromParams({providerId:sa.PROVIDER_ID,signInMethod:sa.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return sa.credentialFromTaggedObject(e)}static credentialFromError(e){return sa.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return sa.credential(e.oauthAccessToken)}catch{return null}}}sa.GITHUB_SIGN_IN_METHOD="github.com";sa.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oa extends Pu{constructor(){super("twitter.com")}static credential(e,t){return hs._fromParams({providerId:oa.PROVIDER_ID,signInMethod:oa.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return oa.credentialFromTaggedObject(e)}static credentialFromError(e){return oa.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:r}=e;if(!t||!r)return null;try{return oa.credential(t,r)}catch{return null}}}oa.TWITTER_SIGN_IN_METHOD="twitter.com";oa.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Io{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,r,s=!1){const l=await ri._fromIdTokenResponse(e,r,s),c=bb(r);return new Io({user:l,providerId:c,_tokenResponse:r,operationType:t})}static async _forOperation(e,t,r){await e._updateTokensIfNecessary(r,!0);const s=bb(r);return new Io({user:e,providerId:s,_tokenResponse:r,operationType:t})}}function bb(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qh extends ui{constructor(e,t,r,s){var l;super(t.code,t.message),this.operationType=r,this.user=s,Object.setPrototypeOf(this,Qh.prototype),this.customData={appName:e.name,tenantId:(l=e.tenantId)!==null&&l!==void 0?l:void 0,_serverResponse:t.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,t,r,s){return new Qh(e,t,r,s)}}function OS(n,e,t,r){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(l=>{throw l.code==="auth/multi-factor-auth-required"?Qh._fromErrorAndOperation(n,l,e,r):l})}async function nx(n,e,t=!1){const r=await vu(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return Io._forOperation(n,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ix(n,e,t=!1){const{auth:r}=n;if(ii(r.app))return Promise.reject(os(r));const s="reauthenticate";try{const l=await vu(n,OS(r,s,e,n),t);Ce(l.idToken,r,"internal-error");const c=wg(l.idToken);Ce(c,r,"internal-error");const{sub:m}=c;return Ce(n.uid===m,r,"user-mismatch"),Io._forOperation(n,s,l)}catch(l){throw(l==null?void 0:l.code)==="auth/user-not-found"&&ji(r,"user-mismatch"),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rx(n,e,t=!1){if(ii(n.app))return Promise.reject(os(n));const r="signIn",s=await OS(n,r,e),l=await Io._fromIdTokenResponse(n,r,s);return t||await n._updateCurrentUser(l.user),l}function ax(n,e,t,r){return En(n).onIdTokenChanged(e,t,r)}function sx(n,e,t){return En(n).beforeAuthStateChanged(e,t)}function ox(n,e,t,r){return En(n).onAuthStateChanged(e,t,r)}function lx(n){return En(n).signOut()}const Xh="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DS{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Xh,"1"),this.storage.removeItem(Xh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ux=1e3,cx=10;class xS extends DS{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=AS(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const r=this.storage.getItem(t),s=this.localCache[t];r!==s&&e(t,s,r)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((c,m,d)=>{this.notifyListeners(c,d)});return}const r=e.key;t?this.detachListener():this.stopPolling();const s=()=>{const c=this.storage.getItem(r);!t&&this.localCache[r]===c||this.notifyListeners(r,c)},l=this.storage.getItem(r);zD()&&l!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,cx):s()}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:r}),!0)})},ux)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}xS.type="LOCAL";const hx=xS;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MS extends DS{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}MS.type="SESSION";const NS=MS;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fx(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rf{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(s=>s.isListeningto(e));if(t)return t;const r=new Rf(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:r,eventType:s,data:l}=t.data,c=this.handlersMap[s];if(!(c!=null&&c.size))return;t.ports[0].postMessage({status:"ack",eventId:r,eventType:s});const m=Array.from(c).map(async p=>p(t.origin,l)),d=await fx(m);t.ports[0].postMessage({status:"done",eventId:r,eventType:s,response:d})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Rf.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cg(n="",e=10){let t="";for(let r=0;r<e;r++)t+=Math.floor(Math.random()*10);return n+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dx{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,r=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let l,c;return new Promise((m,d)=>{const p=Cg("",20);s.port1.start();const y=setTimeout(()=>{d(new Error("unsupported_event"))},r);c={messageChannel:s,onMessage(E){const T=E;if(T.data.eventId===p)switch(T.data.status){case"ack":clearTimeout(y),l=setTimeout(()=>{d(new Error("timeout"))},3e3);break;case"done":clearTimeout(l),m(T.data.response);break;default:clearTimeout(y),clearTimeout(l),d(new Error("invalid_response"));break}}},this.handlers.add(c),s.port1.addEventListener("message",c.onMessage),this.target.postMessage({eventType:e,eventId:p,data:t},[s.port2])}).finally(()=>{c&&this.removeMessageHandler(c)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mi(){return window}function mx(n){Mi().location.href=n}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VS(){return typeof Mi().WorkerGlobalScope<"u"&&typeof Mi().importScripts=="function"}async function px(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function gx(){var n;return((n=navigator==null?void 0:navigator.serviceWorker)===null||n===void 0?void 0:n.controller)||null}function vx(){return VS()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PS="firebaseLocalStorageDb",yx=1,Wh="firebaseLocalStorage",kS="fbase_key";class ku{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function If(n,e){return n.transaction([Wh],e?"readwrite":"readonly").objectStore(Wh)}function _x(){const n=indexedDB.deleteDatabase(PS);return new ku(n).toPromise()}function Np(){const n=indexedDB.open(PS,yx);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const r=n.result;try{r.createObjectStore(Wh,{keyPath:kS})}catch(s){t(s)}}),n.addEventListener("success",async()=>{const r=n.result;r.objectStoreNames.contains(Wh)?e(r):(r.close(),await _x(),e(await Np()))})})}async function Eb(n,e,t){const r=If(n,!0).put({[kS]:e,value:t});return new ku(r).toPromise()}async function bx(n,e){const t=If(n,!1).get(e),r=await new ku(t).toPromise();return r===void 0?null:r.value}function Tb(n,e){const t=If(n,!0).delete(e);return new ku(t).toPromise()}const Ex=800,Tx=3;class LS{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Np(),this.db)}async _withRetries(e){let t=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(t++>Tx)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return VS()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Rf._getInstance(vx()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await px(),!this.activeServiceWorker)return;this.sender=new dx(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((t=r[0])===null||t===void 0)&&t.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||gx()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Np();return await Eb(e,Xh,"1"),await Tb(e,Xh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(r=>Eb(r,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(r=>bx(r,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>Tb(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const l=If(s,!1).getAll();return new ku(l).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],r=new Set;if(e.length!==0)for(const{fbase_key:s,value:l}of e)r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(l)&&(this.notifyListeners(s,l),t.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!r.has(s)&&(this.notifyListeners(s,null),t.push(s));return t}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),Ex)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}LS.type="LOCAL";const Sx=LS;new Vu(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function US(n,e){return e?yr(e):(Ce(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Og extends CS{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return wo(e,this._buildIdpRequest())}_linkToIdToken(e,t){return wo(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return wo(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function wx(n){return rx(n.auth,new Og(n),n.bypassAuthState)}function Ax(n){const{auth:e,user:t}=n;return Ce(t,e,"internal-error"),ix(t,new Og(n),n.bypassAuthState)}async function Rx(n){const{auth:e,user:t}=n;return Ce(t,e,"internal-error"),nx(t,new Og(n),n.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jS{constructor(e,t,r,s,l=!1){this.auth=e,this.resolver=r,this.user=s,this.bypassAuthState=l,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:r,postBody:s,tenantId:l,error:c,type:m}=e;if(c){this.reject(c);return}const d={auth:this.auth,requestUri:t,sessionId:r,tenantId:l||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(m)(d))}catch(p){this.reject(p)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return wx;case"linkViaPopup":case"linkViaRedirect":return Rx;case"reauthViaPopup":case"reauthViaRedirect":return Ax;default:ji(this.auth,"internal-error")}}resolve(e){Ar(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Ar(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ix=new Vu(2e3,1e4);async function Cx(n,e,t){if(ii(n.app))return Promise.reject(si(n,"operation-not-supported-in-this-environment"));const r=Af(n);TD(n,e,Ig);const s=US(r,t);return new as(r,"signInViaPopup",e,s).executeNotNull()}class as extends jS{constructor(e,t,r,s,l){super(e,t,s,l),this.provider=r,this.authWindow=null,this.pollId=null,as.currentPopupAction&&as.currentPopupAction.cancel(),as.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ce(e,this.auth,"internal-error"),e}async onExecution(){Ar(this.filter.length===1,"Popup operations only handle one event");const e=Cg();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(si(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(si(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,as.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,r;if(!((r=(t=this.authWindow)===null||t===void 0?void 0:t.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(si(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,Ix.get())};e()}}as.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ox="pendingRedirect",Oh=new Map;class Dx extends jS{constructor(e,t,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,r),this.eventId=null}async execute(){let e=Oh.get(this.auth._key());if(!e){try{const r=await xx(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(t){e=()=>Promise.reject(t)}Oh.set(this.auth._key(),e)}return this.bypassAuthState||Oh.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function xx(n,e){const t=Vx(e),r=Nx(n);if(!await r._isAvailable())return!1;const s=await r._get(t)==="true";return await r._remove(t),s}function Mx(n,e){Oh.set(n._key(),e)}function Nx(n){return yr(n._redirectPersistence)}function Vx(n){return Ch(Ox,n.config.apiKey,n.name)}async function Px(n,e,t=!1){if(ii(n.app))return Promise.reject(os(n));const r=Af(n),s=US(r,e),c=await new Dx(r,s,t).execute();return c&&!t&&(delete c.user._redirectEventId,await r._persistUserIfCurrent(c.user),await r._setRedirectUser(null,e)),c}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kx=10*60*1e3;class Lx{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(t=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!Ux(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var r;if(e.error&&!zS(e)){const s=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";t.onError(si(this.auth,s))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const r=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=kx&&this.cachedEventUids.clear(),this.cachedEventUids.has(Sb(e))}saveEventToCache(e){this.cachedEventUids.add(Sb(e)),this.lastProcessedEventTime=Date.now()}}function Sb(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function zS({type:n,error:e}){return n==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function Ux(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return zS(n);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jx(n,e={}){return Lo(n,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zx=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Fx=/^https?/;async function Bx(n){if(n.config.emulator)return;const{authorizedDomains:e}=await jx(n);for(const t of e)try{if(Hx(t))return}catch{}ji(n,"unauthorized-domain")}function Hx(n){const e=xp(),{protocol:t,hostname:r}=new URL(e);if(n.startsWith("chrome-extension://")){const c=new URL(n);return c.hostname===""&&r===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&c.hostname===r}if(!Fx.test(t))return!1;if(zx.test(n))return r===n;const s=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qx=new Vu(3e4,6e4);function wb(){const n=Mi().___jsl;if(n!=null&&n.H){for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function $x(n){return new Promise((e,t)=>{var r,s,l;function c(){wb(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{wb(),t(si(n,"network-request-failed"))},timeout:qx.get()})}if(!((s=(r=Mi().gapi)===null||r===void 0?void 0:r.iframes)===null||s===void 0)&&s.Iframe)e(gapi.iframes.getContext());else if(!((l=Mi().gapi)===null||l===void 0)&&l.load)c();else{const m=QD("iframefcb");return Mi()[m]=()=>{gapi.load?c():t(si(n,"network-request-failed"))},KD(`${YD()}?onload=${m}`).catch(d=>t(d))}}).catch(e=>{throw Dh=null,e})}let Dh=null;function Gx(n){return Dh=Dh||$x(n),Dh}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kx=new Vu(5e3,15e3),Yx="__/auth/iframe",Qx="emulator/auth/iframe",Xx={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Wx=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Zx(n){const e=n.config;Ce(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?Tg(e,Qx):`https://${n.config.authDomain}/${Yx}`,r={apiKey:e.apiKey,appName:n.name,v:ko},s=Wx.get(n.config.apiHost);s&&(r.eid=s);const l=n._getFrameworks();return l.length&&(r.fw=l.join(",")),`${t}?${Nu(r).slice(1)}`}async function Jx(n){const e=await Gx(n),t=Mi().gapi;return Ce(t,n,"internal-error"),e.open({where:document.body,url:Zx(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Xx,dontclear:!0},r=>new Promise(async(s,l)=>{await r.restyle({setHideOnLeave:!1});const c=si(n,"network-request-failed"),m=Mi().setTimeout(()=>{l(c)},Kx.get());function d(){Mi().clearTimeout(m),s(r)}r.ping(d).then(d,()=>{l(c)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eM={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},tM=500,nM=600,iM="_blank",rM="http://localhost";class Ab{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function aM(n,e,t,r=tM,s=nM){const l=Math.max((window.screen.availHeight-s)/2,0).toString(),c=Math.max((window.screen.availWidth-r)/2,0).toString();let m="";const d=Object.assign(Object.assign({},eM),{width:r.toString(),height:s.toString(),top:l,left:c}),p=cn().toLowerCase();t&&(m=bS(p)?iM:t),yS(p)&&(e=e||rM,d.scrollbars="yes");const y=Object.entries(d).reduce((T,[R,C])=>`${T}${R}=${C},`,"");if(jD(p)&&m!=="_self")return sM(e||"",m),new Ab(null);const E=window.open(e||"",m,y);Ce(E,n,"popup-blocked");try{E.focus()}catch{}return new Ab(E)}function sM(n,e){const t=document.createElement("a");t.href=n,t.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oM="__/auth/handler",lM="emulator/auth/handler",uM=encodeURIComponent("fac");async function Rb(n,e,t,r,s,l){Ce(n.config.authDomain,n,"auth-domain-config-required"),Ce(n.config.apiKey,n,"invalid-api-key");const c={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:r,v:ko,eventId:s};if(e instanceof Ig){e.setDefaultLanguage(n.languageCode),c.providerId=e.providerId||"",UI(e.getCustomParameters())||(c.customParameters=JSON.stringify(e.getCustomParameters()));for(const[y,E]of Object.entries({}))c[y]=E}if(e instanceof Pu){const y=e.getScopes().filter(E=>E!=="");y.length>0&&(c.scopes=y.join(","))}n.tenantId&&(c.tid=n.tenantId);const m=c;for(const y of Object.keys(m))m[y]===void 0&&delete m[y];const d=await n._getAppCheckToken(),p=d?`#${uM}=${encodeURIComponent(d)}`:"";return`${cM(n)}?${Nu(m).slice(1)}${p}`}function cM({config:n}){return n.emulator?Tg(n,lM):`https://${n.authDomain}/${oM}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const up="webStorageSupport";class hM{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=NS,this._completeRedirectFn=Px,this._overrideRedirectResult=Mx}async _openPopup(e,t,r,s){var l;Ar((l=this.eventManagers[e._key()])===null||l===void 0?void 0:l.manager,"_initialize() not called before _openPopup()");const c=await Rb(e,t,r,xp(),s);return aM(e,c,Cg())}async _openRedirect(e,t,r,s){await this._originValidation(e);const l=await Rb(e,t,r,xp(),s);return mx(l),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:s,promise:l}=this.eventManagers[t];return s?Promise.resolve(s):(Ar(l,"If manager is not set, promise should be"),l)}const r=this.initAndGetManager(e);return this.eventManagers[t]={promise:r},r.catch(()=>{delete this.eventManagers[t]}),r}async initAndGetManager(e){const t=await Jx(e),r=new Lx(e);return t.register("authEvent",s=>(Ce(s==null?void 0:s.authEvent,e,"invalid-auth-event"),{status:r.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=t,r}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(up,{type:up},s=>{var l;const c=(l=s==null?void 0:s[0])===null||l===void 0?void 0:l[up];c!==void 0&&t(!!c),ji(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=Bx(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return AS()||_S()||Ag()}}const fM=hM;var Ib="@firebase/auth",Cb="1.10.8";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dM{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Ce(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mM(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function pM(n){Ui(new li("auth",(e,{options:t})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),l=e.getProvider("app-check-internal"),{apiKey:c,authDomain:m}=r.options;Ce(c&&!c.includes(":"),"invalid-api-key",{appName:r.name});const d={apiKey:c,authDomain:m,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:RS(n)},p=new $D(r,s,l,d);return WD(p,t),p},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),Ui(new li("auth-internal",e=>{const t=Af(e.getProvider("auth").getImmediate());return(r=>new dM(r))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),Xn(Ib,Cb,mM(n)),Xn(Ib,Cb,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gM=5*60,vM=xT("authIdTokenMaxAge")||gM;let Ob=null;const yM=n=>async e=>{const t=e&&await e.getIdTokenResult(),r=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(r&&r>vM)return;const s=t==null?void 0:t.token;Ob!==s&&(Ob=s,await fetch(n,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function _M(n=dg()){const e=ys(n,"auth");if(e.isInitialized())return e.getImmediate();const t=XD(n,{popupRedirectResolver:fM,persistence:[Sx,hx,NS]}),r=xT("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const l=new URL(r,location.origin);if(location.origin===l.origin){const c=yM(l.toString());sx(t,c,()=>c(t.currentUser)),ax(t,m=>c(m))}}const s=OT("auth");return s&&ZD(t,`http://${s}`),t}function bM(){var n,e;return(e=(n=document.getElementsByTagName("head"))===null||n===void 0?void 0:n[0])!==null&&e!==void 0?e:document}GD({loadJS(n){return new Promise((e,t)=>{const r=document.createElement("script");r.setAttribute("src",n),r.onload=e,r.onerror=s=>{const l=si("internal-error");l.customData=s,t(l)},r.type="text/javascript",r.charset="UTF-8",bM().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});pM("Browser");var Db=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var ha,FS;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(O,A){function D(){}D.prototype=A.prototype,O.D=A.prototype,O.prototype=new D,O.prototype.constructor=O,O.C=function(V,z,B){for(var k=Array(arguments.length-2),Ye=2;Ye<arguments.length;Ye++)k[Ye-2]=arguments[Ye];return A.prototype[z].apply(V,k)}}function t(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,t),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(O,A,D){D||(D=0);var V=Array(16);if(typeof A=="string")for(var z=0;16>z;++z)V[z]=A.charCodeAt(D++)|A.charCodeAt(D++)<<8|A.charCodeAt(D++)<<16|A.charCodeAt(D++)<<24;else for(z=0;16>z;++z)V[z]=A[D++]|A[D++]<<8|A[D++]<<16|A[D++]<<24;A=O.g[0],D=O.g[1],z=O.g[2];var B=O.g[3],k=A+(B^D&(z^B))+V[0]+3614090360&4294967295;A=D+(k<<7&4294967295|k>>>25),k=B+(z^A&(D^z))+V[1]+3905402710&4294967295,B=A+(k<<12&4294967295|k>>>20),k=z+(D^B&(A^D))+V[2]+606105819&4294967295,z=B+(k<<17&4294967295|k>>>15),k=D+(A^z&(B^A))+V[3]+3250441966&4294967295,D=z+(k<<22&4294967295|k>>>10),k=A+(B^D&(z^B))+V[4]+4118548399&4294967295,A=D+(k<<7&4294967295|k>>>25),k=B+(z^A&(D^z))+V[5]+1200080426&4294967295,B=A+(k<<12&4294967295|k>>>20),k=z+(D^B&(A^D))+V[6]+2821735955&4294967295,z=B+(k<<17&4294967295|k>>>15),k=D+(A^z&(B^A))+V[7]+4249261313&4294967295,D=z+(k<<22&4294967295|k>>>10),k=A+(B^D&(z^B))+V[8]+1770035416&4294967295,A=D+(k<<7&4294967295|k>>>25),k=B+(z^A&(D^z))+V[9]+2336552879&4294967295,B=A+(k<<12&4294967295|k>>>20),k=z+(D^B&(A^D))+V[10]+4294925233&4294967295,z=B+(k<<17&4294967295|k>>>15),k=D+(A^z&(B^A))+V[11]+2304563134&4294967295,D=z+(k<<22&4294967295|k>>>10),k=A+(B^D&(z^B))+V[12]+1804603682&4294967295,A=D+(k<<7&4294967295|k>>>25),k=B+(z^A&(D^z))+V[13]+4254626195&4294967295,B=A+(k<<12&4294967295|k>>>20),k=z+(D^B&(A^D))+V[14]+2792965006&4294967295,z=B+(k<<17&4294967295|k>>>15),k=D+(A^z&(B^A))+V[15]+1236535329&4294967295,D=z+(k<<22&4294967295|k>>>10),k=A+(z^B&(D^z))+V[1]+4129170786&4294967295,A=D+(k<<5&4294967295|k>>>27),k=B+(D^z&(A^D))+V[6]+3225465664&4294967295,B=A+(k<<9&4294967295|k>>>23),k=z+(A^D&(B^A))+V[11]+643717713&4294967295,z=B+(k<<14&4294967295|k>>>18),k=D+(B^A&(z^B))+V[0]+3921069994&4294967295,D=z+(k<<20&4294967295|k>>>12),k=A+(z^B&(D^z))+V[5]+3593408605&4294967295,A=D+(k<<5&4294967295|k>>>27),k=B+(D^z&(A^D))+V[10]+38016083&4294967295,B=A+(k<<9&4294967295|k>>>23),k=z+(A^D&(B^A))+V[15]+3634488961&4294967295,z=B+(k<<14&4294967295|k>>>18),k=D+(B^A&(z^B))+V[4]+3889429448&4294967295,D=z+(k<<20&4294967295|k>>>12),k=A+(z^B&(D^z))+V[9]+568446438&4294967295,A=D+(k<<5&4294967295|k>>>27),k=B+(D^z&(A^D))+V[14]+3275163606&4294967295,B=A+(k<<9&4294967295|k>>>23),k=z+(A^D&(B^A))+V[3]+4107603335&4294967295,z=B+(k<<14&4294967295|k>>>18),k=D+(B^A&(z^B))+V[8]+1163531501&4294967295,D=z+(k<<20&4294967295|k>>>12),k=A+(z^B&(D^z))+V[13]+2850285829&4294967295,A=D+(k<<5&4294967295|k>>>27),k=B+(D^z&(A^D))+V[2]+4243563512&4294967295,B=A+(k<<9&4294967295|k>>>23),k=z+(A^D&(B^A))+V[7]+1735328473&4294967295,z=B+(k<<14&4294967295|k>>>18),k=D+(B^A&(z^B))+V[12]+2368359562&4294967295,D=z+(k<<20&4294967295|k>>>12),k=A+(D^z^B)+V[5]+4294588738&4294967295,A=D+(k<<4&4294967295|k>>>28),k=B+(A^D^z)+V[8]+2272392833&4294967295,B=A+(k<<11&4294967295|k>>>21),k=z+(B^A^D)+V[11]+1839030562&4294967295,z=B+(k<<16&4294967295|k>>>16),k=D+(z^B^A)+V[14]+4259657740&4294967295,D=z+(k<<23&4294967295|k>>>9),k=A+(D^z^B)+V[1]+2763975236&4294967295,A=D+(k<<4&4294967295|k>>>28),k=B+(A^D^z)+V[4]+1272893353&4294967295,B=A+(k<<11&4294967295|k>>>21),k=z+(B^A^D)+V[7]+4139469664&4294967295,z=B+(k<<16&4294967295|k>>>16),k=D+(z^B^A)+V[10]+3200236656&4294967295,D=z+(k<<23&4294967295|k>>>9),k=A+(D^z^B)+V[13]+681279174&4294967295,A=D+(k<<4&4294967295|k>>>28),k=B+(A^D^z)+V[0]+3936430074&4294967295,B=A+(k<<11&4294967295|k>>>21),k=z+(B^A^D)+V[3]+3572445317&4294967295,z=B+(k<<16&4294967295|k>>>16),k=D+(z^B^A)+V[6]+76029189&4294967295,D=z+(k<<23&4294967295|k>>>9),k=A+(D^z^B)+V[9]+3654602809&4294967295,A=D+(k<<4&4294967295|k>>>28),k=B+(A^D^z)+V[12]+3873151461&4294967295,B=A+(k<<11&4294967295|k>>>21),k=z+(B^A^D)+V[15]+530742520&4294967295,z=B+(k<<16&4294967295|k>>>16),k=D+(z^B^A)+V[2]+3299628645&4294967295,D=z+(k<<23&4294967295|k>>>9),k=A+(z^(D|~B))+V[0]+4096336452&4294967295,A=D+(k<<6&4294967295|k>>>26),k=B+(D^(A|~z))+V[7]+1126891415&4294967295,B=A+(k<<10&4294967295|k>>>22),k=z+(A^(B|~D))+V[14]+2878612391&4294967295,z=B+(k<<15&4294967295|k>>>17),k=D+(B^(z|~A))+V[5]+4237533241&4294967295,D=z+(k<<21&4294967295|k>>>11),k=A+(z^(D|~B))+V[12]+1700485571&4294967295,A=D+(k<<6&4294967295|k>>>26),k=B+(D^(A|~z))+V[3]+2399980690&4294967295,B=A+(k<<10&4294967295|k>>>22),k=z+(A^(B|~D))+V[10]+4293915773&4294967295,z=B+(k<<15&4294967295|k>>>17),k=D+(B^(z|~A))+V[1]+2240044497&4294967295,D=z+(k<<21&4294967295|k>>>11),k=A+(z^(D|~B))+V[8]+1873313359&4294967295,A=D+(k<<6&4294967295|k>>>26),k=B+(D^(A|~z))+V[15]+4264355552&4294967295,B=A+(k<<10&4294967295|k>>>22),k=z+(A^(B|~D))+V[6]+2734768916&4294967295,z=B+(k<<15&4294967295|k>>>17),k=D+(B^(z|~A))+V[13]+1309151649&4294967295,D=z+(k<<21&4294967295|k>>>11),k=A+(z^(D|~B))+V[4]+4149444226&4294967295,A=D+(k<<6&4294967295|k>>>26),k=B+(D^(A|~z))+V[11]+3174756917&4294967295,B=A+(k<<10&4294967295|k>>>22),k=z+(A^(B|~D))+V[2]+718787259&4294967295,z=B+(k<<15&4294967295|k>>>17),k=D+(B^(z|~A))+V[9]+3951481745&4294967295,O.g[0]=O.g[0]+A&4294967295,O.g[1]=O.g[1]+(z+(k<<21&4294967295|k>>>11))&4294967295,O.g[2]=O.g[2]+z&4294967295,O.g[3]=O.g[3]+B&4294967295}r.prototype.u=function(O,A){A===void 0&&(A=O.length);for(var D=A-this.blockSize,V=this.B,z=this.h,B=0;B<A;){if(z==0)for(;B<=D;)s(this,O,B),B+=this.blockSize;if(typeof O=="string"){for(;B<A;)if(V[z++]=O.charCodeAt(B++),z==this.blockSize){s(this,V),z=0;break}}else for(;B<A;)if(V[z++]=O[B++],z==this.blockSize){s(this,V),z=0;break}}this.h=z,this.o+=A},r.prototype.v=function(){var O=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);O[0]=128;for(var A=1;A<O.length-8;++A)O[A]=0;var D=8*this.o;for(A=O.length-8;A<O.length;++A)O[A]=D&255,D/=256;for(this.u(O),O=Array(16),A=D=0;4>A;++A)for(var V=0;32>V;V+=8)O[D++]=this.g[A]>>>V&255;return O};function l(O,A){var D=m;return Object.prototype.hasOwnProperty.call(D,O)?D[O]:D[O]=A(O)}function c(O,A){this.h=A;for(var D=[],V=!0,z=O.length-1;0<=z;z--){var B=O[z]|0;V&&B==A||(D[z]=B,V=!1)}this.g=D}var m={};function d(O){return-128<=O&&128>O?l(O,function(A){return new c([A|0],0>A?-1:0)}):new c([O|0],0>O?-1:0)}function p(O){if(isNaN(O)||!isFinite(O))return E;if(0>O)return I(p(-O));for(var A=[],D=1,V=0;O>=D;V++)A[V]=O/D|0,D*=4294967296;return new c(A,0)}function y(O,A){if(O.length==0)throw Error("number format error: empty string");if(A=A||10,2>A||36<A)throw Error("radix out of range: "+A);if(O.charAt(0)=="-")return I(y(O.substring(1),A));if(0<=O.indexOf("-"))throw Error('number format error: interior "-" character');for(var D=p(Math.pow(A,8)),V=E,z=0;z<O.length;z+=8){var B=Math.min(8,O.length-z),k=parseInt(O.substring(z,z+B),A);8>B?(B=p(Math.pow(A,B)),V=V.j(B).add(p(k))):(V=V.j(D),V=V.add(p(k)))}return V}var E=d(0),T=d(1),R=d(16777216);n=c.prototype,n.m=function(){if(N(this))return-I(this).m();for(var O=0,A=1,D=0;D<this.g.length;D++){var V=this.i(D);O+=(0<=V?V:4294967296+V)*A,A*=4294967296}return O},n.toString=function(O){if(O=O||10,2>O||36<O)throw Error("radix out of range: "+O);if(C(this))return"0";if(N(this))return"-"+I(this).toString(O);for(var A=p(Math.pow(O,6)),D=this,V="";;){var z=ee(D,A).g;D=M(D,z.j(A));var B=((0<D.g.length?D.g[0]:D.h)>>>0).toString(O);if(D=z,C(D))return B+V;for(;6>B.length;)B="0"+B;V=B+V}},n.i=function(O){return 0>O?0:O<this.g.length?this.g[O]:this.h};function C(O){if(O.h!=0)return!1;for(var A=0;A<O.g.length;A++)if(O.g[A]!=0)return!1;return!0}function N(O){return O.h==-1}n.l=function(O){return O=M(this,O),N(O)?-1:C(O)?0:1};function I(O){for(var A=O.g.length,D=[],V=0;V<A;V++)D[V]=~O.g[V];return new c(D,~O.h).add(T)}n.abs=function(){return N(this)?I(this):this},n.add=function(O){for(var A=Math.max(this.g.length,O.g.length),D=[],V=0,z=0;z<=A;z++){var B=V+(this.i(z)&65535)+(O.i(z)&65535),k=(B>>>16)+(this.i(z)>>>16)+(O.i(z)>>>16);V=k>>>16,B&=65535,k&=65535,D[z]=k<<16|B}return new c(D,D[D.length-1]&-2147483648?-1:0)};function M(O,A){return O.add(I(A))}n.j=function(O){if(C(this)||C(O))return E;if(N(this))return N(O)?I(this).j(I(O)):I(I(this).j(O));if(N(O))return I(this.j(I(O)));if(0>this.l(R)&&0>O.l(R))return p(this.m()*O.m());for(var A=this.g.length+O.g.length,D=[],V=0;V<2*A;V++)D[V]=0;for(V=0;V<this.g.length;V++)for(var z=0;z<O.g.length;z++){var B=this.i(V)>>>16,k=this.i(V)&65535,Ye=O.i(z)>>>16,Oe=O.i(z)&65535;D[2*V+2*z]+=k*Oe,j(D,2*V+2*z),D[2*V+2*z+1]+=B*Oe,j(D,2*V+2*z+1),D[2*V+2*z+1]+=k*Ye,j(D,2*V+2*z+1),D[2*V+2*z+2]+=B*Ye,j(D,2*V+2*z+2)}for(V=0;V<A;V++)D[V]=D[2*V+1]<<16|D[2*V];for(V=A;V<2*A;V++)D[V]=0;return new c(D,0)};function j(O,A){for(;(O[A]&65535)!=O[A];)O[A+1]+=O[A]>>>16,O[A]&=65535,A++}function $(O,A){this.g=O,this.h=A}function ee(O,A){if(C(A))throw Error("division by zero");if(C(O))return new $(E,E);if(N(O))return A=ee(I(O),A),new $(I(A.g),I(A.h));if(N(A))return A=ee(O,I(A)),new $(I(A.g),A.h);if(30<O.g.length){if(N(O)||N(A))throw Error("slowDivide_ only works with positive integers.");for(var D=T,V=A;0>=V.l(O);)D=q(D),V=q(V);var z=oe(D,1),B=oe(V,1);for(V=oe(V,2),D=oe(D,2);!C(V);){var k=B.add(V);0>=k.l(O)&&(z=z.add(D),B=k),V=oe(V,1),D=oe(D,1)}return A=M(O,z.j(A)),new $(z,A)}for(z=E;0<=O.l(A);){for(D=Math.max(1,Math.floor(O.m()/A.m())),V=Math.ceil(Math.log(D)/Math.LN2),V=48>=V?1:Math.pow(2,V-48),B=p(D),k=B.j(A);N(k)||0<k.l(O);)D-=V,B=p(D),k=B.j(A);C(B)&&(B=T),z=z.add(B),O=M(O,k)}return new $(z,O)}n.A=function(O){return ee(this,O).h},n.and=function(O){for(var A=Math.max(this.g.length,O.g.length),D=[],V=0;V<A;V++)D[V]=this.i(V)&O.i(V);return new c(D,this.h&O.h)},n.or=function(O){for(var A=Math.max(this.g.length,O.g.length),D=[],V=0;V<A;V++)D[V]=this.i(V)|O.i(V);return new c(D,this.h|O.h)},n.xor=function(O){for(var A=Math.max(this.g.length,O.g.length),D=[],V=0;V<A;V++)D[V]=this.i(V)^O.i(V);return new c(D,this.h^O.h)};function q(O){for(var A=O.g.length+1,D=[],V=0;V<A;V++)D[V]=O.i(V)<<1|O.i(V-1)>>>31;return new c(D,O.h)}function oe(O,A){var D=A>>5;A%=32;for(var V=O.g.length-D,z=[],B=0;B<V;B++)z[B]=0<A?O.i(B+D)>>>A|O.i(B+D+1)<<32-A:O.i(B+D);return new c(z,O.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,FS=r,c.prototype.add=c.prototype.add,c.prototype.multiply=c.prototype.j,c.prototype.modulo=c.prototype.A,c.prototype.compare=c.prototype.l,c.prototype.toNumber=c.prototype.m,c.prototype.toString=c.prototype.toString,c.prototype.getBits=c.prototype.i,c.fromNumber=p,c.fromString=y,ha=c}).apply(typeof Db<"u"?Db:typeof self<"u"?self:typeof window<"u"?window:{});var ph=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var BS,nu,HS,xh,Vp,qS,$S,GS;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(h,v,_){return h==Array.prototype||h==Object.prototype||(h[v]=_.value),h};function t(h){h=[typeof globalThis=="object"&&globalThis,h,typeof window=="object"&&window,typeof self=="object"&&self,typeof ph=="object"&&ph];for(var v=0;v<h.length;++v){var _=h[v];if(_&&_.Math==Math)return _}throw Error("Cannot find global object")}var r=t(this);function s(h,v){if(v)e:{var _=r;h=h.split(".");for(var w=0;w<h.length-1;w++){var G=h[w];if(!(G in _))break e;_=_[G]}h=h[h.length-1],w=_[h],v=v(w),v!=w&&v!=null&&e(_,h,{configurable:!0,writable:!0,value:v})}}function l(h,v){h instanceof String&&(h+="");var _=0,w=!1,G={next:function(){if(!w&&_<h.length){var Z=_++;return{value:v(Z,h[Z]),done:!1}}return w=!0,{done:!0,value:void 0}}};return G[Symbol.iterator]=function(){return G},G}s("Array.prototype.values",function(h){return h||function(){return l(this,function(v,_){return _})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var c=c||{},m=this||self;function d(h){var v=typeof h;return v=v!="object"?v:h?Array.isArray(h)?"array":v:"null",v=="array"||v=="object"&&typeof h.length=="number"}function p(h){var v=typeof h;return v=="object"&&h!=null||v=="function"}function y(h,v,_){return h.call.apply(h.bind,arguments)}function E(h,v,_){if(!h)throw Error();if(2<arguments.length){var w=Array.prototype.slice.call(arguments,2);return function(){var G=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(G,w),h.apply(v,G)}}return function(){return h.apply(v,arguments)}}function T(h,v,_){return T=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?y:E,T.apply(null,arguments)}function R(h,v){var _=Array.prototype.slice.call(arguments,1);return function(){var w=_.slice();return w.push.apply(w,arguments),h.apply(this,w)}}function C(h,v){function _(){}_.prototype=v.prototype,h.aa=v.prototype,h.prototype=new _,h.prototype.constructor=h,h.Qb=function(w,G,Z){for(var ce=Array(arguments.length-2),Fe=2;Fe<arguments.length;Fe++)ce[Fe-2]=arguments[Fe];return v.prototype[G].apply(w,ce)}}function N(h){const v=h.length;if(0<v){const _=Array(v);for(let w=0;w<v;w++)_[w]=h[w];return _}return[]}function I(h,v){for(let _=1;_<arguments.length;_++){const w=arguments[_];if(d(w)){const G=h.length||0,Z=w.length||0;h.length=G+Z;for(let ce=0;ce<Z;ce++)h[G+ce]=w[ce]}else h.push(w)}}class M{constructor(v,_){this.i=v,this.j=_,this.h=0,this.g=null}get(){let v;return 0<this.h?(this.h--,v=this.g,this.g=v.next,v.next=null):v=this.i(),v}}function j(h){return/^[\s\xa0]*$/.test(h)}function $(){var h=m.navigator;return h&&(h=h.userAgent)?h:""}function ee(h){return ee[" "](h),h}ee[" "]=function(){};var q=$().indexOf("Gecko")!=-1&&!($().toLowerCase().indexOf("webkit")!=-1&&$().indexOf("Edge")==-1)&&!($().indexOf("Trident")!=-1||$().indexOf("MSIE")!=-1)&&$().indexOf("Edge")==-1;function oe(h,v,_){for(const w in h)v.call(_,h[w],w,h)}function O(h,v){for(const _ in h)v.call(void 0,h[_],_,h)}function A(h){const v={};for(const _ in h)v[_]=h[_];return v}const D="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function V(h,v){let _,w;for(let G=1;G<arguments.length;G++){w=arguments[G];for(_ in w)h[_]=w[_];for(let Z=0;Z<D.length;Z++)_=D[Z],Object.prototype.hasOwnProperty.call(w,_)&&(h[_]=w[_])}}function z(h){var v=1;h=h.split(":");const _=[];for(;0<v&&h.length;)_.push(h.shift()),v--;return h.length&&_.push(h.join(":")),_}function B(h){m.setTimeout(()=>{throw h},0)}function k(){var h=ye;let v=null;return h.g&&(v=h.g,h.g=h.g.next,h.g||(h.h=null),v.next=null),v}class Ye{constructor(){this.h=this.g=null}add(v,_){const w=Oe.get();w.set(v,_),this.h?this.h.next=w:this.g=w,this.h=w}}var Oe=new M(()=>new W,h=>h.reset());class W{constructor(){this.next=this.g=this.h=null}set(v,_){this.h=v,this.g=_,this.next=null}reset(){this.next=this.g=this.h=null}}let J,he=!1,ye=new Ye,P=()=>{const h=m.Promise.resolve(void 0);J=()=>{h.then(ie)}};var ie=()=>{for(var h;h=k();){try{h.h.call(h.g)}catch(_){B(_)}var v=Oe;v.j(h),100>v.h&&(v.h++,h.next=v.g,v.g=h)}he=!1};function le(){this.s=this.s,this.C=this.C}le.prototype.s=!1,le.prototype.ma=function(){this.s||(this.s=!0,this.N())},le.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function re(h,v){this.type=h,this.g=this.target=v,this.defaultPrevented=!1}re.prototype.h=function(){this.defaultPrevented=!0};var de=function(){if(!m.addEventListener||!Object.defineProperty)return!1;var h=!1,v=Object.defineProperty({},"passive",{get:function(){h=!0}});try{const _=()=>{};m.addEventListener("test",_,v),m.removeEventListener("test",_,v)}catch{}return h}();function Ie(h,v){if(re.call(this,h?h.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,h){var _=this.type=h.type,w=h.changedTouches&&h.changedTouches.length?h.changedTouches[0]:null;if(this.target=h.target||h.srcElement,this.g=v,v=h.relatedTarget){if(q){e:{try{ee(v.nodeName);var G=!0;break e}catch{}G=!1}G||(v=null)}}else _=="mouseover"?v=h.fromElement:_=="mouseout"&&(v=h.toElement);this.relatedTarget=v,w?(this.clientX=w.clientX!==void 0?w.clientX:w.pageX,this.clientY=w.clientY!==void 0?w.clientY:w.pageY,this.screenX=w.screenX||0,this.screenY=w.screenY||0):(this.clientX=h.clientX!==void 0?h.clientX:h.pageX,this.clientY=h.clientY!==void 0?h.clientY:h.pageY,this.screenX=h.screenX||0,this.screenY=h.screenY||0),this.button=h.button,this.key=h.key||"",this.ctrlKey=h.ctrlKey,this.altKey=h.altKey,this.shiftKey=h.shiftKey,this.metaKey=h.metaKey,this.pointerId=h.pointerId||0,this.pointerType=typeof h.pointerType=="string"?h.pointerType:pe[h.pointerType]||"",this.state=h.state,this.i=h,h.defaultPrevented&&Ie.aa.h.call(this)}}C(Ie,re);var pe={2:"touch",3:"pen",4:"mouse"};Ie.prototype.h=function(){Ie.aa.h.call(this);var h=this.i;h.preventDefault?h.preventDefault():h.returnValue=!1};var lt="closure_listenable_"+(1e6*Math.random()|0),Ue=0;function hn(h,v,_,w,G){this.listener=h,this.proxy=null,this.src=v,this.type=_,this.capture=!!w,this.ha=G,this.key=++Ue,this.da=this.fa=!1}function ci(h){h.da=!0,h.listener=null,h.proxy=null,h.src=null,h.ha=null}function Vn(h){this.src=h,this.g={},this.h=0}Vn.prototype.add=function(h,v,_,w,G){var Z=h.toString();h=this.g[Z],h||(h=this.g[Z]=[],this.h++);var ce=qi(h,v,w,G);return-1<ce?(v=h[ce],_||(v.fa=!1)):(v=new hn(v,this.src,Z,!!w,G),v.fa=_,h.push(v)),v};function hi(h,v){var _=v.type;if(_ in h.g){var w=h.g[_],G=Array.prototype.indexOf.call(w,v,void 0),Z;(Z=0<=G)&&Array.prototype.splice.call(w,G,1),Z&&(ci(v),h.g[_].length==0&&(delete h.g[_],h.h--))}}function qi(h,v,_,w){for(var G=0;G<h.length;++G){var Z=h[G];if(!Z.da&&Z.listener==v&&Z.capture==!!_&&Z.ha==w)return G}return-1}var fi="closure_lm_"+(1e6*Math.random()|0),Ea={};function Hu(h,v,_,w,G){if(Array.isArray(v)){for(var Z=0;Z<v.length;Z++)Hu(h,v[Z],_,w,G);return null}return _=qu(_),h&&h[lt]?h.K(v,_,p(w)?!!w.capture:!1,G):Pn(h,v,_,!1,w,G)}function Pn(h,v,_,w,G,Z){if(!v)throw Error("Invalid event type");var ce=p(G)?!!G.capture:!!G,Fe=ws(h);if(Fe||(h[fi]=Fe=new Vn(h)),_=Fe.add(v,_,w,ce,Z),_.proxy)return _;if(w=Gf(),_.proxy=w,w.src=h,w.listener=_,h.addEventListener)de||(G=ce),G===void 0&&(G=!1),h.addEventListener(v.toString(),w,G);else if(h.attachEvent)h.attachEvent(Ta(v.toString()),w);else if(h.addListener&&h.removeListener)h.addListener(w);else throw Error("addEventListener and attachEvent are unavailable.");return _}function Gf(){function h(_){return v.call(h.src,h.listener,_)}const v=Kf;return h}function Ho(h,v,_,w,G){if(Array.isArray(v))for(var Z=0;Z<v.length;Z++)Ho(h,v[Z],_,w,G);else w=p(w)?!!w.capture:!!w,_=qu(_),h&&h[lt]?(h=h.i,v=String(v).toString(),v in h.g&&(Z=h.g[v],_=qi(Z,_,w,G),-1<_&&(ci(Z[_]),Array.prototype.splice.call(Z,_,1),Z.length==0&&(delete h.g[v],h.h--)))):h&&(h=ws(h))&&(v=h.g[v.toString()],h=-1,v&&(h=qi(v,_,w,G)),(_=-1<h?v[h]:null)&&Ss(_))}function Ss(h){if(typeof h!="number"&&h&&!h.da){var v=h.src;if(v&&v[lt])hi(v.i,h);else{var _=h.type,w=h.proxy;v.removeEventListener?v.removeEventListener(_,w,h.capture):v.detachEvent?v.detachEvent(Ta(_),w):v.addListener&&v.removeListener&&v.removeListener(w),(_=ws(v))?(hi(_,h),_.h==0&&(_.src=null,v[fi]=null)):ci(h)}}}function Ta(h){return h in Ea?Ea[h]:Ea[h]="on"+h}function Kf(h,v){if(h.da)h=!0;else{v=new Ie(v,this);var _=h.listener,w=h.ha||h.src;h.fa&&Ss(h),h=_.call(w,v)}return h}function ws(h){return h=h[fi],h instanceof Vn?h:null}var qo="__closure_events_fn_"+(1e9*Math.random()>>>0);function qu(h){return typeof h=="function"?h:(h[qo]||(h[qo]=function(v){return h.handleEvent(v)}),h[qo])}function yt(){le.call(this),this.i=new Vn(this),this.M=this,this.F=null}C(yt,le),yt.prototype[lt]=!0,yt.prototype.removeEventListener=function(h,v,_,w){Ho(this,h,v,_,w)};function tt(h,v){var _,w=h.F;if(w)for(_=[];w;w=w.F)_.push(w);if(h=h.M,w=v.type||v,typeof v=="string")v=new re(v,h);else if(v instanceof re)v.target=v.target||h;else{var G=v;v=new re(w,h),V(v,G)}if(G=!0,_)for(var Z=_.length-1;0<=Z;Z--){var ce=v.g=_[Z];G=Sn(ce,w,!0,v)&&G}if(ce=v.g=h,G=Sn(ce,w,!0,v)&&G,G=Sn(ce,w,!1,v)&&G,_)for(Z=0;Z<_.length;Z++)ce=v.g=_[Z],G=Sn(ce,w,!1,v)&&G}yt.prototype.N=function(){if(yt.aa.N.call(this),this.i){var h=this.i,v;for(v in h.g){for(var _=h.g[v],w=0;w<_.length;w++)ci(_[w]);delete h.g[v],h.h--}}this.F=null},yt.prototype.K=function(h,v,_,w){return this.i.add(String(h),v,!1,_,w)},yt.prototype.L=function(h,v,_,w){return this.i.add(String(h),v,!0,_,w)};function Sn(h,v,_,w){if(v=h.i.g[String(v)],!v)return!0;v=v.concat();for(var G=!0,Z=0;Z<v.length;++Z){var ce=v[Z];if(ce&&!ce.da&&ce.capture==_){var Fe=ce.listener,Vt=ce.ha||ce.src;ce.fa&&hi(h.i,ce),G=Fe.call(Vt,w)!==!1&&G}}return G&&!w.defaultPrevented}function nn(h,v,_){if(typeof h=="function")_&&(h=T(h,_));else if(h&&typeof h.handleEvent=="function")h=T(h.handleEvent,h);else throw Error("Invalid listener argument");return 2147483647<Number(v)?-1:m.setTimeout(h,v||0)}function $u(h){h.g=nn(()=>{h.g=null,h.i&&(h.i=!1,$u(h))},h.l);const v=h.h;h.h=null,h.m.apply(null,v)}class Yf extends le{constructor(v,_){super(),this.m=v,this.l=_,this.h=null,this.i=!1,this.g=null}j(v){this.h=arguments,this.g?this.i=!0:$u(this)}N(){super.N(),this.g&&(m.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Sa(h){le.call(this),this.h=h,this.g={}}C(Sa,le);var wa=[];function Aa(h){oe(h.g,function(v,_){this.g.hasOwnProperty(_)&&Ss(v)},h),h.g={}}Sa.prototype.N=function(){Sa.aa.N.call(this),Aa(this)},Sa.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Wn=m.JSON.stringify,As=m.JSON.parse,Ra=class{stringify(h){return m.JSON.stringify(h,void 0)}parse(h){return m.JSON.parse(h,void 0)}};function $o(){}$o.prototype.h=null;function Go(h){return h.h||(h.h=h.i())}function Ko(){}var $i={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Gi(){re.call(this,"d")}C(Gi,re);function Yo(){re.call(this,"c")}C(Yo,re);var di={},Qo=null;function Dr(){return Qo=Qo||new yt}di.La="serverreachability";function Rs(h){re.call(this,di.La,h)}C(Rs,re);function xr(h){const v=Dr();tt(v,new Rs(v))}di.STAT_EVENT="statevent";function Gu(h,v){re.call(this,di.STAT_EVENT,h),this.stat=v}C(Gu,re);function ft(h){const v=Dr();tt(v,new Gu(v,h))}di.Ma="timingevent";function Nt(h,v){re.call(this,di.Ma,h),this.size=v}C(Nt,re);function Rt(h,v){if(typeof h!="function")throw Error("Fn must not be null and must be a function");return m.setTimeout(function(){h()},v)}function kn(){this.g=!0}kn.prototype.xa=function(){this.g=!1};function Xo(h,v,_,w,G,Z){h.info(function(){if(h.g)if(Z)for(var ce="",Fe=Z.split("&"),Vt=0;Vt<Fe.length;Vt++){var Be=Fe[Vt].split("=");if(1<Be.length){var Ft=Be[0];Be=Be[1];var Pt=Ft.split("_");ce=2<=Pt.length&&Pt[1]=="type"?ce+(Ft+"="+Be+"&"):ce+(Ft+"=redacted&")}}else ce=null;else ce=Z;return"XMLHTTP REQ ("+w+") [attempt "+G+"]: "+v+`
`+_+`
`+ce})}function Qf(h,v,_,w,G,Z,ce){h.info(function(){return"XMLHTTP RESP ("+w+") [ attempt "+G+"]: "+v+`
`+_+`
`+Z+" "+ce})}function Mr(h,v,_,w){h.info(function(){return"XMLHTTP TEXT ("+v+"): "+Ia(h,_)+(w?" "+w:"")})}function Ku(h,v){h.info(function(){return"TIMEOUT: "+v})}kn.prototype.info=function(){};function Ia(h,v){if(!h.g)return v;if(!v)return null;try{var _=JSON.parse(v);if(_){for(h=0;h<_.length;h++)if(Array.isArray(_[h])){var w=_[h];if(!(2>w.length)){var G=w[1];if(Array.isArray(G)&&!(1>G.length)){var Z=G[0];if(Z!="noop"&&Z!="stop"&&Z!="close")for(var ce=1;ce<G.length;ce++)G[ce]=""}}}}return Wn(_)}catch{return v}}var Nr={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Ki={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},mi;function pi(){}C(pi,$o),pi.prototype.g=function(){return new XMLHttpRequest},pi.prototype.i=function(){return{}},mi=new pi;function fn(h,v,_,w){this.j=h,this.i=v,this.l=_,this.R=w||1,this.U=new Sa(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Tt}function Tt(){this.i=null,this.g="",this.h=!1}var Wo={},Is={};function Zn(h,v,_){h.L=1,h.v=Ma(wn(v)),h.m=_,h.P=!0,Yi(h,null)}function Yi(h,v){h.F=Date.now(),Ca(h),h.A=wn(h.v);var _=h.A,w=h.R;Array.isArray(w)||(w=[String(w)]),il(_.i,"t",w),h.C=0,_=h.j.J,h.h=new Tt,h.g=uc(h.j,_?v:null,!h.m),0<h.O&&(h.M=new Yf(T(h.Y,h,h.g),h.O)),v=h.U,_=h.g,w=h.ca;var G="readystatechange";Array.isArray(G)||(G&&(wa[0]=G.toString()),G=wa);for(var Z=0;Z<G.length;Z++){var ce=Hu(_,G[Z],w||v.handleEvent,!1,v.h||v);if(!ce)break;v.g[ce.key]=ce}v=h.H?A(h.H):{},h.m?(h.u||(h.u="POST"),v["Content-Type"]="application/x-www-form-urlencoded",h.g.ea(h.A,h.u,h.m,v)):(h.u="GET",h.g.ea(h.A,h.u,null,v)),xr(),Xo(h.i,h.u,h.A,h.l,h.R,h.m)}fn.prototype.ca=function(h){h=h.target;const v=this.M;v&&zn(h)==3?v.j():this.Y(h)},fn.prototype.Y=function(h){try{if(h==this.g)e:{const Pt=zn(this.g);var v=this.g.Ba();const nr=this.g.Z();if(!(3>Pt)&&(Pt!=3||this.g&&(this.h.h||this.g.oa()||tc(this.g)))){this.J||Pt!=4||v==7||(v==8||0>=nr?xr(3):xr(2)),Vr(this);var _=this.g.Z();this.X=_;t:if(Yu(this)){var w=tc(this.g);h="";var G=w.length,Z=zn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Kt(this),gi(this);var ce="";break t}this.h.i=new m.TextDecoder}for(v=0;v<G;v++)this.h.h=!0,h+=this.h.i.decode(w[v],{stream:!(Z&&v==G-1)});w.length=0,this.h.g+=h,this.C=0,ce=this.h.g}else ce=this.g.oa();if(this.o=_==200,Qf(this.i,this.u,this.A,this.l,this.R,Pt,_),this.o){if(this.T&&!this.K){t:{if(this.g){var Fe,Vt=this.g;if((Fe=Vt.g?Vt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!j(Fe)){var Be=Fe;break t}}Be=null}if(_=Be)Mr(this.i,this.l,_,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Oa(this,_);else{this.o=!1,this.s=3,ft(12),Kt(this),gi(this);break e}}if(this.P){_=!0;let Yt;for(;!this.J&&this.C<ce.length;)if(Yt=Qu(this,ce),Yt==Is){Pt==4&&(this.s=4,ft(14),_=!1),Mr(this.i,this.l,null,"[Incomplete Response]");break}else if(Yt==Wo){this.s=4,ft(15),Mr(this.i,this.l,ce,"[Invalid Chunk]"),_=!1;break}else Mr(this.i,this.l,Yt,null),Oa(this,Yt);if(Yu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Pt!=4||ce.length!=0||this.h.h||(this.s=1,ft(16),_=!1),this.o=this.o&&_,!_)Mr(this.i,this.l,ce,"[Invalid Chunked Response]"),Kt(this),gi(this);else if(0<ce.length&&!this.W){this.W=!0;var Ft=this.j;Ft.g==this&&Ft.ba&&!Ft.M&&(Ft.j.info("Great, no buffering proxy detected. Bytes received: "+ce.length),za(Ft),Ft.M=!0,ft(11))}}else Mr(this.i,this.l,ce,null),Oa(this,ce);Pt==4&&Kt(this),this.o&&!this.J&&(Pt==4?sc(this.j,this):(this.o=!1,Ca(this)))}else ed(this.g),_==400&&0<ce.indexOf("Unknown SID")?(this.s=3,ft(12)):(this.s=0,ft(13)),Kt(this),gi(this)}}}catch{}finally{}};function Yu(h){return h.g?h.u=="GET"&&h.L!=2&&h.j.Ca:!1}function Qu(h,v){var _=h.C,w=v.indexOf(`
`,_);return w==-1?Is:(_=Number(v.substring(_,w)),isNaN(_)?Wo:(w+=1,w+_>v.length?Is:(v=v.slice(w,w+_),h.C=w+_,v)))}fn.prototype.cancel=function(){this.J=!0,Kt(this)};function Ca(h){h.S=Date.now()+h.I,Xu(h,h.I)}function Xu(h,v){if(h.B!=null)throw Error("WatchDog timer not null");h.B=Rt(T(h.ba,h),v)}function Vr(h){h.B&&(m.clearTimeout(h.B),h.B=null)}fn.prototype.ba=function(){this.B=null;const h=Date.now();0<=h-this.S?(Ku(this.i,this.A),this.L!=2&&(xr(),ft(17)),Kt(this),this.s=2,gi(this)):Xu(this,this.S-h)};function gi(h){h.j.G==0||h.J||sc(h.j,h)}function Kt(h){Vr(h);var v=h.M;v&&typeof v.ma=="function"&&v.ma(),h.M=null,Aa(h.U),h.g&&(v=h.g,h.g=null,v.abort(),v.ma())}function Oa(h,v){try{var _=h.j;if(_.G!=0&&(_.g==h||Zo(_.h,h))){if(!h.K&&Zo(_.h,h)&&_.G==3){try{var w=_.Da.g.parse(v)}catch{w=null}if(Array.isArray(w)&&w.length==3){var G=w;if(G[0]==0){e:if(!_.u){if(_.g)if(_.g.F+3e3<h.F)js(_),Ls(_);else break e;ll(_),ft(18)}}else _.za=G[1],0<_.za-_.T&&37500>G[2]&&_.F&&_.v==0&&!_.C&&(_.C=Rt(T(_.Za,_),6e3));if(1>=Os(_.h)&&_.ca){try{_.ca()}catch{}_.ca=void 0}}else tr(_,11)}else if((h.K||_.g==h)&&js(_),!j(v))for(G=_.Da.g.parse(v),v=0;v<G.length;v++){let Be=G[v];if(_.T=Be[0],Be=Be[1],_.G==2)if(Be[0]=="c"){_.K=Be[1],_.ia=Be[2];const Ft=Be[3];Ft!=null&&(_.la=Ft,_.j.info("VER="+_.la));const Pt=Be[4];Pt!=null&&(_.Aa=Pt,_.j.info("SVER="+_.Aa));const nr=Be[5];nr!=null&&typeof nr=="number"&&0<nr&&(w=1.5*nr,_.L=w,_.j.info("backChannelRequestTimeoutMs_="+w)),w=_;const Yt=h.g;if(Yt){const Si=Yt.g?Yt.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Si){var Z=w.h;Z.g||Si.indexOf("spdy")==-1&&Si.indexOf("quic")==-1&&Si.indexOf("h2")==-1||(Z.j=Z.l,Z.g=new Set,Z.h&&(Ds(Z,Z.h),Z.h=null))}if(w.D){const cl=Yt.g?Yt.g.getResponseHeader("X-HTTP-Session-Id"):null;cl&&(w.ya=cl,rt(w.I,w.D,cl))}}_.G=3,_.l&&_.l.ua(),_.ba&&(_.R=Date.now()-h.F,_.j.info("Handshake RTT: "+_.R+"ms")),w=_;var ce=h;if(w.qa=lc(w,w.J?w.ia:null,w.W),ce.K){dn(w.h,ce);var Fe=ce,Vt=w.L;Vt&&(Fe.I=Vt),Fe.B&&(Vr(Fe),Ca(Fe)),w.g=ce}else rc(w);0<_.i.length&&Us(_)}else Be[0]!="stop"&&Be[0]!="close"||tr(_,7);else _.G==3&&(Be[0]=="stop"||Be[0]=="close"?Be[0]=="stop"?tr(_,7):sl(_):Be[0]!="noop"&&_.l&&_.l.ta(Be),_.v=0)}}xr(4)}catch{}}var Wu=class{constructor(h,v){this.g=h,this.map=v}};function Qi(h){this.l=h||10,m.PerformanceNavigationTiming?(h=m.performance.getEntriesByType("navigation"),h=0<h.length&&(h[0].nextHopProtocol=="hq"||h[0].nextHopProtocol=="h2")):h=!!(m.chrome&&m.chrome.loadTimes&&m.chrome.loadTimes()&&m.chrome.loadTimes().wasFetchedViaSpdy),this.j=h?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Cs(h){return h.h?!0:h.g?h.g.size>=h.j:!1}function Os(h){return h.h?1:h.g?h.g.size:0}function Zo(h,v){return h.h?h.h==v:h.g?h.g.has(v):!1}function Ds(h,v){h.g?h.g.add(v):h.h=v}function dn(h,v){h.h&&h.h==v?h.h=null:h.g&&h.g.has(v)&&h.g.delete(v)}Qi.prototype.cancel=function(){if(this.i=Jo(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const h of this.g.values())h.cancel();this.g.clear()}};function Jo(h){if(h.h!=null)return h.i.concat(h.h.D);if(h.g!=null&&h.g.size!==0){let v=h.i;for(const _ of h.g.values())v=v.concat(_.D);return v}return N(h.i)}function Xf(h){if(h.V&&typeof h.V=="function")return h.V();if(typeof Map<"u"&&h instanceof Map||typeof Set<"u"&&h instanceof Set)return Array.from(h.values());if(typeof h=="string")return h.split("");if(d(h)){for(var v=[],_=h.length,w=0;w<_;w++)v.push(h[w]);return v}v=[],_=0;for(w in h)v[_++]=h[w];return v}function xs(h){if(h.na&&typeof h.na=="function")return h.na();if(!h.V||typeof h.V!="function"){if(typeof Map<"u"&&h instanceof Map)return Array.from(h.keys());if(!(typeof Set<"u"&&h instanceof Set)){if(d(h)||typeof h=="string"){var v=[];h=h.length;for(var _=0;_<h;_++)v.push(_);return v}v=[],_=0;for(const w in h)v[_++]=w;return v}}}function el(h,v){if(h.forEach&&typeof h.forEach=="function")h.forEach(v,void 0);else if(d(h)||typeof h=="string")Array.prototype.forEach.call(h,v,void 0);else for(var _=xs(h),w=Xf(h),G=w.length,Z=0;Z<G;Z++)v.call(void 0,w[Z],_&&_[Z],h)}var Da=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Wf(h,v){if(h){h=h.split("&");for(var _=0;_<h.length;_++){var w=h[_].indexOf("="),G=null;if(0<=w){var Z=h[_].substring(0,w);G=h[_].substring(w+1)}else Z=h[_];v(Z,G?decodeURIComponent(G.replace(/\+/g," ")):"")}}}function It(h){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,h instanceof It){this.h=h.h,xa(this,h.j),this.o=h.o,this.g=h.g,Pr(this,h.s),this.l=h.l;var v=h.i,_=new Wi;_.i=v.i,v.g&&(_.g=new Map(v.g),_.h=v.h),Xi(this,_),this.m=h.m}else h&&(v=String(h).match(Da))?(this.h=!1,xa(this,v[1]||"",!0),this.o=Ln(v[2]||""),this.g=Ln(v[3]||"",!0),Pr(this,v[4]),this.l=Ln(v[5]||"",!0),Xi(this,v[6]||"",!0),this.m=Ln(v[7]||"")):(this.h=!1,this.i=new Wi(null,this.h))}It.prototype.toString=function(){var h=[],v=this.j;v&&h.push(Na(v,tl,!0),":");var _=this.g;return(_||v=="file")&&(h.push("//"),(v=this.o)&&h.push(Na(v,tl,!0),"@"),h.push(encodeURIComponent(String(_)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_=this.s,_!=null&&h.push(":",String(_))),(_=this.l)&&(this.g&&_.charAt(0)!="/"&&h.push("/"),h.push(Na(_,_.charAt(0)=="/"?Zf:nl,!0))),(_=this.i.toString())&&h.push("?",_),(_=this.m)&&h.push("#",Na(_,Ms)),h.join("")};function wn(h){return new It(h)}function xa(h,v,_){h.j=_?Ln(v,!0):v,h.j&&(h.j=h.j.replace(/:$/,""))}function Pr(h,v){if(v){if(v=Number(v),isNaN(v)||0>v)throw Error("Bad port number "+v);h.s=v}else h.s=null}function Xi(h,v,_){v instanceof Wi?(h.i=v,Ju(h.i,h.h)):(_||(v=Na(v,Jf)),h.i=new Wi(v,h.h))}function rt(h,v,_){h.i.set(v,_)}function Ma(h){return rt(h,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),h}function Ln(h,v){return h?v?decodeURI(h.replace(/%25/g,"%2525")):decodeURIComponent(h):""}function Na(h,v,_){return typeof h=="string"?(h=encodeURI(h).replace(v,Zu),_&&(h=h.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),h):null}function Zu(h){return h=h.charCodeAt(0),"%"+(h>>4&15).toString(16)+(h&15).toString(16)}var tl=/[#\/\?@]/g,nl=/[#\?:]/g,Zf=/[#\?]/g,Jf=/[#\?@]/g,Ms=/#/g;function Wi(h,v){this.h=this.g=null,this.i=h||null,this.j=!!v}function Un(h){h.g||(h.g=new Map,h.h=0,h.i&&Wf(h.i,function(v,_){h.add(decodeURIComponent(v.replace(/\+/g," ")),_)}))}n=Wi.prototype,n.add=function(h,v){Un(this),this.i=null,h=vi(this,h);var _=this.g.get(h);return _||this.g.set(h,_=[]),_.push(v),this.h+=1,this};function Zi(h,v){Un(h),v=vi(h,v),h.g.has(v)&&(h.i=null,h.h-=h.g.get(v).length,h.g.delete(v))}function Ji(h,v){return Un(h),v=vi(h,v),h.g.has(v)}n.forEach=function(h,v){Un(this),this.g.forEach(function(_,w){_.forEach(function(G){h.call(v,G,w,this)},this)},this)},n.na=function(){Un(this);const h=Array.from(this.g.values()),v=Array.from(this.g.keys()),_=[];for(let w=0;w<v.length;w++){const G=h[w];for(let Z=0;Z<G.length;Z++)_.push(v[w])}return _},n.V=function(h){Un(this);let v=[];if(typeof h=="string")Ji(this,h)&&(v=v.concat(this.g.get(vi(this,h))));else{h=Array.from(this.g.values());for(let _=0;_<h.length;_++)v=v.concat(h[_])}return v},n.set=function(h,v){return Un(this),this.i=null,h=vi(this,h),Ji(this,h)&&(this.h-=this.g.get(h).length),this.g.set(h,[v]),this.h+=1,this},n.get=function(h,v){return h?(h=this.V(h),0<h.length?String(h[0]):v):v};function il(h,v,_){Zi(h,v),0<_.length&&(h.i=null,h.g.set(vi(h,v),N(_)),h.h+=_.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const h=[],v=Array.from(this.g.keys());for(var _=0;_<v.length;_++){var w=v[_];const Z=encodeURIComponent(String(w)),ce=this.V(w);for(w=0;w<ce.length;w++){var G=Z;ce[w]!==""&&(G+="="+encodeURIComponent(String(ce[w]))),h.push(G)}}return this.i=h.join("&")};function vi(h,v){return v=String(v),h.j&&(v=v.toLowerCase()),v}function Ju(h,v){v&&!h.j&&(Un(h),h.i=null,h.g.forEach(function(_,w){var G=w.toLowerCase();w!=G&&(Zi(this,w),il(this,G,_))},h)),h.j=v}function Va(h,v){const _=new kn;if(m.Image){const w=new Image;w.onload=R(jn,_,"TestLoadImage: loaded",!0,v,w),w.onerror=R(jn,_,"TestLoadImage: error",!1,v,w),w.onabort=R(jn,_,"TestLoadImage: abort",!1,v,w),w.ontimeout=R(jn,_,"TestLoadImage: timeout",!1,v,w),m.setTimeout(function(){w.ontimeout&&w.ontimeout()},1e4),w.src=h}else v(!1)}function Jn(h,v){const _=new kn,w=new AbortController,G=setTimeout(()=>{w.abort(),jn(_,"TestPingServer: timeout",!1,v)},1e4);fetch(h,{signal:w.signal}).then(Z=>{clearTimeout(G),Z.ok?jn(_,"TestPingServer: ok",!0,v):jn(_,"TestPingServer: server error",!1,v)}).catch(()=>{clearTimeout(G),jn(_,"TestPingServer: error",!1,v)})}function jn(h,v,_,w,G){try{G&&(G.onload=null,G.onerror=null,G.onabort=null,G.ontimeout=null),w(_)}catch{}}function Pa(){this.g=new Ra}function yi(h,v,_){const w=_||"";try{el(h,function(G,Z){let ce=G;p(G)&&(ce=Wn(G)),v.push(w+Z+"="+encodeURIComponent(ce))})}catch(G){throw v.push(w+"type="+encodeURIComponent("_badmap")),G}}function kr(h){this.l=h.Ub||null,this.j=h.eb||!1}C(kr,$o),kr.prototype.g=function(){return new er(this.l,this.j)},kr.prototype.i=function(h){return function(){return h}}({});function er(h,v){yt.call(this),this.D=h,this.o=v,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}C(er,yt),n=er.prototype,n.open=function(h,v){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=h,this.A=v,this.readyState=1,bi(this)},n.send=function(h){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const v={headers:this.u,method:this.B,credentials:this.m,cache:void 0};h&&(v.body=h),(this.D||m).fetch(new Request(this.A,v)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,_i(this)),this.readyState=0},n.Sa=function(h){if(this.g&&(this.l=h,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=h.headers,this.readyState=2,bi(this)),this.g&&(this.readyState=3,bi(this),this.g)))if(this.responseType==="arraybuffer")h.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof m.ReadableStream<"u"&&"body"in h){if(this.j=h.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;rl(this)}else h.text().then(this.Ra.bind(this),this.ga.bind(this))};function rl(h){h.j.read().then(h.Pa.bind(h)).catch(h.ga.bind(h))}n.Pa=function(h){if(this.g){if(this.o&&h.value)this.response.push(h.value);else if(!this.o){var v=h.value?h.value:new Uint8Array(0);(v=this.v.decode(v,{stream:!h.done}))&&(this.response=this.responseText+=v)}h.done?_i(this):bi(this),this.readyState==3&&rl(this)}},n.Ra=function(h){this.g&&(this.response=this.responseText=h,_i(this))},n.Qa=function(h){this.g&&(this.response=h,_i(this))},n.ga=function(){this.g&&_i(this)};function _i(h){h.readyState=4,h.l=null,h.j=null,h.v=null,bi(h)}n.setRequestHeader=function(h,v){this.u.append(h,v)},n.getResponseHeader=function(h){return this.h&&this.h.get(h.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const h=[],v=this.h.entries();for(var _=v.next();!_.done;)_=_.value,h.push(_[0]+": "+_[1]),_=v.next();return h.join(`\r
`)};function bi(h){h.onreadystatechange&&h.onreadystatechange.call(h)}Object.defineProperty(er.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(h){this.m=h?"include":"same-origin"}});function al(h){let v="";return oe(h,function(_,w){v+=w,v+=":",v+=_,v+=`\r
`}),v}function zt(h,v,_){e:{for(w in _){var w=!1;break e}w=!0}w||(_=al(_),typeof h=="string"?_!=null&&encodeURIComponent(String(_)):rt(h,v,_))}function Ze(h){yt.call(this),this.headers=new Map,this.o=h||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}C(Ze,yt);var Ns=/^https?$/i,ka=["POST","PUT"];n=Ze.prototype,n.Ha=function(h){this.J=h},n.ea=function(h,v,_,w){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+h);v=v?v.toUpperCase():"GET",this.D=h,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():mi.g(),this.v=this.o?Go(this.o):Go(mi),this.g.onreadystatechange=T(this.Ea,this);try{this.B=!0,this.g.open(v,String(h),!0),this.B=!1}catch(Z){ec(this,Z);return}if(h=_||"",_=new Map(this.headers),w)if(Object.getPrototypeOf(w)===Object.prototype)for(var G in w)_.set(G,w[G]);else if(typeof w.keys=="function"&&typeof w.get=="function")for(const Z of w.keys())_.set(Z,w.get(Z));else throw Error("Unknown input type for opt_headers: "+String(w));w=Array.from(_.keys()).find(Z=>Z.toLowerCase()=="content-type"),G=m.FormData&&h instanceof m.FormData,!(0<=Array.prototype.indexOf.call(ka,v,void 0))||w||G||_.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Z,ce]of _)this.g.setRequestHeader(Z,ce);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{La(this),this.u=!0,this.g.send(h),this.u=!1}catch(Z){ec(this,Z)}};function ec(h,v){h.h=!1,h.g&&(h.j=!0,h.g.abort(),h.j=!1),h.l=v,h.m=5,Vs(h),Ei(h)}function Vs(h){h.A||(h.A=!0,tt(h,"complete"),tt(h,"error"))}n.abort=function(h){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=h||7,tt(this,"complete"),tt(this,"abort"),Ei(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Ei(this,!0)),Ze.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?Ps(this):this.bb())},n.bb=function(){Ps(this)};function Ps(h){if(h.h&&typeof c<"u"&&(!h.v[1]||zn(h)!=4||h.Z()!=2)){if(h.u&&zn(h)==4)nn(h.Ea,0,h);else if(tt(h,"readystatechange"),zn(h)==4){h.h=!1;try{const ce=h.Z();e:switch(ce){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var v=!0;break e;default:v=!1}var _;if(!(_=v)){var w;if(w=ce===0){var G=String(h.D).match(Da)[1]||null;!G&&m.self&&m.self.location&&(G=m.self.location.protocol.slice(0,-1)),w=!Ns.test(G?G.toLowerCase():"")}_=w}if(_)tt(h,"complete"),tt(h,"success");else{h.m=6;try{var Z=2<zn(h)?h.g.statusText:""}catch{Z=""}h.l=Z+" ["+h.Z()+"]",Vs(h)}}finally{Ei(h)}}}}function Ei(h,v){if(h.g){La(h);const _=h.g,w=h.v[0]?()=>{}:null;h.g=null,h.v=null,v||tt(h,"ready");try{_.onreadystatechange=w}catch{}}}function La(h){h.I&&(m.clearTimeout(h.I),h.I=null)}n.isActive=function(){return!!this.g};function zn(h){return h.g?h.g.readyState:0}n.Z=function(){try{return 2<zn(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(h){if(this.g){var v=this.g.responseText;return h&&v.indexOf(h)==0&&(v=v.substring(h.length)),As(v)}};function tc(h){try{if(!h.g)return null;if("response"in h.g)return h.g.response;switch(h.H){case"":case"text":return h.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in h.g)return h.g.mozResponseArrayBuffer}return null}catch{return null}}function ed(h){const v={};h=(h.g&&2<=zn(h)&&h.g.getAllResponseHeaders()||"").split(`\r
`);for(let w=0;w<h.length;w++){if(j(h[w]))continue;var _=z(h[w]);const G=_[0];if(_=_[1],typeof _!="string")continue;_=_.trim();const Z=v[G]||[];v[G]=Z,Z.push(_)}O(v,function(w){return w.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ua(h,v,_){return _&&_.internalChannelParams&&_.internalChannelParams[h]||v}function ks(h){this.Aa=0,this.i=[],this.j=new kn,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Ua("failFast",!1,h),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Ua("baseRetryDelayMs",5e3,h),this.cb=Ua("retryDelaySeedMs",1e4,h),this.Wa=Ua("forwardChannelMaxRetries",2,h),this.wa=Ua("forwardChannelRequestTimeoutMs",2e4,h),this.pa=h&&h.xmlHttpFactory||void 0,this.Xa=h&&h.Tb||void 0,this.Ca=h&&h.useFetchStreams||!1,this.L=void 0,this.J=h&&h.supportsCrossDomainXhr||!1,this.K="",this.h=new Qi(h&&h.concurrentRequestLimit),this.Da=new Pa,this.P=h&&h.fastHandshake||!1,this.O=h&&h.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=h&&h.Rb||!1,h&&h.xa&&this.j.xa(),h&&h.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&h&&h.detectBufferingProxy||!1,this.ja=void 0,h&&h.longPollingTimeout&&0<h.longPollingTimeout&&(this.ja=h.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=ks.prototype,n.la=8,n.G=1,n.connect=function(h,v,_,w){ft(0),this.W=h,this.H=v||{},_&&w!==void 0&&(this.H.OSID=_,this.H.OAID=w),this.F=this.X,this.I=lc(this,null,this.W),Us(this)};function sl(h){if(nc(h),h.G==3){var v=h.U++,_=wn(h.I);if(rt(_,"SID",h.K),rt(_,"RID",v),rt(_,"TYPE","terminate"),ja(h,_),v=new fn(h,h.j,v),v.L=2,v.v=Ma(wn(_)),_=!1,m.navigator&&m.navigator.sendBeacon)try{_=m.navigator.sendBeacon(v.v.toString(),"")}catch{}!_&&m.Image&&(new Image().src=v.v,_=!0),_||(v.g=uc(v.j,null),v.g.ea(v.v)),v.F=Date.now(),Ca(v)}oc(h)}function Ls(h){h.g&&(za(h),h.g.cancel(),h.g=null)}function nc(h){Ls(h),h.u&&(m.clearTimeout(h.u),h.u=null),js(h),h.h.cancel(),h.s&&(typeof h.s=="number"&&m.clearTimeout(h.s),h.s=null)}function Us(h){if(!Cs(h.h)&&!h.s){h.s=!0;var v=h.Ga;J||P(),he||(J(),he=!0),ye.add(v,h),h.B=0}}function td(h,v){return Os(h.h)>=h.h.j-(h.s?1:0)?!1:h.s?(h.i=v.D.concat(h.i),!0):h.G==1||h.G==2||h.B>=(h.Va?0:h.Wa)?!1:(h.s=Rt(T(h.Ga,h,v),ul(h,h.B)),h.B++,!0)}n.Ga=function(h){if(this.s)if(this.s=null,this.G==1){if(!h){this.U=Math.floor(1e5*Math.random()),h=this.U++;const G=new fn(this,this.j,h);let Z=this.o;if(this.S&&(Z?(Z=A(Z),V(Z,this.S)):Z=this.S),this.m!==null||this.O||(G.H=Z,Z=null),this.P)e:{for(var v=0,_=0;_<this.i.length;_++){t:{var w=this.i[_];if("__data__"in w.map&&(w=w.map.__data__,typeof w=="string")){w=w.length;break t}w=void 0}if(w===void 0)break;if(v+=w,4096<v){v=_;break e}if(v===4096||_===this.i.length-1){v=_+1;break e}}v=1e3}else v=1e3;v=ic(this,G,v),_=wn(this.I),rt(_,"RID",h),rt(_,"CVER",22),this.D&&rt(_,"X-HTTP-Session-Id",this.D),ja(this,_),Z&&(this.O?v="headers="+encodeURIComponent(String(al(Z)))+"&"+v:this.m&&zt(_,this.m,Z)),Ds(this.h,G),this.Ua&&rt(_,"TYPE","init"),this.P?(rt(_,"$req",v),rt(_,"SID","null"),G.T=!0,Zn(G,_,null)):Zn(G,_,v),this.G=2}}else this.G==3&&(h?ol(this,h):this.i.length==0||Cs(this.h)||ol(this))};function ol(h,v){var _;v?_=v.l:_=h.U++;const w=wn(h.I);rt(w,"SID",h.K),rt(w,"RID",_),rt(w,"AID",h.T),ja(h,w),h.m&&h.o&&zt(w,h.m,h.o),_=new fn(h,h.j,_,h.B+1),h.m===null&&(_.H=h.o),v&&(h.i=v.D.concat(h.i)),v=ic(h,_,1e3),_.I=Math.round(.5*h.wa)+Math.round(.5*h.wa*Math.random()),Ds(h.h,_),Zn(_,w,v)}function ja(h,v){h.H&&oe(h.H,function(_,w){rt(v,w,_)}),h.l&&el({},function(_,w){rt(v,w,_)})}function ic(h,v,_){_=Math.min(h.i.length,_);var w=h.l?T(h.l.Na,h.l,h):null;e:{var G=h.i;let Z=-1;for(;;){const ce=["count="+_];Z==-1?0<_?(Z=G[0].g,ce.push("ofs="+Z)):Z=0:ce.push("ofs="+Z);let Fe=!0;for(let Vt=0;Vt<_;Vt++){let Be=G[Vt].g;const Ft=G[Vt].map;if(Be-=Z,0>Be)Z=Math.max(0,G[Vt].g-100),Fe=!1;else try{yi(Ft,ce,"req"+Be+"_")}catch{w&&w(Ft)}}if(Fe){w=ce.join("&");break e}}}return h=h.i.splice(0,_),v.D=h,w}function rc(h){if(!h.g&&!h.u){h.Y=1;var v=h.Fa;J||P(),he||(J(),he=!0),ye.add(v,h),h.v=0}}function ll(h){return h.g||h.u||3<=h.v?!1:(h.Y++,h.u=Rt(T(h.Fa,h),ul(h,h.v)),h.v++,!0)}n.Fa=function(){if(this.u=null,ac(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var h=2*this.R;this.j.info("BP detection timer enabled: "+h),this.A=Rt(T(this.ab,this),h)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,ft(10),Ls(this),ac(this))};function za(h){h.A!=null&&(m.clearTimeout(h.A),h.A=null)}function ac(h){h.g=new fn(h,h.j,"rpc",h.Y),h.m===null&&(h.g.H=h.o),h.g.O=0;var v=wn(h.qa);rt(v,"RID","rpc"),rt(v,"SID",h.K),rt(v,"AID",h.T),rt(v,"CI",h.F?"0":"1"),!h.F&&h.ja&&rt(v,"TO",h.ja),rt(v,"TYPE","xmlhttp"),ja(h,v),h.m&&h.o&&zt(v,h.m,h.o),h.L&&(h.g.I=h.L);var _=h.g;h=h.ia,_.L=1,_.v=Ma(wn(v)),_.m=null,_.P=!0,Yi(_,h)}n.Za=function(){this.C!=null&&(this.C=null,Ls(this),ll(this),ft(19))};function js(h){h.C!=null&&(m.clearTimeout(h.C),h.C=null)}function sc(h,v){var _=null;if(h.g==v){js(h),za(h),h.g=null;var w=2}else if(Zo(h.h,v))_=v.D,dn(h.h,v),w=1;else return;if(h.G!=0){if(v.o)if(w==1){_=v.m?v.m.length:0,v=Date.now()-v.F;var G=h.B;w=Dr(),tt(w,new Nt(w,_)),Us(h)}else rc(h);else if(G=v.s,G==3||G==0&&0<v.X||!(w==1&&td(h,v)||w==2&&ll(h)))switch(_&&0<_.length&&(v=h.h,v.i=v.i.concat(_)),G){case 1:tr(h,5);break;case 4:tr(h,10);break;case 3:tr(h,6);break;default:tr(h,2)}}}function ul(h,v){let _=h.Ta+Math.floor(Math.random()*h.cb);return h.isActive()||(_*=2),_*v}function tr(h,v){if(h.j.info("Error code "+v),v==2){var _=T(h.fb,h),w=h.Xa;const G=!w;w=new It(w||"//www.google.com/images/cleardot.gif"),m.location&&m.location.protocol=="http"||xa(w,"https"),Ma(w),G?Va(w.toString(),_):Jn(w.toString(),_)}else ft(2);h.G=0,h.l&&h.l.sa(v),oc(h),nc(h)}n.fb=function(h){h?(this.j.info("Successfully pinged google.com"),ft(2)):(this.j.info("Failed to ping google.com"),ft(1))};function oc(h){if(h.G=0,h.ka=[],h.l){const v=Jo(h.h);(v.length!=0||h.i.length!=0)&&(I(h.ka,v),I(h.ka,h.i),h.h.i.length=0,N(h.i),h.i.length=0),h.l.ra()}}function lc(h,v,_){var w=_ instanceof It?wn(_):new It(_);if(w.g!="")v&&(w.g=v+"."+w.g),Pr(w,w.s);else{var G=m.location;w=G.protocol,v=v?v+"."+G.hostname:G.hostname,G=+G.port;var Z=new It(null);w&&xa(Z,w),v&&(Z.g=v),G&&Pr(Z,G),_&&(Z.l=_),w=Z}return _=h.D,v=h.ya,_&&v&&rt(w,_,v),rt(w,"VER",h.la),ja(h,w),w}function uc(h,v,_){if(v&&!h.J)throw Error("Can't create secondary domain capable XhrIo object.");return v=h.Ca&&!h.pa?new Ze(new kr({eb:_})):new Ze(h.pa),v.Ha(h.J),v}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function cc(){}n=cc.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function zs(){}zs.prototype.g=function(h,v){return new mn(h,v)};function mn(h,v){yt.call(this),this.g=new ks(v),this.l=h,this.h=v&&v.messageUrlParams||null,h=v&&v.messageHeaders||null,v&&v.clientProtocolHeaderRequired&&(h?h["X-Client-Protocol"]="webchannel":h={"X-Client-Protocol":"webchannel"}),this.g.o=h,h=v&&v.initMessageHeaders||null,v&&v.messageContentType&&(h?h["X-WebChannel-Content-Type"]=v.messageContentType:h={"X-WebChannel-Content-Type":v.messageContentType}),v&&v.va&&(h?h["X-WebChannel-Client-Profile"]=v.va:h={"X-WebChannel-Client-Profile":v.va}),this.g.S=h,(h=v&&v.Sb)&&!j(h)&&(this.g.m=h),this.v=v&&v.supportsCrossDomainXhr||!1,this.u=v&&v.sendRawJson||!1,(v=v&&v.httpSessionIdParam)&&!j(v)&&(this.g.D=v,h=this.h,h!==null&&v in h&&(h=this.h,v in h&&delete h[v])),this.j=new Ti(this)}C(mn,yt),mn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},mn.prototype.close=function(){sl(this.g)},mn.prototype.o=function(h){var v=this.g;if(typeof h=="string"){var _={};_.__data__=h,h=_}else this.u&&(_={},_.__data__=Wn(h),h=_);v.i.push(new Wu(v.Ya++,h)),v.G==3&&Us(v)},mn.prototype.N=function(){this.g.l=null,delete this.j,sl(this.g),delete this.g,mn.aa.N.call(this)};function hc(h){Gi.call(this),h.__headers__&&(this.headers=h.__headers__,this.statusCode=h.__status__,delete h.__headers__,delete h.__status__);var v=h.__sm__;if(v){e:{for(const _ in v){h=_;break e}h=void 0}(this.i=h)&&(h=this.i,v=v!==null&&h in v?v[h]:void 0),this.data=v}else this.data=h}C(hc,Gi);function fc(){Yo.call(this),this.status=1}C(fc,Yo);function Ti(h){this.g=h}C(Ti,cc),Ti.prototype.ua=function(){tt(this.g,"a")},Ti.prototype.ta=function(h){tt(this.g,new hc(h))},Ti.prototype.sa=function(h){tt(this.g,new fc)},Ti.prototype.ra=function(){tt(this.g,"b")},zs.prototype.createWebChannel=zs.prototype.g,mn.prototype.send=mn.prototype.o,mn.prototype.open=mn.prototype.m,mn.prototype.close=mn.prototype.close,GS=function(){return new zs},$S=function(){return Dr()},qS=di,Vp={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Nr.NO_ERROR=0,Nr.TIMEOUT=8,Nr.HTTP_ERROR=6,xh=Nr,Ki.COMPLETE="complete",HS=Ki,Ko.EventType=$i,$i.OPEN="a",$i.CLOSE="b",$i.ERROR="c",$i.MESSAGE="d",yt.prototype.listen=yt.prototype.K,nu=Ko,Ze.prototype.listenOnce=Ze.prototype.L,Ze.prototype.getLastError=Ze.prototype.Ka,Ze.prototype.getLastErrorCode=Ze.prototype.Ba,Ze.prototype.getStatus=Ze.prototype.Z,Ze.prototype.getResponseJson=Ze.prototype.Oa,Ze.prototype.getResponseText=Ze.prototype.oa,Ze.prototype.send=Ze.prototype.ea,Ze.prototype.setWithCredentials=Ze.prototype.Ha,BS=Ze}).apply(typeof ph<"u"?ph:typeof self<"u"?self:typeof window<"u"?window:{});const xb="@firebase/firestore",Mb="4.8.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ln{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}ln.UNAUTHENTICATED=new ln(null),ln.GOOGLE_CREDENTIALS=new ln("google-credentials-uid"),ln.FIRST_PARTY=new ln("first-party-uid"),ln.MOCK_USER=new ln("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Uo="11.10.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fs=new Tf("@firebase/firestore");function vo(){return fs.logLevel}function fe(n,...e){if(fs.logLevel<=je.DEBUG){const t=e.map(Dg);fs.debug(`Firestore (${Uo}): ${n}`,...t)}}function Rr(n,...e){if(fs.logLevel<=je.ERROR){const t=e.map(Dg);fs.error(`Firestore (${Uo}): ${n}`,...t)}}function ma(n,...e){if(fs.logLevel<=je.WARN){const t=e.map(Dg);fs.warn(`Firestore (${Uo}): ${n}`,...t)}}function Dg(n){if(typeof n=="string")return n;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(t){return JSON.stringify(t)}(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ae(n,e,t){let r="Unexpected state";typeof e=="string"?r=e:t=e,KS(n,r,t)}function KS(n,e,t){let r=`FIRESTORE (${Uo}) INTERNAL ASSERTION FAILED: ${e} (ID: ${n.toString(16)})`;if(t!==void 0)try{r+=" CONTEXT: "+JSON.stringify(t)}catch{r+=" CONTEXT: "+t}throw Rr(r),new Error(r)}function et(n,e,t,r){let s="Unexpected state";typeof t=="string"?s=t:r=t,n||KS(e,s,r)}function xe(n,e){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ue={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ve extends ui{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fa{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YS{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class EM{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(ln.UNAUTHENTICATED))}shutdown(){}}class TM{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class SM{constructor(e){this.t=e,this.currentUser=ln.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){et(this.o===void 0,42304);let r=this.i;const s=d=>this.i!==r?(r=this.i,t(d)):Promise.resolve();let l=new fa;this.o=()=>{this.i++,this.currentUser=this.u(),l.resolve(),l=new fa,e.enqueueRetryable(()=>s(this.currentUser))};const c=()=>{const d=l;e.enqueueRetryable(async()=>{await d.promise,await s(this.currentUser)})},m=d=>{fe("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=d,this.o&&(this.auth.addAuthTokenListener(this.o),c())};this.t.onInit(d=>m(d)),setTimeout(()=>{if(!this.auth){const d=this.t.getImmediate({optional:!0});d?m(d):(fe("FirebaseAuthCredentialsProvider","Auth not yet detected"),l.resolve(),l=new fa)}},0),c()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(fe("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(et(typeof r.accessToken=="string",31837,{l:r}),new YS(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return et(e===null||typeof e=="string",2055,{h:e}),new ln(e)}}class wM{constructor(e,t,r){this.P=e,this.T=t,this.I=r,this.type="FirstParty",this.user=ln.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class AM{constructor(e,t,r){this.P=e,this.T=t,this.I=r}getToken(){return Promise.resolve(new wM(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable(()=>t(ln.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Nb{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class RM{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,ii(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){et(this.o===void 0,3512);const r=l=>{l.error!=null&&fe("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const c=l.token!==this.m;return this.m=l.token,fe("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?t(l.token):Promise.resolve()};this.o=l=>{e.enqueueRetryable(()=>r(l))};const s=l=>{fe("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(l=>s(l)),setTimeout(()=>{if(!this.appCheck){const l=this.V.getImmediate({optional:!0});l?s(l):fe("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new Nb(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(et(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new Nb(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IM(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QS(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xg{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const s=IM(40);for(let l=0;l<s.length;++l)r.length<20&&s[l]<t&&(r+=e.charAt(s[l]%62))}return r}}function Ve(n,e){return n<e?-1:n>e?1:0}function Pp(n,e){let t=0;for(;t<n.length&&t<e.length;){const r=n.codePointAt(t),s=e.codePointAt(t);if(r!==s){if(r<128&&s<128)return Ve(r,s);{const l=QS(),c=CM(l.encode(Vb(n,t)),l.encode(Vb(e,t)));return c!==0?c:Ve(r,s)}}t+=r>65535?2:1}return Ve(n.length,e.length)}function Vb(n,e){return n.codePointAt(e)>65535?n.substring(e,e+2):n.substring(e,e+1)}function CM(n,e){for(let t=0;t<n.length&&t<e.length;++t)if(n[t]!==e[t])return Ve(n[t],e[t]);return Ve(n.length,e.length)}function Co(n,e,t){return n.length===e.length&&n.every((r,s)=>t(r,e[s]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pb="__name__";class Oi{constructor(e,t,r){t===void 0?t=0:t>e.length&&Ae(637,{offset:t,range:e.length}),r===void 0?r=e.length-t:r>e.length-t&&Ae(1746,{length:r,range:e.length-t}),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return Oi.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Oi?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let s=0;s<r;s++){const l=Oi.compareSegments(e.get(s),t.get(s));if(l!==0)return l}return Ve(e.length,t.length)}static compareSegments(e,t){const r=Oi.isNumericId(e),s=Oi.isNumericId(t);return r&&!s?-1:!r&&s?1:r&&s?Oi.extractNumericId(e).compare(Oi.extractNumericId(t)):Pp(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return ha.fromString(e.substring(4,e.length-2))}}class pt extends Oi{construct(e,t,r){return new pt(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new ve(ue.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(s=>s.length>0))}return new pt(t)}static emptyPath(){return new pt([])}}const OM=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class en extends Oi{construct(e,t,r){return new en(e,t,r)}static isValidIdentifier(e){return OM.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),en.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Pb}static keyField(){return new en([Pb])}static fromServerFormat(e){const t=[];let r="",s=0;const l=()=>{if(r.length===0)throw new ve(ue.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let c=!1;for(;s<e.length;){const m=e[s];if(m==="\\"){if(s+1===e.length)throw new ve(ue.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const d=e[s+1];if(d!=="\\"&&d!=="."&&d!=="`")throw new ve(ue.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=d,s+=2}else m==="`"?(c=!c,s++):m!=="."||c?(r+=m,s++):(l(),s++)}if(l(),c)throw new ve(ue.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new en(t)}static emptyPath(){return new en([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ee{constructor(e){this.path=e}static fromPath(e){return new Ee(pt.fromString(e))}static fromName(e){return new Ee(pt.fromString(e).popFirst(5))}static empty(){return new Ee(pt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&pt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return pt.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ee(new pt(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DM(n,e,t){if(!t)throw new ve(ue.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function xM(n,e,t,r){if(e===!0&&r===!0)throw new ve(ue.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function kb(n){if(!Ee.isDocumentKey(n))throw new ve(ue.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function XS(n){return typeof n=="object"&&n!==null&&(Object.getPrototypeOf(n)===Object.prototype||Object.getPrototypeOf(n)===null)}function Mg(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":Ae(12329,{type:typeof n})}function yu(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new ve(ue.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=Mg(n);throw new ve(ue.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mt(n,e){const t={typeString:n};return e&&(t.value=e),t}function Lu(n,e){if(!XS(n))throw new ve(ue.INVALID_ARGUMENT,"JSON must be an object");let t;for(const r in e)if(e[r]){const s=e[r].typeString,l="value"in e[r]?{value:e[r].value}:void 0;if(!(r in n)){t=`JSON missing required field: '${r}'`;break}const c=n[r];if(s&&typeof c!==s){t=`JSON field '${r}' must be a ${s}.`;break}if(l!==void 0&&c!==l.value){t=`Expected '${r}' field to equal '${l.value}'`;break}}if(t)throw new ve(ue.INVALID_ARGUMENT,t);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lb=-62135596800,Ub=1e6;class ht{static now(){return ht.fromMillis(Date.now())}static fromDate(e){return ht.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor((e-1e3*t)*Ub);return new ht(t,r)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new ve(ue.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new ve(ue.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<Lb)throw new ve(ue.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ve(ue.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Ub}_compareTo(e){return this.seconds===e.seconds?Ve(this.nanoseconds,e.nanoseconds):Ve(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:ht._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Lu(e,ht._jsonSchema))return new ht(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-Lb;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}ht._jsonSchemaVersion="firestore/timestamp/1.0",ht._jsonSchema={type:Mt("string",ht._jsonSchemaVersion),seconds:Mt("number"),nanoseconds:Mt("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class De{static fromTimestamp(e){return new De(e)}static min(){return new De(new ht(0,0))}static max(){return new De(new ht(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _u=-1;function MM(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,s=De.fromTimestamp(r===1e9?new ht(t+1,0):new ht(t,r));return new pa(s,Ee.empty(),e)}function NM(n){return new pa(n.readTime,n.key,_u)}class pa{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new pa(De.min(),Ee.empty(),_u)}static max(){return new pa(De.max(),Ee.empty(),_u)}}function VM(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=Ee.comparator(n.documentKey,e.documentKey),t!==0?t:Ve(n.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PM="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class kM{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jo(n){if(n.code!==ue.FAILED_PRECONDITION||n.message!==PM)throw n;fe("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class se{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Ae(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new se((r,s)=>{this.nextCallback=l=>{this.wrapSuccess(e,l).next(r,s)},this.catchCallback=l=>{this.wrapFailure(t,l).next(r,s)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof se?t:se.resolve(t)}catch(t){return se.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):se.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):se.reject(t)}static resolve(e){return new se((t,r)=>{t(e)})}static reject(e){return new se((t,r)=>{r(e)})}static waitFor(e){return new se((t,r)=>{let s=0,l=0,c=!1;e.forEach(m=>{++s,m.next(()=>{++l,c&&l===s&&t()},d=>r(d))}),c=!0,l===s&&t()})}static or(e){let t=se.resolve(!1);for(const r of e)t=t.next(s=>s?se.resolve(s):r());return t}static forEach(e,t){const r=[];return e.forEach((s,l)=>{r.push(t.call(this,s,l))}),this.waitFor(r)}static mapArray(e,t){return new se((r,s)=>{const l=e.length,c=new Array(l);let m=0;for(let d=0;d<l;d++){const p=d;t(e[p]).next(y=>{c[p]=y,++m,m===l&&r(c)},y=>s(y))}})}static doWhile(e,t){return new se((r,s)=>{const l=()=>{e()===!0?t().next(()=>{l()},s):r()};l()})}}function LM(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function zo(n){return n.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cf{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=r=>this._e(r),this.ae=r=>t.writeSequenceNumber(r))}_e(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ae&&this.ae(e),e}}Cf.ue=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ng=-1;function Of(n){return n==null}function Zh(n){return n===0&&1/n==-1/0}function UM(n){return typeof n=="number"&&Number.isInteger(n)&&!Zh(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WS="";function jM(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=jb(e)),e=zM(n.get(t),e);return jb(e)}function zM(n,e){let t=e;const r=n.length;for(let s=0;s<r;s++){const l=n.charAt(s);switch(l){case"\0":t+="";break;case WS:t+="";break;default:t+=l}}return t}function jb(n){return n+WS+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zb(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function _s(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function ZS(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vt{constructor(e,t){this.comparator=e,this.root=t||Zt.EMPTY}insert(e,t){return new vt(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Zt.BLACK,null,null))}remove(e){return new vt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Zt.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(r===0)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const s=this.comparator(e,r.key);if(s===0)return t+r.left.size;s<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){const e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new gh(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new gh(this.root,e,this.comparator,!1)}getReverseIterator(){return new gh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new gh(this.root,e,this.comparator,!0)}}class gh{constructor(e,t,r,s){this.isReverse=s,this.nodeStack=[];let l=1;for(;!e.isEmpty();)if(l=t?r(e.key,t):1,t&&s&&(l*=-1),l<0)e=this.isReverse?e.left:e.right;else{if(l===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Zt{constructor(e,t,r,s,l){this.key=e,this.value=t,this.color=r??Zt.RED,this.left=s??Zt.EMPTY,this.right=l??Zt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,s,l){return new Zt(e??this.key,t??this.value,r??this.color,s??this.left,l??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let s=this;const l=r(e,s.key);return s=l<0?s.copy(null,null,null,s.left.insert(e,t,r),null):l===0?s.copy(null,t,null,null,null):s.copy(null,null,null,null,s.right.insert(e,t,r)),s.fixUp()}removeMin(){if(this.left.isEmpty())return Zt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,s=this;if(t(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,t),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),t(e,s.key)===0){if(s.right.isEmpty())return Zt.EMPTY;r=s.right.min(),s=s.copy(r.key,r.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,t))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Zt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Zt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Ae(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Ae(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Ae(27949);return e+(this.isRed()?0:1)}}Zt.EMPTY=null,Zt.RED=!0,Zt.BLACK=!1;Zt.EMPTY=new class{constructor(){this.size=0}get key(){throw Ae(57766)}get value(){throw Ae(16141)}get color(){throw Ae(16727)}get left(){throw Ae(29726)}get right(){throw Ae(36894)}copy(e,t,r,s,l){return this}insert(e,t,r){return new Zt(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jt{constructor(e){this.comparator=e,this.data=new vt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const s=r.getNext();if(this.comparator(s.key,e[1])>=0)return;t(s.key)}}forEachWhile(e,t){let r;for(r=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new Fb(this.data.getIterator())}getIteratorFrom(e){return new Fb(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof jt)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const s=t.getNext().key,l=r.getNext().key;if(this.comparator(s,l)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new jt(this.comparator);return t.data=e,t}}class Fb{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ai{constructor(e){this.fields=e,e.sort(en.comparator)}static empty(){return new ai([])}unionWith(e){let t=new jt(en.comparator);for(const r of this.fields)t=t.add(r);for(const r of e)t=t.add(r);return new ai(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Co(this.fields,e.fields,(t,r)=>t.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JS extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tn{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(s){try{return atob(s)}catch(l){throw typeof DOMException<"u"&&l instanceof DOMException?new JS("Invalid base64 string: "+l):l}}(e);return new tn(t)}static fromUint8Array(e){const t=function(s){let l="";for(let c=0;c<s.length;++c)l+=String.fromCharCode(s[c]);return l}(e);return new tn(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){const r=new Uint8Array(t.length);for(let s=0;s<t.length;s++)r[s]=t.charCodeAt(s);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ve(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}tn.EMPTY_BYTE_STRING=new tn("");const FM=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ga(n){if(et(!!n,39018),typeof n=="string"){let e=0;const t=FM.exec(n);if(et(!!t,46558,{timestamp:n}),t[1]){let s=t[1];s=(s+"000000000").substr(0,9),e=Number(s)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:At(n.seconds),nanos:At(n.nanos)}}function At(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function va(n){return typeof n=="string"?tn.fromBase64String(n):tn.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e1="server_timestamp",t1="__type__",n1="__previous_value__",i1="__local_write_time__";function Vg(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{})[t1])===null||t===void 0?void 0:t.stringValue)===e1}function Df(n){const e=n.mapValue.fields[n1];return Vg(e)?Df(e):e}function bu(n){const e=ga(n.mapValue.fields[i1].timestampValue);return new ht(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BM{constructor(e,t,r,s,l,c,m,d,p,y){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=s,this.ssl=l,this.forceLongPolling=c,this.autoDetectLongPolling=m,this.longPollingOptions=d,this.useFetchStreams=p,this.isUsingEmulator=y}}const Jh="(default)";class Eu{constructor(e,t){this.projectId=e,this.database=t||Jh}static empty(){return new Eu("","")}get isDefaultDatabase(){return this.database===Jh}isEqual(e){return e instanceof Eu&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r1="__type__",HM="__max__",vh={mapValue:{}},a1="__vector__",ef="value";function ya(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?Vg(n)?4:$M(n)?9007199254740991:qM(n)?10:11:Ae(28295,{value:n})}function zi(n,e){if(n===e)return!0;const t=ya(n);if(t!==ya(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return bu(n).isEqual(bu(e));case 3:return function(s,l){if(typeof s.timestampValue=="string"&&typeof l.timestampValue=="string"&&s.timestampValue.length===l.timestampValue.length)return s.timestampValue===l.timestampValue;const c=ga(s.timestampValue),m=ga(l.timestampValue);return c.seconds===m.seconds&&c.nanos===m.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return function(s,l){return va(s.bytesValue).isEqual(va(l.bytesValue))}(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return function(s,l){return At(s.geoPointValue.latitude)===At(l.geoPointValue.latitude)&&At(s.geoPointValue.longitude)===At(l.geoPointValue.longitude)}(n,e);case 2:return function(s,l){if("integerValue"in s&&"integerValue"in l)return At(s.integerValue)===At(l.integerValue);if("doubleValue"in s&&"doubleValue"in l){const c=At(s.doubleValue),m=At(l.doubleValue);return c===m?Zh(c)===Zh(m):isNaN(c)&&isNaN(m)}return!1}(n,e);case 9:return Co(n.arrayValue.values||[],e.arrayValue.values||[],zi);case 10:case 11:return function(s,l){const c=s.mapValue.fields||{},m=l.mapValue.fields||{};if(zb(c)!==zb(m))return!1;for(const d in c)if(c.hasOwnProperty(d)&&(m[d]===void 0||!zi(c[d],m[d])))return!1;return!0}(n,e);default:return Ae(52216,{left:n})}}function Tu(n,e){return(n.values||[]).find(t=>zi(t,e))!==void 0}function Oo(n,e){if(n===e)return 0;const t=ya(n),r=ya(e);if(t!==r)return Ve(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return Ve(n.booleanValue,e.booleanValue);case 2:return function(l,c){const m=At(l.integerValue||l.doubleValue),d=At(c.integerValue||c.doubleValue);return m<d?-1:m>d?1:m===d?0:isNaN(m)?isNaN(d)?0:-1:1}(n,e);case 3:return Bb(n.timestampValue,e.timestampValue);case 4:return Bb(bu(n),bu(e));case 5:return Pp(n.stringValue,e.stringValue);case 6:return function(l,c){const m=va(l),d=va(c);return m.compareTo(d)}(n.bytesValue,e.bytesValue);case 7:return function(l,c){const m=l.split("/"),d=c.split("/");for(let p=0;p<m.length&&p<d.length;p++){const y=Ve(m[p],d[p]);if(y!==0)return y}return Ve(m.length,d.length)}(n.referenceValue,e.referenceValue);case 8:return function(l,c){const m=Ve(At(l.latitude),At(c.latitude));return m!==0?m:Ve(At(l.longitude),At(c.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return Hb(n.arrayValue,e.arrayValue);case 10:return function(l,c){var m,d,p,y;const E=l.fields||{},T=c.fields||{},R=(m=E[ef])===null||m===void 0?void 0:m.arrayValue,C=(d=T[ef])===null||d===void 0?void 0:d.arrayValue,N=Ve(((p=R==null?void 0:R.values)===null||p===void 0?void 0:p.length)||0,((y=C==null?void 0:C.values)===null||y===void 0?void 0:y.length)||0);return N!==0?N:Hb(R,C)}(n.mapValue,e.mapValue);case 11:return function(l,c){if(l===vh.mapValue&&c===vh.mapValue)return 0;if(l===vh.mapValue)return 1;if(c===vh.mapValue)return-1;const m=l.fields||{},d=Object.keys(m),p=c.fields||{},y=Object.keys(p);d.sort(),y.sort();for(let E=0;E<d.length&&E<y.length;++E){const T=Pp(d[E],y[E]);if(T!==0)return T;const R=Oo(m[d[E]],p[y[E]]);if(R!==0)return R}return Ve(d.length,y.length)}(n.mapValue,e.mapValue);default:throw Ae(23264,{le:t})}}function Bb(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return Ve(n,e);const t=ga(n),r=ga(e),s=Ve(t.seconds,r.seconds);return s!==0?s:Ve(t.nanos,r.nanos)}function Hb(n,e){const t=n.values||[],r=e.values||[];for(let s=0;s<t.length&&s<r.length;++s){const l=Oo(t[s],r[s]);if(l)return l}return Ve(t.length,r.length)}function Do(n){return kp(n)}function kp(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(t){const r=ga(t);return`time(${r.seconds},${r.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?function(t){return va(t).toBase64()}(n.bytesValue):"referenceValue"in n?function(t){return Ee.fromName(t).toString()}(n.referenceValue):"geoPointValue"in n?function(t){return`geo(${t.latitude},${t.longitude})`}(n.geoPointValue):"arrayValue"in n?function(t){let r="[",s=!0;for(const l of t.values||[])s?s=!1:r+=",",r+=kp(l);return r+"]"}(n.arrayValue):"mapValue"in n?function(t){const r=Object.keys(t.fields||{}).sort();let s="{",l=!0;for(const c of r)l?l=!1:s+=",",s+=`${c}:${kp(t.fields[c])}`;return s+"}"}(n.mapValue):Ae(61005,{value:n})}function Mh(n){switch(ya(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Df(n);return e?16+Mh(e):16;case 5:return 2*n.stringValue.length;case 6:return va(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((s,l)=>s+Mh(l),0)}(n.arrayValue);case 10:case 11:return function(r){let s=0;return _s(r.fields,(l,c)=>{s+=l.length+Mh(c)}),s}(n.mapValue);default:throw Ae(13486,{value:n})}}function Lp(n){return!!n&&"integerValue"in n}function Pg(n){return!!n&&"arrayValue"in n}function qb(n){return!!n&&"nullValue"in n}function $b(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function Nh(n){return!!n&&"mapValue"in n}function qM(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{})[r1])===null||t===void 0?void 0:t.stringValue)===a1}function cu(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return _s(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=cu(r)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=cu(n.arrayValue.values[t]);return e}return Object.assign({},n)}function $M(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===HM}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yn{constructor(e){this.value=e}static empty(){return new Yn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!Nh(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=cu(t)}setAll(e){let t=en.emptyPath(),r={},s=[];e.forEach((c,m)=>{if(!t.isImmediateParentOf(m)){const d=this.getFieldsMap(t);this.applyChanges(d,r,s),r={},s=[],t=m.popLast()}c?r[m.lastSegment()]=cu(c):s.push(m.lastSegment())});const l=this.getFieldsMap(t);this.applyChanges(l,r,s)}delete(e){const t=this.field(e.popLast());Nh(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return zi(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let s=t.mapValue.fields[e.get(r)];Nh(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=s),t=s}return t.mapValue.fields}applyChanges(e,t,r){_s(t,(s,l)=>e[s]=l);for(const s of r)delete e[s]}clone(){return new Yn(cu(this.value))}}function s1(n){const e=[];return _s(n.fields,(t,r)=>{const s=new en([t]);if(Nh(r)){const l=s1(r.mapValue).fields;if(l.length===0)e.push(s);else for(const c of l)e.push(s.child(c))}else e.push(s)}),new ai(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class un{constructor(e,t,r,s,l,c,m){this.key=e,this.documentType=t,this.version=r,this.readTime=s,this.createTime=l,this.data=c,this.documentState=m}static newInvalidDocument(e){return new un(e,0,De.min(),De.min(),De.min(),Yn.empty(),0)}static newFoundDocument(e,t,r,s){return new un(e,1,t,De.min(),r,s,0)}static newNoDocument(e,t){return new un(e,2,t,De.min(),De.min(),Yn.empty(),0)}static newUnknownDocument(e,t){return new un(e,3,t,De.min(),De.min(),Yn.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(De.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Yn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Yn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=De.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof un&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new un(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tf{constructor(e,t){this.position=e,this.inclusive=t}}function Gb(n,e,t){let r=0;for(let s=0;s<n.position.length;s++){const l=e[s],c=n.position[s];if(l.field.isKeyField()?r=Ee.comparator(Ee.fromName(c.referenceValue),t.key):r=Oo(c,t.data.field(l.field)),l.dir==="desc"&&(r*=-1),r!==0)break}return r}function Kb(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!zi(n.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nf{constructor(e,t="asc"){this.field=e,this.dir=t}}function GM(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o1{}class Ut extends o1{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,r):new YM(e,t,r):t==="array-contains"?new WM(e,r):t==="in"?new ZM(e,r):t==="not-in"?new JM(e,r):t==="array-contains-any"?new eN(e,r):new Ut(e,t,r)}static createKeyFieldInFilter(e,t,r){return t==="in"?new QM(e,r):new XM(e,r)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(Oo(t,this.value)):t!==null&&ya(this.value)===ya(t)&&this.matchesComparison(Oo(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ae(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Fi extends o1{constructor(e,t){super(),this.filters=e,this.op=t,this.he=null}static create(e,t){return new Fi(e,t)}matches(e){return l1(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.he!==null||(this.he=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.he}getFilters(){return Object.assign([],this.filters)}}function l1(n){return n.op==="and"}function u1(n){return KM(n)&&l1(n)}function KM(n){for(const e of n.filters)if(e instanceof Fi)return!1;return!0}function Up(n){if(n instanceof Ut)return n.field.canonicalString()+n.op.toString()+Do(n.value);if(u1(n))return n.filters.map(e=>Up(e)).join(",");{const e=n.filters.map(t=>Up(t)).join(",");return`${n.op}(${e})`}}function c1(n,e){return n instanceof Ut?function(r,s){return s instanceof Ut&&r.op===s.op&&r.field.isEqual(s.field)&&zi(r.value,s.value)}(n,e):n instanceof Fi?function(r,s){return s instanceof Fi&&r.op===s.op&&r.filters.length===s.filters.length?r.filters.reduce((l,c,m)=>l&&c1(c,s.filters[m]),!0):!1}(n,e):void Ae(19439)}function h1(n){return n instanceof Ut?function(t){return`${t.field.canonicalString()} ${t.op} ${Do(t.value)}`}(n):n instanceof Fi?function(t){return t.op.toString()+" {"+t.getFilters().map(h1).join(" ,")+"}"}(n):"Filter"}class YM extends Ut{constructor(e,t,r){super(e,t,r),this.key=Ee.fromName(r.referenceValue)}matches(e){const t=Ee.comparator(e.key,this.key);return this.matchesComparison(t)}}class QM extends Ut{constructor(e,t){super(e,"in",t),this.keys=f1("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class XM extends Ut{constructor(e,t){super(e,"not-in",t),this.keys=f1("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function f1(n,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(r=>Ee.fromName(r.referenceValue))}class WM extends Ut{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Pg(t)&&Tu(t.arrayValue,this.value)}}class ZM extends Ut{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&Tu(this.value.arrayValue,t)}}class JM extends Ut{constructor(e,t){super(e,"not-in",t)}matches(e){if(Tu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!Tu(this.value.arrayValue,t)}}class eN extends Ut{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Pg(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>Tu(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tN{constructor(e,t=null,r=[],s=[],l=null,c=null,m=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=s,this.limit=l,this.startAt=c,this.endAt=m,this.Pe=null}}function Yb(n,e=null,t=[],r=[],s=null,l=null,c=null){return new tN(n,e,t,r,s,l,c)}function kg(n){const e=xe(n);if(e.Pe===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>Up(r)).join(","),t+="|ob:",t+=e.orderBy.map(r=>function(l){return l.field.canonicalString()+l.dir}(r)).join(","),Of(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>Do(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>Do(r)).join(",")),e.Pe=t}return e.Pe}function Lg(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!GM(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!c1(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!Kb(n.startAt,e.startAt)&&Kb(n.endAt,e.endAt)}function jp(n){return Ee.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xf{constructor(e,t=null,r=[],s=[],l=null,c="F",m=null,d=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=s,this.limit=l,this.limitType=c,this.startAt=m,this.endAt=d,this.Te=null,this.Ie=null,this.de=null,this.startAt,this.endAt}}function nN(n,e,t,r,s,l,c,m){return new xf(n,e,t,r,s,l,c,m)}function Ug(n){return new xf(n)}function Qb(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function iN(n){return n.collectionGroup!==null}function hu(n){const e=xe(n);if(e.Te===null){e.Te=[];const t=new Set;for(const l of e.explicitOrderBy)e.Te.push(l),t.add(l.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(c){let m=new jt(en.comparator);return c.filters.forEach(d=>{d.getFlattenedFilters().forEach(p=>{p.isInequality()&&(m=m.add(p.field))})}),m})(e).forEach(l=>{t.has(l.canonicalString())||l.isKeyField()||e.Te.push(new nf(l,r))}),t.has(en.keyField().canonicalString())||e.Te.push(new nf(en.keyField(),r))}return e.Te}function Ni(n){const e=xe(n);return e.Ie||(e.Ie=rN(e,hu(n))),e.Ie}function rN(n,e){if(n.limitType==="F")return Yb(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(s=>{const l=s.dir==="desc"?"asc":"desc";return new nf(s.field,l)});const t=n.endAt?new tf(n.endAt.position,n.endAt.inclusive):null,r=n.startAt?new tf(n.startAt.position,n.startAt.inclusive):null;return Yb(n.path,n.collectionGroup,e,n.filters,n.limit,t,r)}}function zp(n,e,t){return new xf(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function Mf(n,e){return Lg(Ni(n),Ni(e))&&n.limitType===e.limitType}function d1(n){return`${kg(Ni(n))}|lt:${n.limitType}`}function yo(n){return`Query(target=${function(t){let r=t.path.canonicalString();return t.collectionGroup!==null&&(r+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(r+=`, filters: [${t.filters.map(s=>h1(s)).join(", ")}]`),Of(t.limit)||(r+=", limit: "+t.limit),t.orderBy.length>0&&(r+=`, orderBy: [${t.orderBy.map(s=>function(c){return`${c.field.canonicalString()} (${c.dir})`}(s)).join(", ")}]`),t.startAt&&(r+=", startAt: ",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map(s=>Do(s)).join(",")),t.endAt&&(r+=", endAt: ",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map(s=>Do(s)).join(",")),`Target(${r})`}(Ni(n))}; limitType=${n.limitType})`}function Nf(n,e){return e.isFoundDocument()&&function(r,s){const l=s.key.path;return r.collectionGroup!==null?s.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(l):Ee.isDocumentKey(r.path)?r.path.isEqual(l):r.path.isImmediateParentOf(l)}(n,e)&&function(r,s){for(const l of hu(r))if(!l.field.isKeyField()&&s.data.field(l.field)===null)return!1;return!0}(n,e)&&function(r,s){for(const l of r.filters)if(!l.matches(s))return!1;return!0}(n,e)&&function(r,s){return!(r.startAt&&!function(c,m,d){const p=Gb(c,m,d);return c.inclusive?p<=0:p<0}(r.startAt,hu(r),s)||r.endAt&&!function(c,m,d){const p=Gb(c,m,d);return c.inclusive?p>=0:p>0}(r.endAt,hu(r),s))}(n,e)}function aN(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function m1(n){return(e,t)=>{let r=!1;for(const s of hu(n)){const l=sN(s,e,t);if(l!==0)return l;r=r||s.field.isKeyField()}return 0}}function sN(n,e,t){const r=n.field.isKeyField()?Ee.comparator(e.key,t.key):function(l,c,m){const d=c.data.field(l),p=m.data.field(l);return d!==null&&p!==null?Oo(d,p):Ae(42886)}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return Ae(19790,{direction:n.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bs{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r!==void 0){for(const[s,l]of r)if(this.equalsFn(s,e))return l}}has(e){return this.get(e)!==void 0}set(e,t){const r=this.mapKeyFn(e),s=this.inner[r];if(s===void 0)return this.inner[r]=[[e,t]],void this.innerSize++;for(let l=0;l<s.length;l++)if(this.equalsFn(s[l][0],e))return void(s[l]=[e,t]);s.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r===void 0)return!1;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return r.length===1?delete this.inner[t]:r.splice(s,1),this.innerSize--,!0;return!1}forEach(e){_s(this.inner,(t,r)=>{for(const[s,l]of r)e(s,l)})}isEmpty(){return ZS(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oN=new vt(Ee.comparator);function Ir(){return oN}const p1=new vt(Ee.comparator);function iu(...n){let e=p1;for(const t of n)e=e.insert(t.key,t);return e}function g1(n){let e=p1;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function ss(){return fu()}function v1(){return fu()}function fu(){return new bs(n=>n.toString(),(n,e)=>n.isEqual(e))}const lN=new vt(Ee.comparator),uN=new jt(Ee.comparator);function ze(...n){let e=uN;for(const t of n)e=e.add(t);return e}const cN=new jt(Ve);function hN(){return cN}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jg(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Zh(e)?"-0":e}}function y1(n){return{integerValue:""+n}}function fN(n,e){return UM(e)?y1(e):jg(n,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vf{constructor(){this._=void 0}}function dN(n,e,t){return n instanceof rf?function(s,l){const c={fields:{[t1]:{stringValue:e1},[i1]:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return l&&Vg(l)&&(l=Df(l)),l&&(c.fields[n1]=l),{mapValue:c}}(t,e):n instanceof Su?b1(n,e):n instanceof wu?E1(n,e):function(s,l){const c=_1(s,l),m=Xb(c)+Xb(s.Ee);return Lp(c)&&Lp(s.Ee)?y1(m):jg(s.serializer,m)}(n,e)}function mN(n,e,t){return n instanceof Su?b1(n,e):n instanceof wu?E1(n,e):t}function _1(n,e){return n instanceof af?function(r){return Lp(r)||function(l){return!!l&&"doubleValue"in l}(r)}(e)?e:{integerValue:0}:null}class rf extends Vf{}class Su extends Vf{constructor(e){super(),this.elements=e}}function b1(n,e){const t=T1(e);for(const r of n.elements)t.some(s=>zi(s,r))||t.push(r);return{arrayValue:{values:t}}}class wu extends Vf{constructor(e){super(),this.elements=e}}function E1(n,e){let t=T1(e);for(const r of n.elements)t=t.filter(s=>!zi(s,r));return{arrayValue:{values:t}}}class af extends Vf{constructor(e,t){super(),this.serializer=e,this.Ee=t}}function Xb(n){return At(n.integerValue||n.doubleValue)}function T1(n){return Pg(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}function pN(n,e){return n.field.isEqual(e.field)&&function(r,s){return r instanceof Su&&s instanceof Su||r instanceof wu&&s instanceof wu?Co(r.elements,s.elements,zi):r instanceof af&&s instanceof af?zi(r.Ee,s.Ee):r instanceof rf&&s instanceof rf}(n.transform,e.transform)}class gN{constructor(e,t){this.version=e,this.transformResults=t}}class br{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new br}static exists(e){return new br(void 0,e)}static updateTime(e){return new br(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Vh(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}class Pf{}function S1(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new A1(n.key,br.none()):new Uu(n.key,n.data,br.none());{const t=n.data,r=Yn.empty();let s=new jt(en.comparator);for(let l of e.fields)if(!s.has(l)){let c=t.field(l);c===null&&l.length>1&&(l=l.popLast(),c=t.field(l)),c===null?r.delete(l):r.set(l,c),s=s.add(l)}return new Es(n.key,r,new ai(s.toArray()),br.none())}}function vN(n,e,t){n instanceof Uu?function(s,l,c){const m=s.value.clone(),d=Zb(s.fieldTransforms,l,c.transformResults);m.setAll(d),l.convertToFoundDocument(c.version,m).setHasCommittedMutations()}(n,e,t):n instanceof Es?function(s,l,c){if(!Vh(s.precondition,l))return void l.convertToUnknownDocument(c.version);const m=Zb(s.fieldTransforms,l,c.transformResults),d=l.data;d.setAll(w1(s)),d.setAll(m),l.convertToFoundDocument(c.version,d).setHasCommittedMutations()}(n,e,t):function(s,l,c){l.convertToNoDocument(c.version).setHasCommittedMutations()}(0,e,t)}function du(n,e,t,r){return n instanceof Uu?function(l,c,m,d){if(!Vh(l.precondition,c))return m;const p=l.value.clone(),y=Jb(l.fieldTransforms,d,c);return p.setAll(y),c.convertToFoundDocument(c.version,p).setHasLocalMutations(),null}(n,e,t,r):n instanceof Es?function(l,c,m,d){if(!Vh(l.precondition,c))return m;const p=Jb(l.fieldTransforms,d,c),y=c.data;return y.setAll(w1(l)),y.setAll(p),c.convertToFoundDocument(c.version,y).setHasLocalMutations(),m===null?null:m.unionWith(l.fieldMask.fields).unionWith(l.fieldTransforms.map(E=>E.field))}(n,e,t,r):function(l,c,m){return Vh(l.precondition,c)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):m}(n,e,t)}function yN(n,e){let t=null;for(const r of n.fieldTransforms){const s=e.data.field(r.field),l=_1(r.transform,s||null);l!=null&&(t===null&&(t=Yn.empty()),t.set(r.field,l))}return t||null}function Wb(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!function(r,s){return r===void 0&&s===void 0||!(!r||!s)&&Co(r,s,(l,c)=>pN(l,c))}(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}class Uu extends Pf{constructor(e,t,r,s=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class Es extends Pf{constructor(e,t,r,s,l=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=s,this.fieldTransforms=l,this.type=1}getFieldMask(){return this.fieldMask}}function w1(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}}),e}function Zb(n,e,t){const r=new Map;et(n.length===t.length,32656,{Ae:t.length,Re:n.length});for(let s=0;s<t.length;s++){const l=n[s],c=l.transform,m=e.data.field(l.field);r.set(l.field,mN(c,m,t[s]))}return r}function Jb(n,e,t){const r=new Map;for(const s of n){const l=s.transform,c=t.data.field(s.field);r.set(s.field,dN(l,c,e))}return r}class A1 extends Pf{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class _N extends Pf{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bN{constructor(e,t,r,s){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=s}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let s=0;s<this.mutations.length;s++){const l=this.mutations[s];l.key.isEqual(e.key)&&vN(l,e,r[s])}}applyToLocalView(e,t){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(t=du(r,e,t,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(t=du(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const r=v1();return this.mutations.forEach(s=>{const l=e.get(s.key),c=l.overlayedDocument;let m=this.applyToLocalView(c,l.mutatedFields);m=t.has(s.key)?null:m;const d=S1(c,m);d!==null&&r.set(s.key,d),c.isValidDocument()||c.convertToNoDocument(De.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),ze())}isEqual(e){return this.batchId===e.batchId&&Co(this.mutations,e.mutations,(t,r)=>Wb(t,r))&&Co(this.baseMutations,e.baseMutations,(t,r)=>Wb(t,r))}}class zg{constructor(e,t,r,s){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=s}static from(e,t,r){et(e.mutations.length===r.length,58842,{Ve:e.mutations.length,me:r.length});let s=function(){return lN}();const l=e.mutations;for(let c=0;c<l.length;c++)s=s.insert(l[c].key,r[c].version);return new zg(e,t,r,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EN{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TN{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Dt,qe;function SN(n){switch(n){case ue.OK:return Ae(64938);case ue.CANCELLED:case ue.UNKNOWN:case ue.DEADLINE_EXCEEDED:case ue.RESOURCE_EXHAUSTED:case ue.INTERNAL:case ue.UNAVAILABLE:case ue.UNAUTHENTICATED:return!1;case ue.INVALID_ARGUMENT:case ue.NOT_FOUND:case ue.ALREADY_EXISTS:case ue.PERMISSION_DENIED:case ue.FAILED_PRECONDITION:case ue.ABORTED:case ue.OUT_OF_RANGE:case ue.UNIMPLEMENTED:case ue.DATA_LOSS:return!0;default:return Ae(15467,{code:n})}}function R1(n){if(n===void 0)return Rr("GRPC error has no .code"),ue.UNKNOWN;switch(n){case Dt.OK:return ue.OK;case Dt.CANCELLED:return ue.CANCELLED;case Dt.UNKNOWN:return ue.UNKNOWN;case Dt.DEADLINE_EXCEEDED:return ue.DEADLINE_EXCEEDED;case Dt.RESOURCE_EXHAUSTED:return ue.RESOURCE_EXHAUSTED;case Dt.INTERNAL:return ue.INTERNAL;case Dt.UNAVAILABLE:return ue.UNAVAILABLE;case Dt.UNAUTHENTICATED:return ue.UNAUTHENTICATED;case Dt.INVALID_ARGUMENT:return ue.INVALID_ARGUMENT;case Dt.NOT_FOUND:return ue.NOT_FOUND;case Dt.ALREADY_EXISTS:return ue.ALREADY_EXISTS;case Dt.PERMISSION_DENIED:return ue.PERMISSION_DENIED;case Dt.FAILED_PRECONDITION:return ue.FAILED_PRECONDITION;case Dt.ABORTED:return ue.ABORTED;case Dt.OUT_OF_RANGE:return ue.OUT_OF_RANGE;case Dt.UNIMPLEMENTED:return ue.UNIMPLEMENTED;case Dt.DATA_LOSS:return ue.DATA_LOSS;default:return Ae(39323,{code:n})}}(qe=Dt||(Dt={}))[qe.OK=0]="OK",qe[qe.CANCELLED=1]="CANCELLED",qe[qe.UNKNOWN=2]="UNKNOWN",qe[qe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",qe[qe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",qe[qe.NOT_FOUND=5]="NOT_FOUND",qe[qe.ALREADY_EXISTS=6]="ALREADY_EXISTS",qe[qe.PERMISSION_DENIED=7]="PERMISSION_DENIED",qe[qe.UNAUTHENTICATED=16]="UNAUTHENTICATED",qe[qe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",qe[qe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",qe[qe.ABORTED=10]="ABORTED",qe[qe.OUT_OF_RANGE=11]="OUT_OF_RANGE",qe[qe.UNIMPLEMENTED=12]="UNIMPLEMENTED",qe[qe.INTERNAL=13]="INTERNAL",qe[qe.UNAVAILABLE=14]="UNAVAILABLE",qe[qe.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wN=new ha([4294967295,4294967295],0);function eE(n){const e=QS().encode(n),t=new FS;return t.update(e),new Uint8Array(t.digest())}function tE(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),s=e.getUint32(8,!0),l=e.getUint32(12,!0);return[new ha([t,r],0),new ha([s,l],0)]}class Fg{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new ru(`Invalid padding: ${t}`);if(r<0)throw new ru(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new ru(`Invalid hash count: ${r}`);if(e.length===0&&t!==0)throw new ru(`Invalid padding when bitmap length is 0: ${t}`);this.fe=8*e.length-t,this.ge=ha.fromNumber(this.fe)}pe(e,t,r){let s=e.add(t.multiply(ha.fromNumber(r)));return s.compare(wN)===1&&(s=new ha([s.getBits(0),s.getBits(1)],0)),s.modulo(this.ge).toNumber()}ye(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.fe===0)return!1;const t=eE(e),[r,s]=tE(t);for(let l=0;l<this.hashCount;l++){const c=this.pe(r,s,l);if(!this.ye(c))return!1}return!0}static create(e,t,r){const s=e%8==0?0:8-e%8,l=new Uint8Array(Math.ceil(e/8)),c=new Fg(l,s,t);return r.forEach(m=>c.insert(m)),c}insert(e){if(this.fe===0)return;const t=eE(e),[r,s]=tE(t);for(let l=0;l<this.hashCount;l++){const c=this.pe(r,s,l);this.we(c)}}we(e){const t=Math.floor(e/8),r=e%8;this.bitmap[t]|=1<<r}}class ru extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kf{constructor(e,t,r,s,l){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=s,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(e,t,r){const s=new Map;return s.set(e,ju.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new kf(De.min(),s,new vt(Ve),Ir(),ze())}}class ju{constructor(e,t,r,s,l){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=s,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new ju(r,t,ze(),ze(),ze())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ph{constructor(e,t,r,s){this.Se=e,this.removedTargetIds=t,this.key=r,this.be=s}}class I1{constructor(e,t){this.targetId=e,this.De=t}}class C1{constructor(e,t,r=tn.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=s}}class nE{constructor(){this.ve=0,this.Ce=iE(),this.Fe=tn.EMPTY_BYTE_STRING,this.Me=!1,this.xe=!0}get current(){return this.Me}get resumeToken(){return this.Fe}get Oe(){return this.ve!==0}get Ne(){return this.xe}Be(e){e.approximateByteSize()>0&&(this.xe=!0,this.Fe=e)}Le(){let e=ze(),t=ze(),r=ze();return this.Ce.forEach((s,l)=>{switch(l){case 0:e=e.add(s);break;case 2:t=t.add(s);break;case 1:r=r.add(s);break;default:Ae(38017,{changeType:l})}}),new ju(this.Fe,this.Me,e,t,r)}ke(){this.xe=!1,this.Ce=iE()}qe(e,t){this.xe=!0,this.Ce=this.Ce.insert(e,t)}Qe(e){this.xe=!0,this.Ce=this.Ce.remove(e)}$e(){this.ve+=1}Ue(){this.ve-=1,et(this.ve>=0,3241,{ve:this.ve})}Ke(){this.xe=!0,this.Me=!0}}class AN{constructor(e){this.We=e,this.Ge=new Map,this.ze=Ir(),this.je=yh(),this.Je=yh(),this.He=new vt(Ve)}Ye(e){for(const t of e.Se)e.be&&e.be.isFoundDocument()?this.Ze(t,e.be):this.Xe(t,e.key,e.be);for(const t of e.removedTargetIds)this.Xe(t,e.key,e.be)}et(e){this.forEachTarget(e,t=>{const r=this.tt(t);switch(e.state){case 0:this.nt(t)&&r.Be(e.resumeToken);break;case 1:r.Ue(),r.Oe||r.ke(),r.Be(e.resumeToken);break;case 2:r.Ue(),r.Oe||this.removeTarget(t);break;case 3:this.nt(t)&&(r.Ke(),r.Be(e.resumeToken));break;case 4:this.nt(t)&&(this.rt(t),r.Be(e.resumeToken));break;default:Ae(56790,{state:e.state})}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Ge.forEach((r,s)=>{this.nt(s)&&t(s)})}it(e){const t=e.targetId,r=e.De.count,s=this.st(t);if(s){const l=s.target;if(jp(l))if(r===0){const c=new Ee(l.path);this.Xe(t,c,un.newNoDocument(c,De.min()))}else et(r===1,20013,{expectedCount:r});else{const c=this.ot(t);if(c!==r){const m=this._t(e),d=m?this.ut(m,e,c):1;if(d!==0){this.rt(t);const p=d===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.He=this.He.insert(t,p)}}}}}_t(e){const t=e.De.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:r="",padding:s=0},hashCount:l=0}=t;let c,m;try{c=va(r).toUint8Array()}catch(d){if(d instanceof JS)return ma("Decoding the base64 bloom filter in existence filter failed ("+d.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw d}try{m=new Fg(c,s,l)}catch(d){return ma(d instanceof ru?"BloomFilter error: ":"Applying bloom filter failed: ",d),null}return m.fe===0?null:m}ut(e,t,r){return t.De.count===r-this.ht(e,t.targetId)?0:2}ht(e,t){const r=this.We.getRemoteKeysForTarget(t);let s=0;return r.forEach(l=>{const c=this.We.lt(),m=`projects/${c.projectId}/databases/${c.database}/documents/${l.path.canonicalString()}`;e.mightContain(m)||(this.Xe(t,l,null),s++)}),s}Pt(e){const t=new Map;this.Ge.forEach((l,c)=>{const m=this.st(c);if(m){if(l.current&&jp(m.target)){const d=new Ee(m.target.path);this.Tt(d).has(c)||this.It(c,d)||this.Xe(c,d,un.newNoDocument(d,e))}l.Ne&&(t.set(c,l.Le()),l.ke())}});let r=ze();this.Je.forEach((l,c)=>{let m=!0;c.forEachWhile(d=>{const p=this.st(d);return!p||p.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)}),m&&(r=r.add(l))}),this.ze.forEach((l,c)=>c.setReadTime(e));const s=new kf(e,t,this.He,this.ze,r);return this.ze=Ir(),this.je=yh(),this.Je=yh(),this.He=new vt(Ve),s}Ze(e,t){if(!this.nt(e))return;const r=this.It(e,t.key)?2:0;this.tt(e).qe(t.key,r),this.ze=this.ze.insert(t.key,t),this.je=this.je.insert(t.key,this.Tt(t.key).add(e)),this.Je=this.Je.insert(t.key,this.dt(t.key).add(e))}Xe(e,t,r){if(!this.nt(e))return;const s=this.tt(e);this.It(e,t)?s.qe(t,1):s.Qe(t),this.Je=this.Je.insert(t,this.dt(t).delete(e)),this.Je=this.Je.insert(t,this.dt(t).add(e)),r&&(this.ze=this.ze.insert(t,r))}removeTarget(e){this.Ge.delete(e)}ot(e){const t=this.tt(e).Le();return this.We.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}$e(e){this.tt(e).$e()}tt(e){let t=this.Ge.get(e);return t||(t=new nE,this.Ge.set(e,t)),t}dt(e){let t=this.Je.get(e);return t||(t=new jt(Ve),this.Je=this.Je.insert(e,t)),t}Tt(e){let t=this.je.get(e);return t||(t=new jt(Ve),this.je=this.je.insert(e,t)),t}nt(e){const t=this.st(e)!==null;return t||fe("WatchChangeAggregator","Detected inactive target",e),t}st(e){const t=this.Ge.get(e);return t&&t.Oe?null:this.We.Et(e)}rt(e){this.Ge.set(e,new nE),this.We.getRemoteKeysForTarget(e).forEach(t=>{this.Xe(e,t,null)})}It(e,t){return this.We.getRemoteKeysForTarget(e).has(t)}}function yh(){return new vt(Ee.comparator)}function iE(){return new vt(Ee.comparator)}const RN={asc:"ASCENDING",desc:"DESCENDING"},IN={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},CN={and:"AND",or:"OR"};class ON{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function Fp(n,e){return n.useProto3Json||Of(e)?e:{value:e}}function sf(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function O1(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function DN(n,e){return sf(n,e.toTimestamp())}function Vi(n){return et(!!n,49232),De.fromTimestamp(function(t){const r=ga(t);return new ht(r.seconds,r.nanos)}(n))}function Bg(n,e){return Bp(n,e).canonicalString()}function Bp(n,e){const t=function(s){return new pt(["projects",s.projectId,"databases",s.database])}(n).child("documents");return e===void 0?t:t.child(e)}function D1(n){const e=pt.fromString(n);return et(P1(e),10190,{key:e.toString()}),e}function Hp(n,e){return Bg(n.databaseId,e.path)}function cp(n,e){const t=D1(e);if(t.get(1)!==n.databaseId.projectId)throw new ve(ue.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new ve(ue.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new Ee(M1(t))}function x1(n,e){return Bg(n.databaseId,e)}function xN(n){const e=D1(n);return e.length===4?pt.emptyPath():M1(e)}function qp(n){return new pt(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function M1(n){return et(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function rE(n,e,t){return{name:Hp(n,e),fields:t.value.mapValue.fields}}function MN(n,e){let t;if("targetChange"in e){e.targetChange;const r=function(p){return p==="NO_CHANGE"?0:p==="ADD"?1:p==="REMOVE"?2:p==="CURRENT"?3:p==="RESET"?4:Ae(39313,{state:p})}(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],l=function(p,y){return p.useProto3Json?(et(y===void 0||typeof y=="string",58123),tn.fromBase64String(y||"")):(et(y===void 0||y instanceof Buffer||y instanceof Uint8Array,16193),tn.fromUint8Array(y||new Uint8Array))}(n,e.targetChange.resumeToken),c=e.targetChange.cause,m=c&&function(p){const y=p.code===void 0?ue.UNKNOWN:R1(p.code);return new ve(y,p.message||"")}(c);t=new C1(r,s,l,m||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const s=cp(n,r.document.name),l=Vi(r.document.updateTime),c=r.document.createTime?Vi(r.document.createTime):De.min(),m=new Yn({mapValue:{fields:r.document.fields}}),d=un.newFoundDocument(s,l,c,m),p=r.targetIds||[],y=r.removedTargetIds||[];t=new Ph(p,y,d.key,d)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const s=cp(n,r.document),l=r.readTime?Vi(r.readTime):De.min(),c=un.newNoDocument(s,l),m=r.removedTargetIds||[];t=new Ph([],m,c.key,c)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const s=cp(n,r.document),l=r.removedTargetIds||[];t=new Ph([],l,s,null)}else{if(!("filter"in e))return Ae(11601,{At:e});{e.filter;const r=e.filter;r.targetId;const{count:s=0,unchangedNames:l}=r,c=new TN(s,l),m=r.targetId;t=new I1(m,c)}}return t}function NN(n,e){let t;if(e instanceof Uu)t={update:rE(n,e.key,e.value)};else if(e instanceof A1)t={delete:Hp(n,e.key)};else if(e instanceof Es)t={update:rE(n,e.key,e.data),updateMask:BN(e.fieldMask)};else{if(!(e instanceof _N))return Ae(16599,{Rt:e.type});t={verify:Hp(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(l,c){const m=c.transform;if(m instanceof rf)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof Su)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof wu)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof af)return{fieldPath:c.field.canonicalString(),increment:m.Ee};throw Ae(20930,{transform:c.transform})}(0,r))),e.precondition.isNone||(t.currentDocument=function(s,l){return l.updateTime!==void 0?{updateTime:DN(s,l.updateTime)}:l.exists!==void 0?{exists:l.exists}:Ae(27497)}(n,e.precondition)),t}function VN(n,e){return n&&n.length>0?(et(e!==void 0,14353),n.map(t=>function(s,l){let c=s.updateTime?Vi(s.updateTime):Vi(l);return c.isEqual(De.min())&&(c=Vi(l)),new gN(c,s.transformResults||[])}(t,e))):[]}function PN(n,e){return{documents:[x1(n,e.path)]}}function kN(n,e){const t={structuredQuery:{}},r=e.path;let s;e.collectionGroup!==null?(s=r,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(s=r.popLast(),t.structuredQuery.from=[{collectionId:r.lastSegment()}]),t.parent=x1(n,s);const l=function(p){if(p.length!==0)return V1(Fi.create(p,"and"))}(e.filters);l&&(t.structuredQuery.where=l);const c=function(p){if(p.length!==0)return p.map(y=>function(T){return{field:_o(T.field),direction:jN(T.dir)}}(y))}(e.orderBy);c&&(t.structuredQuery.orderBy=c);const m=Fp(n,e.limit);return m!==null&&(t.structuredQuery.limit=m),e.startAt&&(t.structuredQuery.startAt=function(p){return{before:p.inclusive,values:p.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(p){return{before:!p.inclusive,values:p.position}}(e.endAt)),{Vt:t,parent:s}}function LN(n){let e=xN(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let s=null;if(r>0){et(r===1,65062);const y=t.from[0];y.allDescendants?s=y.collectionId:e=e.child(y.collectionId)}let l=[];t.where&&(l=function(E){const T=N1(E);return T instanceof Fi&&u1(T)?T.getFilters():[T]}(t.where));let c=[];t.orderBy&&(c=function(E){return E.map(T=>function(C){return new nf(bo(C.field),function(I){switch(I){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(C.direction))}(T))}(t.orderBy));let m=null;t.limit&&(m=function(E){let T;return T=typeof E=="object"?E.value:E,Of(T)?null:T}(t.limit));let d=null;t.startAt&&(d=function(E){const T=!!E.before,R=E.values||[];return new tf(R,T)}(t.startAt));let p=null;return t.endAt&&(p=function(E){const T=!E.before,R=E.values||[];return new tf(R,T)}(t.endAt)),nN(e,s,c,l,m,"F",d,p)}function UN(n,e){const t=function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ae(28987,{purpose:s})}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function N1(n){return n.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":const r=bo(t.unaryFilter.field);return Ut.create(r,"==",{doubleValue:NaN});case"IS_NULL":const s=bo(t.unaryFilter.field);return Ut.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const l=bo(t.unaryFilter.field);return Ut.create(l,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=bo(t.unaryFilter.field);return Ut.create(c,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Ae(61313);default:return Ae(60726)}}(n):n.fieldFilter!==void 0?function(t){return Ut.create(bo(t.fieldFilter.field),function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Ae(58110);default:return Ae(50506)}}(t.fieldFilter.op),t.fieldFilter.value)}(n):n.compositeFilter!==void 0?function(t){return Fi.create(t.compositeFilter.filters.map(r=>N1(r)),function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return Ae(1026)}}(t.compositeFilter.op))}(n):Ae(30097,{filter:n})}function jN(n){return RN[n]}function zN(n){return IN[n]}function FN(n){return CN[n]}function _o(n){return{fieldPath:n.canonicalString()}}function bo(n){return en.fromServerFormat(n.fieldPath)}function V1(n){return n instanceof Ut?function(t){if(t.op==="=="){if($b(t.value))return{unaryFilter:{field:_o(t.field),op:"IS_NAN"}};if(qb(t.value))return{unaryFilter:{field:_o(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if($b(t.value))return{unaryFilter:{field:_o(t.field),op:"IS_NOT_NAN"}};if(qb(t.value))return{unaryFilter:{field:_o(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:_o(t.field),op:zN(t.op),value:t.value}}}(n):n instanceof Fi?function(t){const r=t.getFilters().map(s=>V1(s));return r.length===1?r[0]:{compositeFilter:{op:FN(t.op),filters:r}}}(n):Ae(54877,{filter:n})}function BN(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function P1(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class la{constructor(e,t,r,s,l=De.min(),c=De.min(),m=tn.EMPTY_BYTE_STRING,d=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=s,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=m,this.expectedCount=d}withSequenceNumber(e){return new la(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new la(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new la(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new la(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HN{constructor(e){this.gt=e}}function qN(n){const e=LN({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?zp(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $N{constructor(){this.Dn=new GN}addToCollectionParentIndex(e,t){return this.Dn.add(t),se.resolve()}getCollectionParents(e,t){return se.resolve(this.Dn.getEntries(t))}addFieldIndex(e,t){return se.resolve()}deleteFieldIndex(e,t){return se.resolve()}deleteAllFieldIndexes(e){return se.resolve()}createTargetIndexes(e,t){return se.resolve()}getDocumentsMatchingTarget(e,t){return se.resolve(null)}getIndexType(e,t){return se.resolve(0)}getFieldIndexes(e,t){return se.resolve([])}getNextCollectionGroupToUpdate(e){return se.resolve(null)}getMinOffset(e,t){return se.resolve(pa.min())}getMinOffsetFromCollectionGroup(e,t){return se.resolve(pa.min())}updateCollectionGroup(e,t,r){return se.resolve()}updateIndexEntries(e,t){return se.resolve()}}class GN{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),s=this.index[t]||new jt(pt.comparator),l=!s.has(r);return this.index[t]=s.add(r),l}has(e){const t=e.lastSegment(),r=e.popLast(),s=this.index[t];return s&&s.has(r)}getEntries(e){return(this.index[e]||new jt(pt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aE={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},k1=41943040;class _n{static withCacheSize(e){return new _n(e,_n.DEFAULT_COLLECTION_PERCENTILE,_n.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */_n.DEFAULT_COLLECTION_PERCENTILE=10,_n.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,_n.DEFAULT=new _n(k1,_n.DEFAULT_COLLECTION_PERCENTILE,_n.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),_n.DISABLED=new _n(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xo{constructor(e){this._r=e}next(){return this._r+=2,this._r}static ar(){return new xo(0)}static ur(){return new xo(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sE="LruGarbageCollector",KN=1048576;function oE([n,e],[t,r]){const s=Ve(n,t);return s===0?Ve(e,r):s}class YN{constructor(e){this.Tr=e,this.buffer=new jt(oE),this.Ir=0}dr(){return++this.Ir}Er(e){const t=[e,this.dr()];if(this.buffer.size<this.Tr)this.buffer=this.buffer.add(t);else{const r=this.buffer.last();oE(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}}class QN{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.Ar=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Rr(6e4)}stop(){this.Ar&&(this.Ar.cancel(),this.Ar=null)}get started(){return this.Ar!==null}Rr(e){fe(sE,`Garbage collection scheduled in ${e}ms`),this.Ar=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Ar=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){zo(t)?fe(sE,"Ignoring IndexedDB error during garbage collection: ",t):await jo(t)}await this.Rr(3e5)})}}class XN{constructor(e,t){this.Vr=e,this.params=t}calculateTargetCount(e,t){return this.Vr.mr(e).next(r=>Math.floor(t/100*r))}nthSequenceNumber(e,t){if(t===0)return se.resolve(Cf.ue);const r=new YN(t);return this.Vr.forEachTarget(e,s=>r.Er(s.sequenceNumber)).next(()=>this.Vr.gr(e,s=>r.Er(s))).next(()=>r.maxValue)}removeTargets(e,t,r){return this.Vr.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.Vr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(fe("LruGarbageCollector","Garbage collection skipped; disabled"),se.resolve(aE)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(fe("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),aE):this.pr(e,t))}getCacheSize(e){return this.Vr.getCacheSize(e)}pr(e,t){let r,s,l,c,m,d,p;const y=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(E=>(E>this.params.maximumSequenceNumbersToCollect?(fe("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${E}`),s=this.params.maximumSequenceNumbersToCollect):s=E,c=Date.now(),this.nthSequenceNumber(e,s))).next(E=>(r=E,m=Date.now(),this.removeTargets(e,r,t))).next(E=>(l=E,d=Date.now(),this.removeOrphanedDocuments(e,r))).next(E=>(p=Date.now(),vo()<=je.DEBUG&&fe("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${c-y}ms
	Determined least recently used ${s} in `+(m-c)+`ms
	Removed ${l} targets in `+(d-m)+`ms
	Removed ${E} documents in `+(p-d)+`ms
Total Duration: ${p-y}ms`),se.resolve({didRun:!0,sequenceNumbersCollected:s,targetsRemoved:l,documentsRemoved:E})))}}function WN(n,e){return new XN(n,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZN{constructor(){this.changes=new bs(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,un.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return r!==void 0?se.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JN{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e4{constructor(e,t,r,s){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=s}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(s=>(r=s,this.remoteDocumentCache.getEntry(e,t))).next(s=>(r!==null&&du(r.mutation,s,ai.empty(),ht.now()),s))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,ze()).next(()=>r))}getLocalViewOfDocuments(e,t,r=ze()){const s=ss();return this.populateOverlays(e,s,t).next(()=>this.computeViews(e,t,s,r).next(l=>{let c=iu();return l.forEach((m,d)=>{c=c.insert(m,d.overlayedDocument)}),c}))}getOverlayedDocuments(e,t){const r=ss();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,ze()))}populateOverlays(e,t,r){const s=[];return r.forEach(l=>{t.has(l)||s.push(l)}),this.documentOverlayCache.getOverlays(e,s).next(l=>{l.forEach((c,m)=>{t.set(c,m)})})}computeViews(e,t,r,s){let l=Ir();const c=fu(),m=function(){return fu()}();return t.forEach((d,p)=>{const y=r.get(p.key);s.has(p.key)&&(y===void 0||y.mutation instanceof Es)?l=l.insert(p.key,p):y!==void 0?(c.set(p.key,y.mutation.getFieldMask()),du(y.mutation,p,y.mutation.getFieldMask(),ht.now())):c.set(p.key,ai.empty())}),this.recalculateAndSaveOverlays(e,l).next(d=>(d.forEach((p,y)=>c.set(p,y)),t.forEach((p,y)=>{var E;return m.set(p,new JN(y,(E=c.get(p))!==null&&E!==void 0?E:null))}),m))}recalculateAndSaveOverlays(e,t){const r=fu();let s=new vt((c,m)=>c-m),l=ze();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(c=>{for(const m of c)m.keys().forEach(d=>{const p=t.get(d);if(p===null)return;let y=r.get(d)||ai.empty();y=m.applyToLocalView(p,y),r.set(d,y);const E=(s.get(m.batchId)||ze()).add(d);s=s.insert(m.batchId,E)})}).next(()=>{const c=[],m=s.getReverseIterator();for(;m.hasNext();){const d=m.getNext(),p=d.key,y=d.value,E=v1();y.forEach(T=>{if(!l.has(T)){const R=S1(t.get(T),r.get(T));R!==null&&E.set(T,R),l=l.add(T)}}),c.push(this.documentOverlayCache.saveOverlays(e,p,E))}return se.waitFor(c)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r,s){return function(c){return Ee.isDocumentKey(c.path)&&c.collectionGroup===null&&c.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):iN(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r,s):this.getDocumentsMatchingCollectionQuery(e,t,r,s)}getNextDocuments(e,t,r,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,s).next(l=>{const c=s-l.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,s-l.size):se.resolve(ss());let m=_u,d=l;return c.next(p=>se.forEach(p,(y,E)=>(m<E.largestBatchId&&(m=E.largestBatchId),l.get(y)?se.resolve():this.remoteDocumentCache.getEntry(e,y).next(T=>{d=d.insert(y,T)}))).next(()=>this.populateOverlays(e,p,l)).next(()=>this.computeViews(e,d,p,ze())).next(y=>({batchId:m,changes:g1(y)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Ee(t)).next(r=>{let s=iu();return r.isFoundDocument()&&(s=s.insert(r.key,r)),s})}getDocumentsMatchingCollectionGroupQuery(e,t,r,s){const l=t.collectionGroup;let c=iu();return this.indexManager.getCollectionParents(e,l).next(m=>se.forEach(m,d=>{const p=function(E,T){return new xf(T,null,E.explicitOrderBy.slice(),E.filters.slice(),E.limit,E.limitType,E.startAt,E.endAt)}(t,d.child(l));return this.getDocumentsMatchingCollectionQuery(e,p,r,s).next(y=>{y.forEach((E,T)=>{c=c.insert(E,T)})})}).next(()=>c))}getDocumentsMatchingCollectionQuery(e,t,r,s){let l;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next(c=>(l=c,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,l,s))).next(c=>{l.forEach((d,p)=>{const y=p.getKey();c.get(y)===null&&(c=c.insert(y,un.newInvalidDocument(y)))});let m=iu();return c.forEach((d,p)=>{const y=l.get(d);y!==void 0&&du(y.mutation,p,ai.empty(),ht.now()),Nf(t,p)&&(m=m.insert(d,p))}),m})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t4{constructor(e){this.serializer=e,this.Br=new Map,this.Lr=new Map}getBundleMetadata(e,t){return se.resolve(this.Br.get(t))}saveBundleMetadata(e,t){return this.Br.set(t.id,function(s){return{id:s.id,version:s.version,createTime:Vi(s.createTime)}}(t)),se.resolve()}getNamedQuery(e,t){return se.resolve(this.Lr.get(t))}saveNamedQuery(e,t){return this.Lr.set(t.name,function(s){return{name:s.name,query:qN(s.bundledQuery),readTime:Vi(s.readTime)}}(t)),se.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n4{constructor(){this.overlays=new vt(Ee.comparator),this.kr=new Map}getOverlay(e,t){return se.resolve(this.overlays.get(t))}getOverlays(e,t){const r=ss();return se.forEach(t,s=>this.getOverlay(e,s).next(l=>{l!==null&&r.set(s,l)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((s,l)=>{this.wt(e,t,l)}),se.resolve()}removeOverlaysForBatchId(e,t,r){const s=this.kr.get(r);return s!==void 0&&(s.forEach(l=>this.overlays=this.overlays.remove(l)),this.kr.delete(r)),se.resolve()}getOverlaysForCollection(e,t,r){const s=ss(),l=t.length+1,c=new Ee(t.child("")),m=this.overlays.getIteratorFrom(c);for(;m.hasNext();){const d=m.getNext().value,p=d.getKey();if(!t.isPrefixOf(p.path))break;p.path.length===l&&d.largestBatchId>r&&s.set(d.getKey(),d)}return se.resolve(s)}getOverlaysForCollectionGroup(e,t,r,s){let l=new vt((p,y)=>p-y);const c=this.overlays.getIterator();for(;c.hasNext();){const p=c.getNext().value;if(p.getKey().getCollectionGroup()===t&&p.largestBatchId>r){let y=l.get(p.largestBatchId);y===null&&(y=ss(),l=l.insert(p.largestBatchId,y)),y.set(p.getKey(),p)}}const m=ss(),d=l.getIterator();for(;d.hasNext()&&(d.getNext().value.forEach((p,y)=>m.set(p,y)),!(m.size()>=s)););return se.resolve(m)}wt(e,t,r){const s=this.overlays.get(r.key);if(s!==null){const c=this.kr.get(s.largestBatchId).delete(r.key);this.kr.set(s.largestBatchId,c)}this.overlays=this.overlays.insert(r.key,new EN(t,r));let l=this.kr.get(t);l===void 0&&(l=ze(),this.kr.set(t,l)),this.kr.set(t,l.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i4{constructor(){this.sessionToken=tn.EMPTY_BYTE_STRING}getSessionToken(e){return se.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,se.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hg{constructor(){this.qr=new jt($t.Qr),this.$r=new jt($t.Ur)}isEmpty(){return this.qr.isEmpty()}addReference(e,t){const r=new $t(e,t);this.qr=this.qr.add(r),this.$r=this.$r.add(r)}Kr(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.Wr(new $t(e,t))}Gr(e,t){e.forEach(r=>this.removeReference(r,t))}zr(e){const t=new Ee(new pt([])),r=new $t(t,e),s=new $t(t,e+1),l=[];return this.$r.forEachInRange([r,s],c=>{this.Wr(c),l.push(c.key)}),l}jr(){this.qr.forEach(e=>this.Wr(e))}Wr(e){this.qr=this.qr.delete(e),this.$r=this.$r.delete(e)}Jr(e){const t=new Ee(new pt([])),r=new $t(t,e),s=new $t(t,e+1);let l=ze();return this.$r.forEachInRange([r,s],c=>{l=l.add(c.key)}),l}containsKey(e){const t=new $t(e,0),r=this.qr.firstAfterOrEqual(t);return r!==null&&e.isEqual(r.key)}}class $t{constructor(e,t){this.key=e,this.Hr=t}static Qr(e,t){return Ee.comparator(e.key,t.key)||Ve(e.Hr,t.Hr)}static Ur(e,t){return Ve(e.Hr,t.Hr)||Ee.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r4{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.er=1,this.Yr=new jt($t.Qr)}checkEmpty(e){return se.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,r,s){const l=this.er;this.er++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const c=new bN(l,t,r,s);this.mutationQueue.push(c);for(const m of s)this.Yr=this.Yr.add(new $t(m.key,l)),this.indexManager.addToCollectionParentIndex(e,m.key.path.popLast());return se.resolve(c)}lookupMutationBatch(e,t){return se.resolve(this.Zr(t))}getNextMutationBatchAfterBatchId(e,t){const r=t+1,s=this.Xr(r),l=s<0?0:s;return se.resolve(this.mutationQueue.length>l?this.mutationQueue[l]:null)}getHighestUnacknowledgedBatchId(){return se.resolve(this.mutationQueue.length===0?Ng:this.er-1)}getAllMutationBatches(e){return se.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new $t(t,0),s=new $t(t,Number.POSITIVE_INFINITY),l=[];return this.Yr.forEachInRange([r,s],c=>{const m=this.Zr(c.Hr);l.push(m)}),se.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new jt(Ve);return t.forEach(s=>{const l=new $t(s,0),c=new $t(s,Number.POSITIVE_INFINITY);this.Yr.forEachInRange([l,c],m=>{r=r.add(m.Hr)})}),se.resolve(this.ei(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,s=r.length+1;let l=r;Ee.isDocumentKey(l)||(l=l.child(""));const c=new $t(new Ee(l),0);let m=new jt(Ve);return this.Yr.forEachWhile(d=>{const p=d.key.path;return!!r.isPrefixOf(p)&&(p.length===s&&(m=m.add(d.Hr)),!0)},c),se.resolve(this.ei(m))}ei(e){const t=[];return e.forEach(r=>{const s=this.Zr(r);s!==null&&t.push(s)}),t}removeMutationBatch(e,t){et(this.ti(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Yr;return se.forEach(t.mutations,s=>{const l=new $t(s.key,t.batchId);return r=r.delete(l),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)}).next(()=>{this.Yr=r})}rr(e){}containsKey(e,t){const r=new $t(t,0),s=this.Yr.firstAfterOrEqual(r);return se.resolve(t.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,se.resolve()}ti(e,t){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){const t=this.Xr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a4{constructor(e){this.ni=e,this.docs=function(){return new vt(Ee.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,s=this.docs.get(r),l=s?s.size:0,c=this.ni(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:c}),this.size+=c-l,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return se.resolve(r?r.document.mutableCopy():un.newInvalidDocument(t))}getEntries(e,t){let r=Ir();return t.forEach(s=>{const l=this.docs.get(s);r=r.insert(s,l?l.document.mutableCopy():un.newInvalidDocument(s))}),se.resolve(r)}getDocumentsMatchingQuery(e,t,r,s){let l=Ir();const c=t.path,m=new Ee(c.child("__id-9223372036854775808__")),d=this.docs.getIteratorFrom(m);for(;d.hasNext();){const{key:p,value:{document:y}}=d.getNext();if(!c.isPrefixOf(p.path))break;p.path.length>c.length+1||VM(NM(y),r)<=0||(s.has(y.key)||Nf(t,y))&&(l=l.insert(y.key,y.mutableCopy()))}return se.resolve(l)}getAllFromCollectionGroup(e,t,r,s){Ae(9500)}ri(e,t){return se.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new s4(this)}getSize(e){return se.resolve(this.size)}}class s4 extends ZN{constructor(e){super(),this.Or=e}applyChanges(e){const t=[];return this.changes.forEach((r,s)=>{s.isValidDocument()?t.push(this.Or.addEntry(e,s)):this.Or.removeEntry(r)}),se.waitFor(t)}getFromCache(e,t){return this.Or.getEntry(e,t)}getAllFromCache(e,t){return this.Or.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o4{constructor(e){this.persistence=e,this.ii=new bs(t=>kg(t),Lg),this.lastRemoteSnapshotVersion=De.min(),this.highestTargetId=0,this.si=0,this.oi=new Hg,this.targetCount=0,this._i=xo.ar()}forEachTarget(e,t){return this.ii.forEach((r,s)=>t(s)),se.resolve()}getLastRemoteSnapshotVersion(e){return se.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return se.resolve(this.si)}allocateTargetId(e){return this.highestTargetId=this._i.next(),se.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.si&&(this.si=t),se.resolve()}hr(e){this.ii.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this._i=new xo(t),this.highestTargetId=t),e.sequenceNumber>this.si&&(this.si=e.sequenceNumber)}addTargetData(e,t){return this.hr(t),this.targetCount+=1,se.resolve()}updateTargetData(e,t){return this.hr(t),se.resolve()}removeTargetData(e,t){return this.ii.delete(t.target),this.oi.zr(t.targetId),this.targetCount-=1,se.resolve()}removeTargets(e,t,r){let s=0;const l=[];return this.ii.forEach((c,m)=>{m.sequenceNumber<=t&&r.get(m.targetId)===null&&(this.ii.delete(c),l.push(this.removeMatchingKeysForTargetId(e,m.targetId)),s++)}),se.waitFor(l).next(()=>s)}getTargetCount(e){return se.resolve(this.targetCount)}getTargetData(e,t){const r=this.ii.get(t)||null;return se.resolve(r)}addMatchingKeys(e,t,r){return this.oi.Kr(t,r),se.resolve()}removeMatchingKeys(e,t,r){this.oi.Gr(t,r);const s=this.persistence.referenceDelegate,l=[];return s&&t.forEach(c=>{l.push(s.markPotentiallyOrphaned(e,c))}),se.waitFor(l)}removeMatchingKeysForTargetId(e,t){return this.oi.zr(t),se.resolve()}getMatchingKeysForTargetId(e,t){const r=this.oi.Jr(t);return se.resolve(r)}containsKey(e,t){return se.resolve(this.oi.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L1{constructor(e,t){this.ai={},this.overlays={},this.ui=new Cf(0),this.ci=!1,this.ci=!0,this.li=new i4,this.referenceDelegate=e(this),this.hi=new o4(this),this.indexManager=new $N,this.remoteDocumentCache=function(s){return new a4(s)}(r=>this.referenceDelegate.Pi(r)),this.serializer=new HN(t),this.Ti=new t4(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ci=!1,Promise.resolve()}get started(){return this.ci}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new n4,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.ai[e.toKey()];return r||(r=new r4(t,this.referenceDelegate),this.ai[e.toKey()]=r),r}getGlobalsCache(){return this.li}getTargetCache(){return this.hi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ti}runTransaction(e,t,r){fe("MemoryPersistence","Starting transaction:",e);const s=new l4(this.ui.next());return this.referenceDelegate.Ii(),r(s).next(l=>this.referenceDelegate.di(s).next(()=>l)).toPromise().then(l=>(s.raiseOnCommittedEvent(),l))}Ei(e,t){return se.or(Object.values(this.ai).map(r=>()=>r.containsKey(e,t)))}}class l4 extends kM{constructor(e){super(),this.currentSequenceNumber=e}}class qg{constructor(e){this.persistence=e,this.Ai=new Hg,this.Ri=null}static Vi(e){return new qg(e)}get mi(){if(this.Ri)return this.Ri;throw Ae(60996)}addReference(e,t,r){return this.Ai.addReference(r,t),this.mi.delete(r.toString()),se.resolve()}removeReference(e,t,r){return this.Ai.removeReference(r,t),this.mi.add(r.toString()),se.resolve()}markPotentiallyOrphaned(e,t){return this.mi.add(t.toString()),se.resolve()}removeTarget(e,t){this.Ai.zr(t.targetId).forEach(s=>this.mi.add(s.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(s=>{s.forEach(l=>this.mi.add(l.toString()))}).next(()=>r.removeTargetData(e,t))}Ii(){this.Ri=new Set}di(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return se.forEach(this.mi,r=>{const s=Ee.fromPath(r);return this.fi(e,s).next(l=>{l||t.removeEntry(s,De.min())})}).next(()=>(this.Ri=null,t.apply(e)))}updateLimboDocument(e,t){return this.fi(e,t).next(r=>{r?this.mi.delete(t.toString()):this.mi.add(t.toString())})}Pi(e){return 0}fi(e,t){return se.or([()=>se.resolve(this.Ai.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ei(e,t)])}}class of{constructor(e,t){this.persistence=e,this.gi=new bs(r=>jM(r.path),(r,s)=>r.isEqual(s)),this.garbageCollector=WN(this,t)}static Vi(e,t){return new of(e,t)}Ii(){}di(e){return se.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}mr(e){const t=this.yr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>t.next(s=>r+s))}yr(e){let t=0;return this.gr(e,r=>{t++}).next(()=>t)}gr(e,t){return se.forEach(this.gi,(r,s)=>this.Sr(e,r,s).next(l=>l?se.resolve():t(s)))}removeTargets(e,t,r){return this.persistence.getTargetCache().removeTargets(e,t,r)}removeOrphanedDocuments(e,t){let r=0;const s=this.persistence.getRemoteDocumentCache(),l=s.newChangeBuffer();return s.ri(e,c=>this.Sr(e,c,t).next(m=>{m||(r++,l.removeEntry(c,De.min()))})).next(()=>l.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,t){return this.gi.set(t,e.currentSequenceNumber),se.resolve()}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,t,r){return this.gi.set(r,e.currentSequenceNumber),se.resolve()}removeReference(e,t,r){return this.gi.set(r,e.currentSequenceNumber),se.resolve()}updateLimboDocument(e,t){return this.gi.set(t,e.currentSequenceNumber),se.resolve()}Pi(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=Mh(e.data.value)),t}Sr(e,t,r){return se.or([()=>this.persistence.Ei(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const s=this.gi.get(t);return se.resolve(s!==void 0&&s>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $g{constructor(e,t,r,s){this.targetId=e,this.fromCache=t,this.Is=r,this.ds=s}static Es(e,t){let r=ze(),s=ze();for(const l of t.docChanges)switch(l.type){case 0:r=r.add(l.doc.key);break;case 1:s=s.add(l.doc.key)}return new $g(e,t.fromCache,r,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u4{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c4{constructor(){this.As=!1,this.Rs=!1,this.Vs=100,this.fs=function(){return NI()?8:LM(cn())>0?6:4}()}initialize(e,t){this.gs=e,this.indexManager=t,this.As=!0}getDocumentsMatchingQuery(e,t,r,s){const l={result:null};return this.ps(e,t).next(c=>{l.result=c}).next(()=>{if(!l.result)return this.ys(e,t,s,r).next(c=>{l.result=c})}).next(()=>{if(l.result)return;const c=new u4;return this.ws(e,t,c).next(m=>{if(l.result=m,this.Rs)return this.Ss(e,t,c,m.size)})}).next(()=>l.result)}Ss(e,t,r,s){return r.documentReadCount<this.Vs?(vo()<=je.DEBUG&&fe("QueryEngine","SDK will not create cache indexes for query:",yo(t),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),se.resolve()):(vo()<=je.DEBUG&&fe("QueryEngine","Query:",yo(t),"scans",r.documentReadCount,"local documents and returns",s,"documents as results."),r.documentReadCount>this.fs*s?(vo()<=je.DEBUG&&fe("QueryEngine","The SDK decides to create cache indexes for query:",yo(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Ni(t))):se.resolve())}ps(e,t){if(Qb(t))return se.resolve(null);let r=Ni(t);return this.indexManager.getIndexType(e,r).next(s=>s===0?null:(t.limit!==null&&s===1&&(t=zp(t,null,"F"),r=Ni(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(l=>{const c=ze(...l);return this.gs.getDocuments(e,c).next(m=>this.indexManager.getMinOffset(e,r).next(d=>{const p=this.bs(t,m);return this.Ds(t,p,c,d.readTime)?this.ps(e,zp(t,null,"F")):this.vs(e,p,t,d)}))})))}ys(e,t,r,s){return Qb(t)||s.isEqual(De.min())?se.resolve(null):this.gs.getDocuments(e,r).next(l=>{const c=this.bs(t,l);return this.Ds(t,c,r,s)?se.resolve(null):(vo()<=je.DEBUG&&fe("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),yo(t)),this.vs(e,c,t,MM(s,_u)).next(m=>m))})}bs(e,t){let r=new jt(m1(e));return t.forEach((s,l)=>{Nf(e,l)&&(r=r.add(l))}),r}Ds(e,t,r,s){if(e.limit===null)return!1;if(r.size!==t.size)return!0;const l=e.limitType==="F"?t.last():t.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(s)>0)}ws(e,t,r){return vo()<=je.DEBUG&&fe("QueryEngine","Using full collection scan to execute query:",yo(t)),this.gs.getDocumentsMatchingQuery(e,t,pa.min(),r)}vs(e,t,r,s){return this.gs.getDocumentsMatchingQuery(e,r,s).next(l=>(t.forEach(c=>{l=l.insert(c.key,c)}),l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gg="LocalStore",h4=3e8;class f4{constructor(e,t,r,s){this.persistence=e,this.Cs=t,this.serializer=s,this.Fs=new vt(Ve),this.Ms=new bs(l=>kg(l),Lg),this.xs=new Map,this.Os=e.getRemoteDocumentCache(),this.hi=e.getTargetCache(),this.Ti=e.getBundleCache(),this.Ns(r)}Ns(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new e4(this.Os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Os.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Fs))}}function d4(n,e,t,r){return new f4(n,e,t,r)}async function U1(n,e){const t=xe(n);return await t.persistence.runTransaction("Handle user change","readonly",r=>{let s;return t.mutationQueue.getAllMutationBatches(r).next(l=>(s=l,t.Ns(e),t.mutationQueue.getAllMutationBatches(r))).next(l=>{const c=[],m=[];let d=ze();for(const p of s){c.push(p.batchId);for(const y of p.mutations)d=d.add(y.key)}for(const p of l){m.push(p.batchId);for(const y of p.mutations)d=d.add(y.key)}return t.localDocuments.getDocuments(r,d).next(p=>({Bs:p,removedBatchIds:c,addedBatchIds:m}))})})}function m4(n,e){const t=xe(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const s=e.batch.keys(),l=t.Os.newChangeBuffer({trackRemovals:!0});return function(m,d,p,y){const E=p.batch,T=E.keys();let R=se.resolve();return T.forEach(C=>{R=R.next(()=>y.getEntry(d,C)).next(N=>{const I=p.docVersions.get(C);et(I!==null,48541),N.version.compareTo(I)<0&&(E.applyToRemoteDocument(N,p),N.isValidDocument()&&(N.setReadTime(p.commitVersion),y.addEntry(N)))})}),R.next(()=>m.mutationQueue.removeMutationBatch(d,E))}(t,r,e,l).next(()=>l.apply(r)).next(()=>t.mutationQueue.performConsistencyCheck(r)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(r,s,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(m){let d=ze();for(let p=0;p<m.mutationResults.length;++p)m.mutationResults[p].transformResults.length>0&&(d=d.add(m.batch.mutations[p].key));return d}(e))).next(()=>t.localDocuments.getDocuments(r,s))})}function j1(n){const e=xe(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.hi.getLastRemoteSnapshotVersion(t))}function p4(n,e){const t=xe(n),r=e.snapshotVersion;let s=t.Fs;return t.persistence.runTransaction("Apply remote event","readwrite-primary",l=>{const c=t.Os.newChangeBuffer({trackRemovals:!0});s=t.Fs;const m=[];e.targetChanges.forEach((y,E)=>{const T=s.get(E);if(!T)return;m.push(t.hi.removeMatchingKeys(l,y.removedDocuments,E).next(()=>t.hi.addMatchingKeys(l,y.addedDocuments,E)));let R=T.withSequenceNumber(l.currentSequenceNumber);e.targetMismatches.get(E)!==null?R=R.withResumeToken(tn.EMPTY_BYTE_STRING,De.min()).withLastLimboFreeSnapshotVersion(De.min()):y.resumeToken.approximateByteSize()>0&&(R=R.withResumeToken(y.resumeToken,r)),s=s.insert(E,R),function(N,I,M){return N.resumeToken.approximateByteSize()===0||I.snapshotVersion.toMicroseconds()-N.snapshotVersion.toMicroseconds()>=h4?!0:M.addedDocuments.size+M.modifiedDocuments.size+M.removedDocuments.size>0}(T,R,y)&&m.push(t.hi.updateTargetData(l,R))});let d=Ir(),p=ze();if(e.documentUpdates.forEach(y=>{e.resolvedLimboDocuments.has(y)&&m.push(t.persistence.referenceDelegate.updateLimboDocument(l,y))}),m.push(g4(l,c,e.documentUpdates).next(y=>{d=y.Ls,p=y.ks})),!r.isEqual(De.min())){const y=t.hi.getLastRemoteSnapshotVersion(l).next(E=>t.hi.setTargetsMetadata(l,l.currentSequenceNumber,r));m.push(y)}return se.waitFor(m).next(()=>c.apply(l)).next(()=>t.localDocuments.getLocalViewOfDocuments(l,d,p)).next(()=>d)}).then(l=>(t.Fs=s,l))}function g4(n,e,t){let r=ze(),s=ze();return t.forEach(l=>r=r.add(l)),e.getEntries(n,r).next(l=>{let c=Ir();return t.forEach((m,d)=>{const p=l.get(m);d.isFoundDocument()!==p.isFoundDocument()&&(s=s.add(m)),d.isNoDocument()&&d.version.isEqual(De.min())?(e.removeEntry(m,d.readTime),c=c.insert(m,d)):!p.isValidDocument()||d.version.compareTo(p.version)>0||d.version.compareTo(p.version)===0&&p.hasPendingWrites?(e.addEntry(d),c=c.insert(m,d)):fe(Gg,"Ignoring outdated watch update for ",m,". Current version:",p.version," Watch version:",d.version)}),{Ls:c,ks:s}})}function v4(n,e){const t=xe(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=Ng),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function y4(n,e){const t=xe(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let s;return t.hi.getTargetData(r,e).next(l=>l?(s=l,se.resolve(s)):t.hi.allocateTargetId(r).next(c=>(s=new la(e,c,"TargetPurposeListen",r.currentSequenceNumber),t.hi.addTargetData(r,s).next(()=>s))))}).then(r=>{const s=t.Fs.get(r.targetId);return(s===null||r.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(t.Fs=t.Fs.insert(r.targetId,r),t.Ms.set(e,r.targetId)),r})}async function $p(n,e,t){const r=xe(n),s=r.Fs.get(e),l=t?"readwrite":"readwrite-primary";try{t||await r.persistence.runTransaction("Release target",l,c=>r.persistence.referenceDelegate.removeTarget(c,s))}catch(c){if(!zo(c))throw c;fe(Gg,`Failed to update sequence numbers for target ${e}: ${c}`)}r.Fs=r.Fs.remove(e),r.Ms.delete(s.target)}function lE(n,e,t){const r=xe(n);let s=De.min(),l=ze();return r.persistence.runTransaction("Execute query","readwrite",c=>function(d,p,y){const E=xe(d),T=E.Ms.get(y);return T!==void 0?se.resolve(E.Fs.get(T)):E.hi.getTargetData(p,y)}(r,c,Ni(e)).next(m=>{if(m)return s=m.lastLimboFreeSnapshotVersion,r.hi.getMatchingKeysForTargetId(c,m.targetId).next(d=>{l=d})}).next(()=>r.Cs.getDocumentsMatchingQuery(c,e,t?s:De.min(),t?l:ze())).next(m=>(_4(r,aN(e),m),{documents:m,qs:l})))}function _4(n,e,t){let r=n.xs.get(e)||De.min();t.forEach((s,l)=>{l.readTime.compareTo(r)>0&&(r=l.readTime)}),n.xs.set(e,r)}class uE{constructor(){this.activeTargetIds=hN()}Gs(e){this.activeTargetIds=this.activeTargetIds.add(e)}zs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class b4{constructor(){this.Fo=new uE,this.Mo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e,t=!0){return t&&this.Fo.Gs(e),this.Mo[e]||"not-current"}updateQueryState(e,t,r){this.Mo[e]=t}removeLocalQueryTarget(e){this.Fo.zs(e)}isLocalQueryTarget(e){return this.Fo.activeTargetIds.has(e)}clearQueryState(e){delete this.Mo[e]}getAllActiveQueryTargets(){return this.Fo.activeTargetIds}isActiveQueryTarget(e){return this.Fo.activeTargetIds.has(e)}start(){return this.Fo=new uE,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E4{xo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cE="ConnectivityMonitor";class hE{constructor(){this.Oo=()=>this.No(),this.Bo=()=>this.Lo(),this.ko=[],this.qo()}xo(e){this.ko.push(e)}shutdown(){window.removeEventListener("online",this.Oo),window.removeEventListener("offline",this.Bo)}qo(){window.addEventListener("online",this.Oo),window.addEventListener("offline",this.Bo)}No(){fe(cE,"Network connectivity changed: AVAILABLE");for(const e of this.ko)e(0)}Lo(){fe(cE,"Network connectivity changed: UNAVAILABLE");for(const e of this.ko)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let _h=null;function Gp(){return _h===null?_h=function(){return 268435456+Math.round(2147483648*Math.random())}():_h++,"0x"+_h.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hp="RestConnection",T4={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class S4{get Qo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.$o=t+"://"+e.host,this.Uo=`projects/${r}/databases/${s}`,this.Ko=this.databaseId.database===Jh?`project_id=${r}`:`project_id=${r}&database_id=${s}`}Wo(e,t,r,s,l){const c=Gp(),m=this.Go(e,t.toUriEncodedString());fe(hp,`Sending RPC '${e}' ${c}:`,m,r);const d={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.Ko};this.zo(d,s,l);const{host:p}=new URL(m),y=Po(p);return this.jo(e,m,d,r,y).then(E=>(fe(hp,`Received RPC '${e}' ${c}: `,E),E),E=>{throw ma(hp,`RPC '${e}' ${c} failed with error: `,E,"url: ",m,"request:",r),E})}Jo(e,t,r,s,l,c){return this.Wo(e,t,r,s,l)}zo(e,t,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Uo}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((s,l)=>e[l]=s),r&&r.headers.forEach((s,l)=>e[l]=s)}Go(e,t){const r=T4[e];return`${this.$o}/v1/${t}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w4{constructor(e){this.Ho=e.Ho,this.Yo=e.Yo}Zo(e){this.Xo=e}e_(e){this.t_=e}n_(e){this.r_=e}onMessage(e){this.i_=e}close(){this.Yo()}send(e){this.Ho(e)}s_(){this.Xo()}o_(){this.t_()}__(e){this.r_(e)}a_(e){this.i_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sn="WebChannelConnection";class A4 extends S4{constructor(e){super(e),this.u_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}jo(e,t,r,s,l){const c=Gp();return new Promise((m,d)=>{const p=new BS;p.setWithCredentials(!0),p.listenOnce(HS.COMPLETE,()=>{try{switch(p.getLastErrorCode()){case xh.NO_ERROR:const E=p.getResponseJson();fe(sn,`XHR for RPC '${e}' ${c} received:`,JSON.stringify(E)),m(E);break;case xh.TIMEOUT:fe(sn,`RPC '${e}' ${c} timed out`),d(new ve(ue.DEADLINE_EXCEEDED,"Request time out"));break;case xh.HTTP_ERROR:const T=p.getStatus();if(fe(sn,`RPC '${e}' ${c} failed with status:`,T,"response text:",p.getResponseText()),T>0){let R=p.getResponseJson();Array.isArray(R)&&(R=R[0]);const C=R==null?void 0:R.error;if(C&&C.status&&C.message){const N=function(M){const j=M.toLowerCase().replace(/_/g,"-");return Object.values(ue).indexOf(j)>=0?j:ue.UNKNOWN}(C.status);d(new ve(N,C.message))}else d(new ve(ue.UNKNOWN,"Server responded with status "+p.getStatus()))}else d(new ve(ue.UNAVAILABLE,"Connection failed."));break;default:Ae(9055,{c_:e,streamId:c,l_:p.getLastErrorCode(),h_:p.getLastError()})}}finally{fe(sn,`RPC '${e}' ${c} completed.`)}});const y=JSON.stringify(s);fe(sn,`RPC '${e}' ${c} sending request:`,s),p.send(t,"POST",y,r,15)})}P_(e,t,r){const s=Gp(),l=[this.$o,"/","google.firestore.v1.Firestore","/",e,"/channel"],c=GS(),m=$S(),d={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},p=this.longPollingOptions.timeoutSeconds;p!==void 0&&(d.longPollingTimeout=Math.round(1e3*p)),this.useFetchStreams&&(d.useFetchStreams=!0),this.zo(d.initMessageHeaders,t,r),d.encodeInitMessageHeaders=!0;const y=l.join("");fe(sn,`Creating RPC '${e}' stream ${s}: ${y}`,d);const E=c.createWebChannel(y,d);this.T_(E);let T=!1,R=!1;const C=new w4({Ho:I=>{R?fe(sn,`Not sending because RPC '${e}' stream ${s} is closed:`,I):(T||(fe(sn,`Opening RPC '${e}' stream ${s} transport.`),E.open(),T=!0),fe(sn,`RPC '${e}' stream ${s} sending:`,I),E.send(I))},Yo:()=>E.close()}),N=(I,M,j)=>{I.listen(M,$=>{try{j($)}catch(ee){setTimeout(()=>{throw ee},0)}})};return N(E,nu.EventType.OPEN,()=>{R||(fe(sn,`RPC '${e}' stream ${s} transport opened.`),C.s_())}),N(E,nu.EventType.CLOSE,()=>{R||(R=!0,fe(sn,`RPC '${e}' stream ${s} transport closed`),C.__(),this.I_(E))}),N(E,nu.EventType.ERROR,I=>{R||(R=!0,ma(sn,`RPC '${e}' stream ${s} transport errored. Name:`,I.name,"Message:",I.message),C.__(new ve(ue.UNAVAILABLE,"The operation could not be completed")))}),N(E,nu.EventType.MESSAGE,I=>{var M;if(!R){const j=I.data[0];et(!!j,16349);const $=j,ee=($==null?void 0:$.error)||((M=$[0])===null||M===void 0?void 0:M.error);if(ee){fe(sn,`RPC '${e}' stream ${s} received error:`,ee);const q=ee.status;let oe=function(D){const V=Dt[D];if(V!==void 0)return R1(V)}(q),O=ee.message;oe===void 0&&(oe=ue.INTERNAL,O="Unknown error status: "+q+" with message "+ee.message),R=!0,C.__(new ve(oe,O)),E.close()}else fe(sn,`RPC '${e}' stream ${s} received:`,j),C.a_(j)}}),N(m,qS.STAT_EVENT,I=>{I.stat===Vp.PROXY?fe(sn,`RPC '${e}' stream ${s} detected buffering proxy`):I.stat===Vp.NOPROXY&&fe(sn,`RPC '${e}' stream ${s} detected no buffering proxy`)}),setTimeout(()=>{C.o_()},0),C}terminate(){this.u_.forEach(e=>e.close()),this.u_=[]}T_(e){this.u_.push(e)}I_(e){this.u_=this.u_.filter(t=>t===e)}}function fp(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lf(n){return new ON(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z1{constructor(e,t,r=1e3,s=1.5,l=6e4){this.Fi=e,this.timerId=t,this.d_=r,this.E_=s,this.A_=l,this.R_=0,this.V_=null,this.m_=Date.now(),this.reset()}reset(){this.R_=0}f_(){this.R_=this.A_}g_(e){this.cancel();const t=Math.floor(this.R_+this.p_()),r=Math.max(0,Date.now()-this.m_),s=Math.max(0,t-r);s>0&&fe("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.R_} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.V_=this.Fi.enqueueAfterDelay(this.timerId,s,()=>(this.m_=Date.now(),e())),this.R_*=this.E_,this.R_<this.d_&&(this.R_=this.d_),this.R_>this.A_&&(this.R_=this.A_)}y_(){this.V_!==null&&(this.V_.skipDelay(),this.V_=null)}cancel(){this.V_!==null&&(this.V_.cancel(),this.V_=null)}p_(){return(Math.random()-.5)*this.R_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fE="PersistentStream";class F1{constructor(e,t,r,s,l,c,m,d){this.Fi=e,this.w_=r,this.S_=s,this.connection=l,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=m,this.listener=d,this.state=0,this.b_=0,this.D_=null,this.v_=null,this.stream=null,this.C_=0,this.F_=new z1(e,t)}M_(){return this.state===1||this.state===5||this.x_()}x_(){return this.state===2||this.state===3}start(){this.C_=0,this.state!==4?this.auth():this.O_()}async stop(){this.M_()&&await this.close(0)}N_(){this.state=0,this.F_.reset()}B_(){this.x_()&&this.D_===null&&(this.D_=this.Fi.enqueueAfterDelay(this.w_,6e4,()=>this.L_()))}k_(e){this.q_(),this.stream.send(e)}async L_(){if(this.x_())return this.close(0)}q_(){this.D_&&(this.D_.cancel(),this.D_=null)}Q_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,t){this.q_(),this.Q_(),this.F_.cancel(),this.b_++,e!==4?this.F_.reset():t&&t.code===ue.RESOURCE_EXHAUSTED?(Rr(t.toString()),Rr("Using maximum backoff delay to prevent overloading the backend."),this.F_.f_()):t&&t.code===ue.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.U_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.n_(t)}U_(){}auth(){this.state=1;const e=this.K_(this.b_),t=this.b_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,s])=>{this.b_===t&&this.W_(r,s)},r=>{e(()=>{const s=new ve(ue.UNKNOWN,"Fetching auth token failed: "+r.message);return this.G_(s)})})}W_(e,t){const r=this.K_(this.b_);this.stream=this.z_(e,t),this.stream.Zo(()=>{r(()=>this.listener.Zo())}),this.stream.e_(()=>{r(()=>(this.state=2,this.v_=this.Fi.enqueueAfterDelay(this.S_,1e4,()=>(this.x_()&&(this.state=3),Promise.resolve())),this.listener.e_()))}),this.stream.n_(s=>{r(()=>this.G_(s))}),this.stream.onMessage(s=>{r(()=>++this.C_==1?this.j_(s):this.onNext(s))})}O_(){this.state=5,this.F_.g_(async()=>{this.state=0,this.start()})}G_(e){return fe(fE,`close with error: ${e}`),this.stream=null,this.close(4,e)}K_(e){return t=>{this.Fi.enqueueAndForget(()=>this.b_===e?t():(fe(fE,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class R4 extends F1{constructor(e,t,r,s,l,c){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,s,c),this.serializer=l}z_(e,t){return this.connection.P_("Listen",e,t)}j_(e){return this.onNext(e)}onNext(e){this.F_.reset();const t=MN(this.serializer,e),r=function(l){if(!("targetChange"in l))return De.min();const c=l.targetChange;return c.targetIds&&c.targetIds.length?De.min():c.readTime?Vi(c.readTime):De.min()}(e);return this.listener.J_(t,r)}H_(e){const t={};t.database=qp(this.serializer),t.addTarget=function(l,c){let m;const d=c.target;if(m=jp(d)?{documents:PN(l,d)}:{query:kN(l,d).Vt},m.targetId=c.targetId,c.resumeToken.approximateByteSize()>0){m.resumeToken=O1(l,c.resumeToken);const p=Fp(l,c.expectedCount);p!==null&&(m.expectedCount=p)}else if(c.snapshotVersion.compareTo(De.min())>0){m.readTime=sf(l,c.snapshotVersion.toTimestamp());const p=Fp(l,c.expectedCount);p!==null&&(m.expectedCount=p)}return m}(this.serializer,e);const r=UN(this.serializer,e);r&&(t.labels=r),this.k_(t)}Y_(e){const t={};t.database=qp(this.serializer),t.removeTarget=e,this.k_(t)}}class I4 extends F1{constructor(e,t,r,s,l,c){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,s,c),this.serializer=l}get Z_(){return this.C_>0}start(){this.lastStreamToken=void 0,super.start()}U_(){this.Z_&&this.X_([])}z_(e,t){return this.connection.P_("Write",e,t)}j_(e){return et(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,et(!e.writeResults||e.writeResults.length===0,55816),this.listener.ea()}onNext(e){et(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.F_.reset();const t=VN(e.writeResults,e.commitTime),r=Vi(e.commitTime);return this.listener.ta(r,t)}na(){const e={};e.database=qp(this.serializer),this.k_(e)}X_(e){const t={streamToken:this.lastStreamToken,writes:e.map(r=>NN(this.serializer,r))};this.k_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C4{}class O4 extends C4{constructor(e,t,r,s){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=s,this.ra=!1}ia(){if(this.ra)throw new ve(ue.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,t,r,s){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([l,c])=>this.connection.Wo(e,Bp(t,r),s,l,c)).catch(l=>{throw l.name==="FirebaseError"?(l.code===ue.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new ve(ue.UNKNOWN,l.toString())})}Jo(e,t,r,s,l){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([c,m])=>this.connection.Jo(e,Bp(t,r),s,c,m,l)).catch(c=>{throw c.name==="FirebaseError"?(c.code===ue.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new ve(ue.UNKNOWN,c.toString())})}terminate(){this.ra=!0,this.connection.terminate()}}class D4{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.sa=0,this.oa=null,this._a=!0}aa(){this.sa===0&&(this.ua("Unknown"),this.oa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.oa=null,this.ca("Backend didn't respond within 10 seconds."),this.ua("Offline"),Promise.resolve())))}la(e){this.state==="Online"?this.ua("Unknown"):(this.sa++,this.sa>=1&&(this.ha(),this.ca(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ua("Offline")))}set(e){this.ha(),this.sa=0,e==="Online"&&(this._a=!1),this.ua(e)}ua(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ca(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this._a?(Rr(t),this._a=!1):fe("OnlineStateTracker",t)}ha(){this.oa!==null&&(this.oa.cancel(),this.oa=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ds="RemoteStore";class x4{constructor(e,t,r,s,l){this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.Pa=[],this.Ta=new Map,this.Ia=new Set,this.da=[],this.Ea=l,this.Ea.xo(c=>{r.enqueueAndForget(async()=>{Ts(this)&&(fe(ds,"Restarting streams for network reachability change."),await async function(d){const p=xe(d);p.Ia.add(4),await zu(p),p.Aa.set("Unknown"),p.Ia.delete(4),await Uf(p)}(this))})}),this.Aa=new D4(r,s)}}async function Uf(n){if(Ts(n))for(const e of n.da)await e(!0)}async function zu(n){for(const e of n.da)await e(!1)}function B1(n,e){const t=xe(n);t.Ta.has(e.targetId)||(t.Ta.set(e.targetId,e),Xg(t)?Qg(t):Fo(t).x_()&&Yg(t,e))}function Kg(n,e){const t=xe(n),r=Fo(t);t.Ta.delete(e),r.x_()&&H1(t,e),t.Ta.size===0&&(r.x_()?r.B_():Ts(t)&&t.Aa.set("Unknown"))}function Yg(n,e){if(n.Ra.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(De.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}Fo(n).H_(e)}function H1(n,e){n.Ra.$e(e),Fo(n).Y_(e)}function Qg(n){n.Ra=new AN({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),Et:e=>n.Ta.get(e)||null,lt:()=>n.datastore.serializer.databaseId}),Fo(n).start(),n.Aa.aa()}function Xg(n){return Ts(n)&&!Fo(n).M_()&&n.Ta.size>0}function Ts(n){return xe(n).Ia.size===0}function q1(n){n.Ra=void 0}async function M4(n){n.Aa.set("Online")}async function N4(n){n.Ta.forEach((e,t)=>{Yg(n,e)})}async function V4(n,e){q1(n),Xg(n)?(n.Aa.la(e),Qg(n)):n.Aa.set("Unknown")}async function P4(n,e,t){if(n.Aa.set("Online"),e instanceof C1&&e.state===2&&e.cause)try{await async function(s,l){const c=l.cause;for(const m of l.targetIds)s.Ta.has(m)&&(await s.remoteSyncer.rejectListen(m,c),s.Ta.delete(m),s.Ra.removeTarget(m))}(n,e)}catch(r){fe(ds,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await lf(n,r)}else if(e instanceof Ph?n.Ra.Ye(e):e instanceof I1?n.Ra.it(e):n.Ra.et(e),!t.isEqual(De.min()))try{const r=await j1(n.localStore);t.compareTo(r)>=0&&await function(l,c){const m=l.Ra.Pt(c);return m.targetChanges.forEach((d,p)=>{if(d.resumeToken.approximateByteSize()>0){const y=l.Ta.get(p);y&&l.Ta.set(p,y.withResumeToken(d.resumeToken,c))}}),m.targetMismatches.forEach((d,p)=>{const y=l.Ta.get(d);if(!y)return;l.Ta.set(d,y.withResumeToken(tn.EMPTY_BYTE_STRING,y.snapshotVersion)),H1(l,d);const E=new la(y.target,d,p,y.sequenceNumber);Yg(l,E)}),l.remoteSyncer.applyRemoteEvent(m)}(n,t)}catch(r){fe(ds,"Failed to raise snapshot:",r),await lf(n,r)}}async function lf(n,e,t){if(!zo(e))throw e;n.Ia.add(1),await zu(n),n.Aa.set("Offline"),t||(t=()=>j1(n.localStore)),n.asyncQueue.enqueueRetryable(async()=>{fe(ds,"Retrying IndexedDB access"),await t(),n.Ia.delete(1),await Uf(n)})}function $1(n,e){return e().catch(t=>lf(n,t,e))}async function jf(n){const e=xe(n),t=_a(e);let r=e.Pa.length>0?e.Pa[e.Pa.length-1].batchId:Ng;for(;k4(e);)try{const s=await v4(e.localStore,r);if(s===null){e.Pa.length===0&&t.B_();break}r=s.batchId,L4(e,s)}catch(s){await lf(e,s)}G1(e)&&K1(e)}function k4(n){return Ts(n)&&n.Pa.length<10}function L4(n,e){n.Pa.push(e);const t=_a(n);t.x_()&&t.Z_&&t.X_(e.mutations)}function G1(n){return Ts(n)&&!_a(n).M_()&&n.Pa.length>0}function K1(n){_a(n).start()}async function U4(n){_a(n).na()}async function j4(n){const e=_a(n);for(const t of n.Pa)e.X_(t.mutations)}async function z4(n,e,t){const r=n.Pa.shift(),s=zg.from(r,e,t);await $1(n,()=>n.remoteSyncer.applySuccessfulWrite(s)),await jf(n)}async function F4(n,e){e&&_a(n).Z_&&await async function(r,s){if(function(c){return SN(c)&&c!==ue.ABORTED}(s.code)){const l=r.Pa.shift();_a(r).N_(),await $1(r,()=>r.remoteSyncer.rejectFailedWrite(l.batchId,s)),await jf(r)}}(n,e),G1(n)&&K1(n)}async function dE(n,e){const t=xe(n);t.asyncQueue.verifyOperationInProgress(),fe(ds,"RemoteStore received new credentials");const r=Ts(t);t.Ia.add(3),await zu(t),r&&t.Aa.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.Ia.delete(3),await Uf(t)}async function B4(n,e){const t=xe(n);e?(t.Ia.delete(2),await Uf(t)):e||(t.Ia.add(2),await zu(t),t.Aa.set("Unknown"))}function Fo(n){return n.Va||(n.Va=function(t,r,s){const l=xe(t);return l.ia(),new R4(r,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,s)}(n.datastore,n.asyncQueue,{Zo:M4.bind(null,n),e_:N4.bind(null,n),n_:V4.bind(null,n),J_:P4.bind(null,n)}),n.da.push(async e=>{e?(n.Va.N_(),Xg(n)?Qg(n):n.Aa.set("Unknown")):(await n.Va.stop(),q1(n))})),n.Va}function _a(n){return n.ma||(n.ma=function(t,r,s){const l=xe(t);return l.ia(),new I4(r,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,s)}(n.datastore,n.asyncQueue,{Zo:()=>Promise.resolve(),e_:U4.bind(null,n),n_:F4.bind(null,n),ea:j4.bind(null,n),ta:z4.bind(null,n)}),n.da.push(async e=>{e?(n.ma.N_(),await jf(n)):(await n.ma.stop(),n.Pa.length>0&&(fe(ds,`Stopping write stream with ${n.Pa.length} pending writes`),n.Pa=[]))})),n.ma}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wg{constructor(e,t,r,s,l){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=s,this.removalCallback=l,this.deferred=new fa,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(c=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,r,s,l){const c=Date.now()+r,m=new Wg(e,t,c,s,l);return m.start(r),m}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ve(ue.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Zg(n,e){if(Rr("AsyncQueue",`${e}: ${n}`),zo(n))return new ve(ue.UNAVAILABLE,`${e}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ao{static emptySet(e){return new Ao(e.comparator)}constructor(e){this.comparator=e?(t,r)=>e(t,r)||Ee.comparator(t.key,r.key):(t,r)=>Ee.comparator(t.key,r.key),this.keyedMap=iu(),this.sortedSet=new vt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Ao)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const s=t.getNext().key,l=r.getNext().key;if(!s.isEqual(l))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const r=new Ao;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mE{constructor(){this.fa=new vt(Ee.comparator)}track(e){const t=e.doc.key,r=this.fa.get(t);r?e.type!==0&&r.type===3?this.fa=this.fa.insert(t,e):e.type===3&&r.type!==1?this.fa=this.fa.insert(t,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.fa=this.fa.insert(t,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.fa=this.fa.insert(t,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.fa=this.fa.remove(t):e.type===1&&r.type===2?this.fa=this.fa.insert(t,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.fa=this.fa.insert(t,{type:2,doc:e.doc}):Ae(63341,{At:e,ga:r}):this.fa=this.fa.insert(t,e)}pa(){const e=[];return this.fa.inorderTraversal((t,r)=>{e.push(r)}),e}}class Mo{constructor(e,t,r,s,l,c,m,d,p){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=s,this.mutatedKeys=l,this.fromCache=c,this.syncStateChanged=m,this.excludesMetadataChanges=d,this.hasCachedResults=p}static fromInitialDocuments(e,t,r,s,l){const c=[];return t.forEach(m=>{c.push({type:0,doc:m})}),new Mo(e,t,Ao.emptySet(t),c,r,s,!0,!1,l)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Mf(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let s=0;s<t.length;s++)if(t[s].type!==r[s].type||!t[s].doc.isEqual(r[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H4{constructor(){this.ya=void 0,this.wa=[]}Sa(){return this.wa.some(e=>e.ba())}}class q4{constructor(){this.queries=pE(),this.onlineState="Unknown",this.Da=new Set}terminate(){(function(t,r){const s=xe(t),l=s.queries;s.queries=pE(),l.forEach((c,m)=>{for(const d of m.wa)d.onError(r)})})(this,new ve(ue.ABORTED,"Firestore shutting down"))}}function pE(){return new bs(n=>d1(n),Mf)}async function $4(n,e){const t=xe(n);let r=3;const s=e.query;let l=t.queries.get(s);l?!l.Sa()&&e.ba()&&(r=2):(l=new H4,r=e.ba()?0:1);try{switch(r){case 0:l.ya=await t.onListen(s,!0);break;case 1:l.ya=await t.onListen(s,!1);break;case 2:await t.onFirstRemoteStoreListen(s)}}catch(c){const m=Zg(c,`Initialization of query '${yo(e.query)}' failed`);return void e.onError(m)}t.queries.set(s,l),l.wa.push(e),e.va(t.onlineState),l.ya&&e.Ca(l.ya)&&Jg(t)}async function G4(n,e){const t=xe(n),r=e.query;let s=3;const l=t.queries.get(r);if(l){const c=l.wa.indexOf(e);c>=0&&(l.wa.splice(c,1),l.wa.length===0?s=e.ba()?0:1:!l.Sa()&&e.ba()&&(s=2))}switch(s){case 0:return t.queries.delete(r),t.onUnlisten(r,!0);case 1:return t.queries.delete(r),t.onUnlisten(r,!1);case 2:return t.onLastRemoteStoreUnlisten(r);default:return}}function K4(n,e){const t=xe(n);let r=!1;for(const s of e){const l=s.query,c=t.queries.get(l);if(c){for(const m of c.wa)m.Ca(s)&&(r=!0);c.ya=s}}r&&Jg(t)}function Y4(n,e,t){const r=xe(n),s=r.queries.get(e);if(s)for(const l of s.wa)l.onError(t);r.queries.delete(e)}function Jg(n){n.Da.forEach(e=>{e.next()})}var Kp,gE;(gE=Kp||(Kp={})).Fa="default",gE.Cache="cache";class Q4{constructor(e,t,r){this.query=e,this.Ma=t,this.xa=!1,this.Oa=null,this.onlineState="Unknown",this.options=r||{}}Ca(e){if(!this.options.includeMetadataChanges){const r=[];for(const s of e.docChanges)s.type!==3&&r.push(s);e=new Mo(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.xa?this.Na(e)&&(this.Ma.next(e),t=!0):this.Ba(e,this.onlineState)&&(this.La(e),t=!0),this.Oa=e,t}onError(e){this.Ma.error(e)}va(e){this.onlineState=e;let t=!1;return this.Oa&&!this.xa&&this.Ba(this.Oa,e)&&(this.La(this.Oa),t=!0),t}Ba(e,t){if(!e.fromCache||!this.ba())return!0;const r=t!=="Offline";return(!this.options.ka||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}Na(e){if(e.docChanges.length>0)return!0;const t=this.Oa&&this.Oa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}La(e){e=Mo.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.xa=!0,this.Ma.next(e)}ba(){return this.options.source!==Kp.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y1{constructor(e){this.key=e}}class Q1{constructor(e){this.key=e}}class X4{constructor(e,t){this.query=e,this.Ha=t,this.Ya=null,this.hasCachedResults=!1,this.current=!1,this.Za=ze(),this.mutatedKeys=ze(),this.Xa=m1(e),this.eu=new Ao(this.Xa)}get tu(){return this.Ha}nu(e,t){const r=t?t.ru:new mE,s=t?t.eu:this.eu;let l=t?t.mutatedKeys:this.mutatedKeys,c=s,m=!1;const d=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,p=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal((y,E)=>{const T=s.get(y),R=Nf(this.query,E)?E:null,C=!!T&&this.mutatedKeys.has(T.key),N=!!R&&(R.hasLocalMutations||this.mutatedKeys.has(R.key)&&R.hasCommittedMutations);let I=!1;T&&R?T.data.isEqual(R.data)?C!==N&&(r.track({type:3,doc:R}),I=!0):this.iu(T,R)||(r.track({type:2,doc:R}),I=!0,(d&&this.Xa(R,d)>0||p&&this.Xa(R,p)<0)&&(m=!0)):!T&&R?(r.track({type:0,doc:R}),I=!0):T&&!R&&(r.track({type:1,doc:T}),I=!0,(d||p)&&(m=!0)),I&&(R?(c=c.add(R),l=N?l.add(y):l.delete(y)):(c=c.delete(y),l=l.delete(y)))}),this.query.limit!==null)for(;c.size>this.query.limit;){const y=this.query.limitType==="F"?c.last():c.first();c=c.delete(y.key),l=l.delete(y.key),r.track({type:1,doc:y})}return{eu:c,ru:r,Ds:m,mutatedKeys:l}}iu(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r,s){const l=this.eu;this.eu=e.eu,this.mutatedKeys=e.mutatedKeys;const c=e.ru.pa();c.sort((y,E)=>function(R,C){const N=I=>{switch(I){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ae(20277,{At:I})}};return N(R)-N(C)}(y.type,E.type)||this.Xa(y.doc,E.doc)),this.su(r),s=s!=null&&s;const m=t&&!s?this.ou():[],d=this.Za.size===0&&this.current&&!s?1:0,p=d!==this.Ya;return this.Ya=d,c.length!==0||p?{snapshot:new Mo(this.query,e.eu,l,c,e.mutatedKeys,d===0,p,!1,!!r&&r.resumeToken.approximateByteSize()>0),_u:m}:{_u:m}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({eu:this.eu,ru:new mE,mutatedKeys:this.mutatedKeys,Ds:!1},!1)):{_u:[]}}au(e){return!this.Ha.has(e)&&!!this.eu.has(e)&&!this.eu.get(e).hasLocalMutations}su(e){e&&(e.addedDocuments.forEach(t=>this.Ha=this.Ha.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Ha=this.Ha.delete(t)),this.current=e.current)}ou(){if(!this.current)return[];const e=this.Za;this.Za=ze(),this.eu.forEach(r=>{this.au(r.key)&&(this.Za=this.Za.add(r.key))});const t=[];return e.forEach(r=>{this.Za.has(r)||t.push(new Q1(r))}),this.Za.forEach(r=>{e.has(r)||t.push(new Y1(r))}),t}uu(e){this.Ha=e.qs,this.Za=ze();const t=this.nu(e.documents);return this.applyChanges(t,!0)}cu(){return Mo.fromInitialDocuments(this.query,this.eu,this.mutatedKeys,this.Ya===0,this.hasCachedResults)}}const ev="SyncEngine";class W4{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class Z4{constructor(e){this.key=e,this.lu=!1}}class J4{constructor(e,t,r,s,l,c){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=s,this.currentUser=l,this.maxConcurrentLimboResolutions=c,this.hu={},this.Pu=new bs(m=>d1(m),Mf),this.Tu=new Map,this.Iu=new Set,this.du=new vt(Ee.comparator),this.Eu=new Map,this.Au=new Hg,this.Ru={},this.Vu=new Map,this.mu=xo.ur(),this.onlineState="Unknown",this.fu=void 0}get isPrimaryClient(){return this.fu===!0}}async function eV(n,e,t=!0){const r=tw(n);let s;const l=r.Pu.get(e);return l?(r.sharedClientState.addLocalQueryTarget(l.targetId),s=l.view.cu()):s=await X1(r,e,t,!0),s}async function tV(n,e){const t=tw(n);await X1(t,e,!0,!1)}async function X1(n,e,t,r){const s=await y4(n.localStore,Ni(e)),l=s.targetId,c=n.sharedClientState.addLocalQueryTarget(l,t);let m;return r&&(m=await nV(n,e,l,c==="current",s.resumeToken)),n.isPrimaryClient&&t&&B1(n.remoteStore,s),m}async function nV(n,e,t,r,s){n.gu=(E,T,R)=>async function(N,I,M,j){let $=I.view.nu(M);$.Ds&&($=await lE(N.localStore,I.query,!1).then(({documents:O})=>I.view.nu(O,$)));const ee=j&&j.targetChanges.get(I.targetId),q=j&&j.targetMismatches.get(I.targetId)!=null,oe=I.view.applyChanges($,N.isPrimaryClient,ee,q);return yE(N,I.targetId,oe._u),oe.snapshot}(n,E,T,R);const l=await lE(n.localStore,e,!0),c=new X4(e,l.qs),m=c.nu(l.documents),d=ju.createSynthesizedTargetChangeForCurrentChange(t,r&&n.onlineState!=="Offline",s),p=c.applyChanges(m,n.isPrimaryClient,d);yE(n,t,p._u);const y=new W4(e,t,c);return n.Pu.set(e,y),n.Tu.has(t)?n.Tu.get(t).push(e):n.Tu.set(t,[e]),p.snapshot}async function iV(n,e,t){const r=xe(n),s=r.Pu.get(e),l=r.Tu.get(s.targetId);if(l.length>1)return r.Tu.set(s.targetId,l.filter(c=>!Mf(c,e))),void r.Pu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(s.targetId),r.sharedClientState.isActiveQueryTarget(s.targetId)||await $p(r.localStore,s.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(s.targetId),t&&Kg(r.remoteStore,s.targetId),Yp(r,s.targetId)}).catch(jo)):(Yp(r,s.targetId),await $p(r.localStore,s.targetId,!0))}async function rV(n,e){const t=xe(n),r=t.Pu.get(e),s=t.Tu.get(r.targetId);t.isPrimaryClient&&s.length===1&&(t.sharedClientState.removeLocalQueryTarget(r.targetId),Kg(t.remoteStore,r.targetId))}async function aV(n,e,t){const r=fV(n);try{const s=await function(c,m){const d=xe(c),p=ht.now(),y=m.reduce((R,C)=>R.add(C.key),ze());let E,T;return d.persistence.runTransaction("Locally write mutations","readwrite",R=>{let C=Ir(),N=ze();return d.Os.getEntries(R,y).next(I=>{C=I,C.forEach((M,j)=>{j.isValidDocument()||(N=N.add(M))})}).next(()=>d.localDocuments.getOverlayedDocuments(R,C)).next(I=>{E=I;const M=[];for(const j of m){const $=yN(j,E.get(j.key).overlayedDocument);$!=null&&M.push(new Es(j.key,$,s1($.value.mapValue),br.exists(!0)))}return d.mutationQueue.addMutationBatch(R,p,M,m)}).next(I=>{T=I;const M=I.applyToLocalDocumentSet(E,N);return d.documentOverlayCache.saveOverlays(R,I.batchId,M)})}).then(()=>({batchId:T.batchId,changes:g1(E)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(s.batchId),function(c,m,d){let p=c.Ru[c.currentUser.toKey()];p||(p=new vt(Ve)),p=p.insert(m,d),c.Ru[c.currentUser.toKey()]=p}(r,s.batchId,t),await Fu(r,s.changes),await jf(r.remoteStore)}catch(s){const l=Zg(s,"Failed to persist write");t.reject(l)}}async function W1(n,e){const t=xe(n);try{const r=await p4(t.localStore,e);e.targetChanges.forEach((s,l)=>{const c=t.Eu.get(l);c&&(et(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1,22616),s.addedDocuments.size>0?c.lu=!0:s.modifiedDocuments.size>0?et(c.lu,14607):s.removedDocuments.size>0&&(et(c.lu,42227),c.lu=!1))}),await Fu(t,r,e)}catch(r){await jo(r)}}function vE(n,e,t){const r=xe(n);if(r.isPrimaryClient&&t===0||!r.isPrimaryClient&&t===1){const s=[];r.Pu.forEach((l,c)=>{const m=c.view.va(e);m.snapshot&&s.push(m.snapshot)}),function(c,m){const d=xe(c);d.onlineState=m;let p=!1;d.queries.forEach((y,E)=>{for(const T of E.wa)T.va(m)&&(p=!0)}),p&&Jg(d)}(r.eventManager,e),s.length&&r.hu.J_(s),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function sV(n,e,t){const r=xe(n);r.sharedClientState.updateQueryState(e,"rejected",t);const s=r.Eu.get(e),l=s&&s.key;if(l){let c=new vt(Ee.comparator);c=c.insert(l,un.newNoDocument(l,De.min()));const m=ze().add(l),d=new kf(De.min(),new Map,new vt(Ve),c,m);await W1(r,d),r.du=r.du.remove(l),r.Eu.delete(e),tv(r)}else await $p(r.localStore,e,!1).then(()=>Yp(r,e,t)).catch(jo)}async function oV(n,e){const t=xe(n),r=e.batch.batchId;try{const s=await m4(t.localStore,e);J1(t,r,null),Z1(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),await Fu(t,s)}catch(s){await jo(s)}}async function lV(n,e,t){const r=xe(n);try{const s=await function(c,m){const d=xe(c);return d.persistence.runTransaction("Reject batch","readwrite-primary",p=>{let y;return d.mutationQueue.lookupMutationBatch(p,m).next(E=>(et(E!==null,37113),y=E.keys(),d.mutationQueue.removeMutationBatch(p,E))).next(()=>d.mutationQueue.performConsistencyCheck(p)).next(()=>d.documentOverlayCache.removeOverlaysForBatchId(p,y,m)).next(()=>d.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(p,y)).next(()=>d.localDocuments.getDocuments(p,y))})}(r.localStore,e);J1(r,e,t),Z1(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),await Fu(r,s)}catch(s){await jo(s)}}function Z1(n,e){(n.Vu.get(e)||[]).forEach(t=>{t.resolve()}),n.Vu.delete(e)}function J1(n,e,t){const r=xe(n);let s=r.Ru[r.currentUser.toKey()];if(s){const l=s.get(e);l&&(t?l.reject(t):l.resolve(),s=s.remove(e)),r.Ru[r.currentUser.toKey()]=s}}function Yp(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n.Tu.get(e))n.Pu.delete(r),t&&n.hu.pu(r,t);n.Tu.delete(e),n.isPrimaryClient&&n.Au.zr(e).forEach(r=>{n.Au.containsKey(r)||ew(n,r)})}function ew(n,e){n.Iu.delete(e.path.canonicalString());const t=n.du.get(e);t!==null&&(Kg(n.remoteStore,t),n.du=n.du.remove(e),n.Eu.delete(t),tv(n))}function yE(n,e,t){for(const r of t)r instanceof Y1?(n.Au.addReference(r.key,e),uV(n,r)):r instanceof Q1?(fe(ev,"Document no longer in limbo: "+r.key),n.Au.removeReference(r.key,e),n.Au.containsKey(r.key)||ew(n,r.key)):Ae(19791,{yu:r})}function uV(n,e){const t=e.key,r=t.path.canonicalString();n.du.get(t)||n.Iu.has(r)||(fe(ev,"New document in limbo: "+t),n.Iu.add(r),tv(n))}function tv(n){for(;n.Iu.size>0&&n.du.size<n.maxConcurrentLimboResolutions;){const e=n.Iu.values().next().value;n.Iu.delete(e);const t=new Ee(pt.fromString(e)),r=n.mu.next();n.Eu.set(r,new Z4(t)),n.du=n.du.insert(t,r),B1(n.remoteStore,new la(Ni(Ug(t.path)),r,"TargetPurposeLimboResolution",Cf.ue))}}async function Fu(n,e,t){const r=xe(n),s=[],l=[],c=[];r.Pu.isEmpty()||(r.Pu.forEach((m,d)=>{c.push(r.gu(d,e,t).then(p=>{var y;if((p||t)&&r.isPrimaryClient){const E=p?!p.fromCache:(y=t==null?void 0:t.targetChanges.get(d.targetId))===null||y===void 0?void 0:y.current;r.sharedClientState.updateQueryState(d.targetId,E?"current":"not-current")}if(p){s.push(p);const E=$g.Es(d.targetId,p);l.push(E)}}))}),await Promise.all(c),r.hu.J_(s),await async function(d,p){const y=xe(d);try{await y.persistence.runTransaction("notifyLocalViewChanges","readwrite",E=>se.forEach(p,T=>se.forEach(T.Is,R=>y.persistence.referenceDelegate.addReference(E,T.targetId,R)).next(()=>se.forEach(T.ds,R=>y.persistence.referenceDelegate.removeReference(E,T.targetId,R)))))}catch(E){if(!zo(E))throw E;fe(Gg,"Failed to update sequence numbers: "+E)}for(const E of p){const T=E.targetId;if(!E.fromCache){const R=y.Fs.get(T),C=R.snapshotVersion,N=R.withLastLimboFreeSnapshotVersion(C);y.Fs=y.Fs.insert(T,N)}}}(r.localStore,l))}async function cV(n,e){const t=xe(n);if(!t.currentUser.isEqual(e)){fe(ev,"User change. New user:",e.toKey());const r=await U1(t.localStore,e);t.currentUser=e,function(l,c){l.Vu.forEach(m=>{m.forEach(d=>{d.reject(new ve(ue.CANCELLED,c))})}),l.Vu.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Fu(t,r.Bs)}}function hV(n,e){const t=xe(n),r=t.Eu.get(e);if(r&&r.lu)return ze().add(r.key);{let s=ze();const l=t.Tu.get(e);if(!l)return s;for(const c of l){const m=t.Pu.get(c);s=s.unionWith(m.view.tu)}return s}}function tw(n){const e=xe(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=W1.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=hV.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=sV.bind(null,e),e.hu.J_=K4.bind(null,e.eventManager),e.hu.pu=Y4.bind(null,e.eventManager),e}function fV(n){const e=xe(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=oV.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=lV.bind(null,e),e}class uf{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Lf(e.databaseInfo.databaseId),this.sharedClientState=this.bu(e),this.persistence=this.Du(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Cu(e,this.localStore),this.indexBackfillerScheduler=this.Fu(e,this.localStore)}Cu(e,t){return null}Fu(e,t){return null}vu(e){return d4(this.persistence,new c4,e.initialUser,this.serializer)}Du(e){return new L1(qg.Vi,this.serializer)}bu(e){return new b4}async terminate(){var e,t;(e=this.gcScheduler)===null||e===void 0||e.stop(),(t=this.indexBackfillerScheduler)===null||t===void 0||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}uf.provider={build:()=>new uf};class dV extends uf{constructor(e){super(),this.cacheSizeBytes=e}Cu(e,t){et(this.persistence.referenceDelegate instanceof of,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new QN(r,e.asyncQueue,t)}Du(e){const t=this.cacheSizeBytes!==void 0?_n.withCacheSize(this.cacheSizeBytes):_n.DEFAULT;return new L1(r=>of.Vi(r,t),this.serializer)}}class Qp{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>vE(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=cV.bind(null,this.syncEngine),await B4(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new q4}()}createDatastore(e){const t=Lf(e.databaseInfo.databaseId),r=function(l){return new A4(l)}(e.databaseInfo);return function(l,c,m,d){return new O4(l,c,m,d)}(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return function(r,s,l,c,m){return new x4(r,s,l,c,m)}(this.localStore,this.datastore,e.asyncQueue,t=>vE(this.syncEngine,t,0),function(){return hE.C()?new hE:new E4}())}createSyncEngine(e,t){return function(s,l,c,m,d,p,y){const E=new J4(s,l,c,m,d,p);return y&&(E.fu=!0),E}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(s){const l=xe(s);fe(ds,"RemoteStore shutting down."),l.Ia.add(5),await zu(l),l.Ea.shutdown(),l.Aa.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(t=this.eventManager)===null||t===void 0||t.terminate()}}Qp.provider={build:()=>new Qp};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mV{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.xu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.xu(this.observer.error,e):Rr("Uncaught Error in snapshot listener:",e.toString()))}Ou(){this.muted=!0}xu(e,t){setTimeout(()=>{this.muted||e(t)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ba="FirestoreClient";class pV{constructor(e,t,r,s,l){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=s,this.user=ln.UNAUTHENTICATED,this.clientId=xg.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=l,this.authCredentials.start(r,async c=>{fe(ba,"Received user=",c.uid),await this.authCredentialListener(c),this.user=c}),this.appCheckCredentials.start(r,c=>(fe(ba,"Received new app check token=",c),this.appCheckCredentialListener(c,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new fa;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const r=Zg(t,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function dp(n,e){n.asyncQueue.verifyOperationInProgress(),fe(ba,"Initializing OfflineComponentProvider");const t=n.configuration;await e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(async s=>{r.isEqual(s)||(await U1(e.localStore,s),r=s)}),e.persistence.setDatabaseDeletedListener(()=>{ma("Terminating Firestore due to IndexedDb database deletion"),n.terminate().then(()=>{fe("Terminating Firestore due to IndexedDb database deletion completed successfully")}).catch(s=>{ma("Terminating Firestore due to IndexedDb database deletion failed",s)})}),n._offlineComponents=e}async function _E(n,e){n.asyncQueue.verifyOperationInProgress();const t=await gV(n);fe(ba,"Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener(r=>dE(e.remoteStore,r)),n.setAppCheckTokenChangeListener((r,s)=>dE(e.remoteStore,s)),n._onlineComponents=e}async function gV(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){fe(ba,"Using user provided OfflineComponentProvider");try{await dp(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function(s){return s.name==="FirebaseError"?s.code===ue.FAILED_PRECONDITION||s.code===ue.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||s.code===22||s.code===20||s.code===11}(t))throw t;ma("Error using user provided cache. Falling back to memory cache: "+t),await dp(n,new uf)}}else fe(ba,"Using default OfflineComponentProvider"),await dp(n,new dV(void 0));return n._offlineComponents}async function nw(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(fe(ba,"Using user provided OnlineComponentProvider"),await _E(n,n._uninitializedComponentsProvider._online)):(fe(ba,"Using default OnlineComponentProvider"),await _E(n,new Qp))),n._onlineComponents}function vV(n){return nw(n).then(e=>e.syncEngine)}async function yV(n){const e=await nw(n),t=e.eventManager;return t.onListen=eV.bind(null,e.syncEngine),t.onUnlisten=iV.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=tV.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=rV.bind(null,e.syncEngine),t}function _V(n,e,t={}){const r=new fa;return n.asyncQueue.enqueueAndForget(async()=>function(l,c,m,d,p){const y=new mV({next:T=>{y.Ou(),c.enqueueAndForget(()=>G4(l,E));const R=T.docs.has(m);!R&&T.fromCache?p.reject(new ve(ue.UNAVAILABLE,"Failed to get document because the client is offline.")):R&&T.fromCache&&d&&d.source==="server"?p.reject(new ve(ue.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):p.resolve(T)},error:T=>p.reject(T)}),E=new Q4(Ug(m.path),y,{includeMetadataChanges:!0,ka:!0});return $4(l,E)}(await yV(n),n.asyncQueue,e,t,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iw(n){const e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bE=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rw="firestore.googleapis.com",EE=!0;class TE{constructor(e){var t,r;if(e.host===void 0){if(e.ssl!==void 0)throw new ve(ue.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=rw,this.ssl=EE}else this.host=e.host,this.ssl=(t=e.ssl)!==null&&t!==void 0?t:EE;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=k1;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<KN)throw new ve(ue.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}xM("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=iw((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(l){if(l.timeoutSeconds!==void 0){if(isNaN(l.timeoutSeconds))throw new ve(ue.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (must not be NaN)`);if(l.timeoutSeconds<5)throw new ve(ue.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (minimum allowed value is 5)`);if(l.timeoutSeconds>30)throw new ve(ue.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,s){return r.timeoutSeconds===s.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class nv{constructor(e,t,r,s){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new TE({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ve(ue.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ve(ue.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new TE(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new EM;switch(r.type){case"firstParty":return new AM(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new ve(ue.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const r=bE.get(t);r&&(fe("ComponentProvider","Removing Datastore"),bE.delete(t),r.terminate())}(this),Promise.resolve()}}function bV(n,e,t,r={}){var s;n=yu(n,nv);const l=Po(e),c=n._getSettings(),m=Object.assign(Object.assign({},c),{emulatorOptions:n._getEmulatorOptions()}),d=`${e}:${t}`;l&&(MT(`https://${d}`),NT("Firestore",!0)),c.host!==rw&&c.host!==d&&ma("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const p=Object.assign(Object.assign({},c),{host:d,ssl:l,emulatorOptions:r});if(!da(p,m)&&(n._setSettings(p),r.mockUserToken)){let y,E;if(typeof r.mockUserToken=="string")y=r.mockUserToken,E=ln.MOCK_USER;else{y=AI(r.mockUserToken,(s=n._app)===null||s===void 0?void 0:s.options.projectId);const T=r.mockUserToken.sub||r.mockUserToken.user_id;if(!T)throw new ve(ue.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");E=new ln(T)}n._authCredentials=new TM(new YS(y,E))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iv{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new iv(this.firestore,e,this._query)}}class Gt{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Au(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Gt(this.firestore,e,this._key)}toJSON(){return{type:Gt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,t,r){if(Lu(t,Gt._jsonSchema))return new Gt(e,r||null,new Ee(pt.fromString(t.referencePath)))}}Gt._jsonSchemaVersion="firestore/documentReference/1.0",Gt._jsonSchema={type:Mt("string",Gt._jsonSchemaVersion),referencePath:Mt("string")};class Au extends iv{constructor(e,t,r){super(e,t,Ug(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Gt(this.firestore,null,new Ee(e))}withConverter(e){return new Au(this.firestore,e,this._path)}}function SE(n,e,...t){if(n=En(n),arguments.length===1&&(e=xg.newId()),DM("doc","path",e),n instanceof nv){const r=pt.fromString(e,...t);return kb(r),new Gt(n,null,new Ee(r))}{if(!(n instanceof Gt||n instanceof Au))throw new ve(ue.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(pt.fromString(e,...t));return kb(r),new Gt(n.firestore,n instanceof Au?n.converter:null,new Ee(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wE="AsyncQueue";class AE{constructor(e=Promise.resolve()){this.Zu=[],this.Xu=!1,this.ec=[],this.tc=null,this.nc=!1,this.rc=!1,this.sc=[],this.F_=new z1(this,"async_queue_retry"),this.oc=()=>{const r=fp();r&&fe(wE,"Visibility state changed to "+r.visibilityState),this.F_.y_()},this._c=e;const t=fp();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.oc)}get isShuttingDown(){return this.Xu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.ac(),this.uc(e)}enterRestrictedMode(e){if(!this.Xu){this.Xu=!0,this.rc=e||!1;const t=fp();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.oc)}}enqueue(e){if(this.ac(),this.Xu)return new Promise(()=>{});const t=new fa;return this.uc(()=>this.Xu&&this.rc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Zu.push(e),this.cc()))}async cc(){if(this.Zu.length!==0){try{await this.Zu[0](),this.Zu.shift(),this.F_.reset()}catch(e){if(!zo(e))throw e;fe(wE,"Operation failed with retryable error: "+e)}this.Zu.length>0&&this.F_.g_(()=>this.cc())}}uc(e){const t=this._c.then(()=>(this.nc=!0,e().catch(r=>{throw this.tc=r,this.nc=!1,Rr("INTERNAL UNHANDLED ERROR: ",RE(r)),r}).then(r=>(this.nc=!1,r))));return this._c=t,t}enqueueAfterDelay(e,t,r){this.ac(),this.sc.indexOf(e)>-1&&(t=0);const s=Wg.createAndSchedule(this,e,t,r,l=>this.lc(l));return this.ec.push(s),s}ac(){this.tc&&Ae(47125,{hc:RE(this.tc)})}verifyOperationInProgress(){}async Pc(){let e;do e=this._c,await e;while(e!==this._c)}Tc(e){for(const t of this.ec)if(t.timerId===e)return!0;return!1}Ic(e){return this.Pc().then(()=>{this.ec.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(const t of this.ec)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Pc()})}dc(e){this.sc.push(e)}lc(e){const t=this.ec.indexOf(e);this.ec.splice(t,1)}}function RE(n){let e=n.message||"";return n.stack&&(e=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),e}class rv extends nv{constructor(e,t,r,s){super(e,t,r,s),this.type="firestore",this._queue=new AE,this._persistenceKey=(s==null?void 0:s.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new AE(e),this._firestoreClient=void 0,await e}}}function EV(n,e){const t=typeof n=="object"?n:dg(),r=typeof n=="string"?n:Jh,s=ys(t,"firestore").getImmediate({identifier:r});if(!s._initialized){const l=SI("firestore");l&&bV(s,...l)}return s}function aw(n){if(n._terminated)throw new ve(ue.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||TV(n),n._firestoreClient}function TV(n){var e,t,r;const s=n._freezeSettings(),l=function(m,d,p,y){return new BM(m,d,p,y.host,y.ssl,y.experimentalForceLongPolling,y.experimentalAutoDetectLongPolling,iw(y.experimentalLongPollingOptions),y.useFetchStreams,y.isUsingEmulator)}(n._databaseId,((e=n._app)===null||e===void 0?void 0:e.options.appId)||"",n._persistenceKey,s);n._componentsProvider||!((t=s.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((r=s.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(n._componentsProvider={_offline:s.localCache._offlineComponentProvider,_online:s.localCache._onlineComponentProvider}),n._firestoreClient=new pV(n._authCredentials,n._appCheckCredentials,n._queue,l,n._componentsProvider&&function(m){const d=m==null?void 0:m._online.build();return{_offline:m==null?void 0:m._offline.build(d),_online:d}}(n._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Qn(tn.fromBase64String(e))}catch(t){throw new ve(ue.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Qn(tn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Qn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Lu(e,Qn._jsonSchema))return Qn.fromBase64String(e.bytes)}}Qn._jsonSchemaVersion="firestore/bytes/1.0",Qn._jsonSchema={type:Mt("string",Qn._jsonSchemaVersion),bytes:Mt("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class av{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new ve(ue.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new en(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sw{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pi{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new ve(ue.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new ve(ue.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Ve(this._lat,e._lat)||Ve(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Pi._jsonSchemaVersion}}static fromJSON(e){if(Lu(e,Pi._jsonSchema))return new Pi(e.latitude,e.longitude)}}Pi._jsonSchemaVersion="firestore/geoPoint/1.0",Pi._jsonSchema={type:Mt("string",Pi._jsonSchemaVersion),latitude:Mt("number"),longitude:Mt("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ki{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,s){if(r.length!==s.length)return!1;for(let l=0;l<r.length;++l)if(r[l]!==s[l])return!1;return!0}(this._values,e._values)}toJSON(){return{type:ki._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Lu(e,ki._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(t=>typeof t=="number"))return new ki(e.vectorValues);throw new ve(ue.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}ki._jsonSchemaVersion="firestore/vectorValue/1.0",ki._jsonSchema={type:Mt("string",ki._jsonSchemaVersion),vectorValues:Mt("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SV=/^__.*__$/;class wV{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return this.fieldMask!==null?new Es(e,this.data,this.fieldMask,t,this.fieldTransforms):new Uu(e,this.data,t,this.fieldTransforms)}}function ow(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ae(40011,{Ec:n})}}class sv{constructor(e,t,r,s,l,c){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=s,l===void 0&&this.Ac(),this.fieldTransforms=l||[],this.fieldMask=c||[]}get path(){return this.settings.path}get Ec(){return this.settings.Ec}Rc(e){return new sv(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Vc(e){var t;const r=(t=this.path)===null||t===void 0?void 0:t.child(e),s=this.Rc({path:r,mc:!1});return s.fc(e),s}gc(e){var t;const r=(t=this.path)===null||t===void 0?void 0:t.child(e),s=this.Rc({path:r,mc:!1});return s.Ac(),s}yc(e){return this.Rc({path:void 0,mc:!0})}wc(e){return cf(e,this.settings.methodName,this.settings.Sc||!1,this.path,this.settings.bc)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}Ac(){if(this.path)for(let e=0;e<this.path.length;e++)this.fc(this.path.get(e))}fc(e){if(e.length===0)throw this.wc("Document fields must not be empty");if(ow(this.Ec)&&SV.test(e))throw this.wc('Document fields cannot begin and end with "__"')}}class AV{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||Lf(e)}Dc(e,t,r,s=!1){return new sv({Ec:e,methodName:t,bc:r,path:en.emptyPath(),mc:!1,Sc:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function RV(n){const e=n._freezeSettings(),t=Lf(n._databaseId);return new AV(n._databaseId,!!e.ignoreUndefinedProperties,t)}function IV(n,e,t,r,s,l={}){const c=n.Dc(l.merge||l.mergeFields?2:0,e,t,s);hw("Data must be an object, but it was:",c,r);const m=uw(r,c);let d,p;if(l.merge)d=new ai(c.fieldMask),p=c.fieldTransforms;else if(l.mergeFields){const y=[];for(const E of l.mergeFields){const T=CV(e,E,t);if(!c.contains(T))throw new ve(ue.INVALID_ARGUMENT,`Field '${T}' is specified in your field mask but missing from your input data.`);DV(y,T)||y.push(T)}d=new ai(y),p=c.fieldTransforms.filter(E=>d.covers(E.field))}else d=null,p=c.fieldTransforms;return new wV(new Yn(m),d,p)}function lw(n,e){if(cw(n=En(n)))return hw("Unsupported field value:",e,n),uw(n,e);if(n instanceof sw)return function(r,s){if(!ow(s.Ec))throw s.wc(`${r._methodName}() can only be used with update() and set()`);if(!s.path)throw s.wc(`${r._methodName}() is not currently supported inside arrays`);const l=r._toFieldTransform(s);l&&s.fieldTransforms.push(l)}(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.mc&&e.Ec!==4)throw e.wc("Nested arrays are not supported");return function(r,s){const l=[];let c=0;for(const m of r){let d=lw(m,s.yc(c));d==null&&(d={nullValue:"NULL_VALUE"}),l.push(d),c++}return{arrayValue:{values:l}}}(n,e)}return function(r,s){if((r=En(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return fN(s.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const l=ht.fromDate(r);return{timestampValue:sf(s.serializer,l)}}if(r instanceof ht){const l=new ht(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:sf(s.serializer,l)}}if(r instanceof Pi)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Qn)return{bytesValue:O1(s.serializer,r._byteString)};if(r instanceof Gt){const l=s.databaseId,c=r.firestore._databaseId;if(!c.isEqual(l))throw s.wc(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${l.projectId}/${l.database}`);return{referenceValue:Bg(r.firestore._databaseId||s.databaseId,r._key.path)}}if(r instanceof ki)return function(c,m){return{mapValue:{fields:{[r1]:{stringValue:a1},[ef]:{arrayValue:{values:c.toArray().map(p=>{if(typeof p!="number")throw m.wc("VectorValues must only contain numeric values.");return jg(m.serializer,p)})}}}}}}(r,s);throw s.wc(`Unsupported field value: ${Mg(r)}`)}(n,e)}function uw(n,e){const t={};return ZS(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):_s(n,(r,s)=>{const l=lw(s,e.Vc(r));l!=null&&(t[r]=l)}),{mapValue:{fields:t}}}function cw(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof ht||n instanceof Pi||n instanceof Qn||n instanceof Gt||n instanceof sw||n instanceof ki)}function hw(n,e,t){if(!cw(t)||!XS(t)){const r=Mg(t);throw r==="an object"?e.wc(n+" a custom object"):e.wc(n+" "+r)}}function CV(n,e,t){if((e=En(e))instanceof av)return e._internalPath;if(typeof e=="string")return fw(n,e);throw cf("Field path arguments must be of type string or ",n,!1,void 0,t)}const OV=new RegExp("[~\\*/\\[\\]]");function fw(n,e,t){if(e.search(OV)>=0)throw cf(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new av(...e.split("."))._internalPath}catch{throw cf(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function cf(n,e,t,r,s){const l=r&&!r.isEmpty(),c=s!==void 0;let m=`Function ${e}() called with invalid data`;t&&(m+=" (via `toFirestore()`)"),m+=". ";let d="";return(l||c)&&(d+=" (found",l&&(d+=` in field ${r}`),c&&(d+=` in document ${s}`),d+=")"),new ve(ue.INVALID_ARGUMENT,m+n+d)}function DV(n,e){return n.some(t=>t.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dw{constructor(e,t,r,s,l){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=s,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new Gt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new xV(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(mw("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class xV extends dw{data(){return super.data()}}function mw(n,e){return typeof e=="string"?fw(n,e):e instanceof av?e._internalPath:e._delegate._internalPath}class MV{convertValue(e,t="none"){switch(ya(e)){case 0:return null;case 1:return e.booleanValue;case 2:return At(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(va(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Ae(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const r={};return _s(e,(s,l)=>{r[s]=this.convertValue(l,t)}),r}convertVectorValue(e){var t,r,s;const l=(s=(r=(t=e.fields)===null||t===void 0?void 0:t[ef].arrayValue)===null||r===void 0?void 0:r.values)===null||s===void 0?void 0:s.map(c=>At(c.doubleValue));return new ki(l)}convertGeoPoint(e){return new Pi(At(e.latitude),At(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":const r=Df(e);return r==null?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(bu(e));default:return null}}convertTimestamp(e){const t=ga(e);return new ht(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=pt.fromString(e);et(P1(r),9688,{name:e});const s=new Eu(r.get(1),r.get(3)),l=new Ee(r.popFirst(5));return s.isEqual(t)||Rr(`Document ${l} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NV(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}class au{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class ls extends dw{constructor(e,t,r,s,l,c){super(e,t,r,s,c),this._firestore=e,this._firestoreImpl=e,this.metadata=l}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new kh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(mw("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ve(ue.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,t={};return t.type=ls._jsonSchemaVersion,t.bundle="",t.bundleSource="DocumentSnapshot",t.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?t:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),t.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),t)}}ls._jsonSchemaVersion="firestore/documentSnapshot/1.0",ls._jsonSchema={type:Mt("string",ls._jsonSchemaVersion),bundleSource:Mt("string","DocumentSnapshot"),bundleName:Mt("string"),bundle:Mt("string")};class kh extends ls{data(e={}){return super.data(e)}}class mu{constructor(e,t,r,s){this._firestore=e,this._userDataWriter=t,this._snapshot=s,this.metadata=new au(s.hasPendingWrites,s.fromCache),this.query=r}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new kh(this._firestore,this._userDataWriter,r.key,r,new au(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new ve(ue.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(s,l){if(s._snapshot.oldDocs.isEmpty()){let c=0;return s._snapshot.docChanges.map(m=>{const d=new kh(s._firestore,s._userDataWriter,m.doc.key,m.doc,new au(s._snapshot.mutatedKeys.has(m.doc.key),s._snapshot.fromCache),s.query.converter);return m.doc,{type:"added",doc:d,oldIndex:-1,newIndex:c++}})}{let c=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(m=>l||m.type!==3).map(m=>{const d=new kh(s._firestore,s._userDataWriter,m.doc.key,m.doc,new au(s._snapshot.mutatedKeys.has(m.doc.key),s._snapshot.fromCache),s.query.converter);let p=-1,y=-1;return m.type!==0&&(p=c.indexOf(m.doc.key),c=c.delete(m.doc.key)),m.type!==1&&(c=c.add(m.doc),y=c.indexOf(m.doc.key)),{type:VV(m.type),doc:d,oldIndex:p,newIndex:y}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ve(ue.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=mu._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=xg.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const t=[],r=[],s=[];return this.docs.forEach(l=>{l._document!==null&&(t.push(l._document),r.push(this._userDataWriter.convertObjectMap(l._document.data.value.mapValue.fields,"previous")),s.push(l.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function VV(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ae(61501,{type:n})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PV(n){n=yu(n,Gt);const e=yu(n.firestore,rv);return _V(aw(e),n._key).then(t=>jV(e,n,t))}mu._jsonSchemaVersion="firestore/querySnapshot/1.0",mu._jsonSchema={type:Mt("string",mu._jsonSchemaVersion),bundleSource:Mt("string","QuerySnapshot"),bundleName:Mt("string"),bundle:Mt("string")};class kV extends MV{constructor(e){super(),this.firestore=e}convertBytes(e){return new Qn(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Gt(this.firestore,null,t)}}function LV(n,e,t){n=yu(n,Gt);const r=yu(n.firestore,rv),s=NV(n.converter,e,t);return UV(r,[IV(RV(r),"setDoc",n._key,s,n.converter!==null,t).toMutation(n._key,br.none())])}function UV(n,e){return function(r,s){const l=new fa;return r.asyncQueue.enqueueAndForget(async()=>aV(await vV(r),s,l)),l.promise}(aw(n),e)}function jV(n,e,t){const r=t.docs.get(e._key),s=new kV(n);return new ls(n,s,e._key,r,new au(t.hasPendingWrites,t.fromCache),e.converter)}(function(e,t=!0){(function(s){Uo=s})(ko),Ui(new li("firestore",(r,{instanceIdentifier:s,options:l})=>{const c=r.getProvider("app").getImmediate(),m=new rv(new SM(r.getProvider("auth-internal")),new RM(c,r.getProvider("app-check-internal")),function(p,y){if(!Object.prototype.hasOwnProperty.apply(p.options,["projectId"]))throw new ve(ue.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Eu(p.options.projectId,y)}(c,s),c);return l=Object.assign({useFetchStreams:t},l),m._setSettings(l),m},"PUBLIC").setMultipleInstances(!0)),Xn(xb,Mb,e),Xn(xb,Mb,"esm2017")})();const zV={apiKey:"AIzaSyBppXO3u_DZi9fi2nEXo_S_oo8oYJEkQFk",authDomain:"moviesite-3b722.firebaseapp.com",projectId:"moviesite-3b722",storageBucket:"moviesite-3b722.firebasestorage.app",messagingSenderId:"842665193118",appId:"1:842665193118:web:d589fba64d951be296158f",measurementId:"G-Z1RT4FZMX3"},ov=zT(zV);gD(ov);const Xp=_M(ov),IE=EV(ov),FV=new gr,pw=x.createContext(),zf=()=>x.useContext(pw),BV=({children:n})=>{const[e,t]=x.useState(null),[r,s]=x.useState(!0);x.useEffect(()=>{const m=ox(Xp,d=>{t(d),s(!1)});return()=>m()},[]);const c={user:e,loading:r,isAuthenticated:!!e,logout:()=>lx(Xp)};return L.jsx(pw.Provider,{value:c,children:n})},gw=x.createContext(),lv=()=>x.useContext(gw),HV=({children:n})=>{const{user:e}=zf(),[t,r]=x.useState([]),[s,l]=x.useState([]),[c,m]=x.useState(!1);x.useEffect(()=>{if(!e){r([]),l([]),m(!1);return}(async()=>{try{console.log("Fetching user data for:",e.uid);const I=await PV(SE(IE,"users",e.uid));if(I.exists()){const M=I.data();console.log("Found user data:",M),r(M.favorites||[]),l(M.watchLater||[])}else console.log("No existing user document found, starting with empty lists"),r([]),l([]);m(!0)}catch(I){console.error("Error fetching user data:",I),m(!0)}})()},[e]),x.useEffect(()=>{if(!e||!c){console.log("Skipping save - user:",!!e,"isLoaded:",c);return}(async()=>{try{console.log("Saving to Firestore:",{favorites:t,watchLater:s}),await LV(SE(IE,"users",e.uid),{favorites:t,watchLater:s},{merge:!0}),console.log("Successfully saved to Firestore")}catch(I){console.error("Error saving user data:",I)}})()},[t,s,e,c]);const C={favorites:t,watchLater:s,addToFavorites:N=>{console.log("Adding to favorites:",N),r(I=>[...I,N])},removeFromFavorites:N=>{console.log("Removing from favorites:",N),r(I=>I.filter(M=>M.id!==N))},isFavorite:N=>t.some(I=>I.id===N),addToWatchLater:N=>{console.log("Adding to watch later:",N),l(I=>[...I,N])},removeFromWatchLater:N=>{console.log("Removing from watch later:",N),l(I=>I.filter(M=>M.id!==N))},isWatchLater:N=>s.some(I=>I.id===N)};return L.jsx(gw.Provider,{value:C,children:n})};function Ru({item:n,itemType:e}){var d,p;const{isFavorite:t,addToFavorites:r,removeFromFavorites:s}=lv(),{isAuthenticated:l}=zf(),c=t(n.id);function m(y){if(y.preventDefault(),!l){alert("Please log in to add items to your lists!");return}c?s(n.id):r(n)}return L.jsxs(Sr,{to:e==="movie"?`/movie/${n.id}`:`/tv/${n.id}`,className:"item-card",children:[L.jsxs("div",{className:"item-poster",children:[L.jsx("img",{src:`https://image.tmdb.org/t/p/w500${n.poster_path}`,alt:e==="movie"?n.title:n.name}),L.jsx("div",{className:"item-overlay",children:L.jsxs("button",{className:`favorite-btn ${l&&c?"active":""}`,onClick:m,children:[L.jsx("span",{className:"material-icons",children:t(n.id)?"favorite":"favorite_border"}),L.jsx("span",{className:"tooltip-text",children:"add to "})]})})]}),L.jsxs("div",{className:"item-info",children:[L.jsx("h3",{children:e==="movie"?n.title:n.name}),L.jsxs("p",{className:"item-grid-detail",children:[L.jsx("span",{children:e==="movie"?(d=n.release_date)==null?void 0:d.split("-")[0]:(p=n.first_air_date)==null?void 0:p.split("-")[0]}),L.jsxs("span",{children:[Math.round(n.vote_average*10),"%"]})]})]})]})}function qV(){const{favorites:n,watchLater:e}=lv(),[t,r]=x.useState(null),s=t?e:n,l=t?"Watch Later":"Favorites";return L.jsxs("div",{className:"lists",children:[L.jsx("div",{style:{marginBottom:"1rem"},children:L.jsx("button",{onClick:()=>r(c=>!c),children:t?"Show Favorites":"Show Watch Later"})}),L.jsx("h2",{children:l}),s&&s.length>0?L.jsx("div",{className:"movies-grid",children:s.filter(c=>c&&c.id).map(c=>c.title?L.jsx(Ru,{item:c,itemType:"movie"},c.id):L.jsx(Ru,{item:c,itemType:"tv"},c.id))}):L.jsxs("div",{className:"empty",children:[L.jsx("h2",{children:"No items in list"}),L.jsx("p",{children:L.jsx("strong",{children:"Add items to the list to see them"})})]})]})}const Eo=({movieToggle:n,movieList:e,sectionId:t,isSearch:r=!1})=>{const[s,l]=x.useState(!1),[c,m]=x.useState(!0),d=()=>{const E=document.querySelector(`.movies-list-${t}`);if(E){const{scrollLeft:T,scrollWidth:R,clientWidth:C}=E;l(T>0),m(T<R-C-1)}};x.useEffect(()=>{d();const E=document.querySelector(`.movies-list-${t}`);if(E)return E.addEventListener("scroll",d),()=>E.removeEventListener("scroll",d)},[t]);const p=()=>{const E=document.querySelector(`.movies-list-${t}`);E&&(E.scrollBy({left:800,behavior:"smooth"}),setTimeout(d,350))},y=()=>{const E=document.querySelector(`.movies-list-${t}`);E&&(E.scrollBy({left:-800,behavior:"smooth"}),setTimeout(d,350))};return L.jsxs("div",{className:"popular-movies-container",children:[!r&&L.jsx("button",{className:`scroll-btn scroll-btn-left ${s?"":"disabled"}`,onClick:y,disabled:!s,children:L.jsx("span",{className:"material-icons-outlined",children:"navigate_before"})}),L.jsx("div",{className:`movies-list movies-list-${t}`,children:e.map(E=>n?L.jsx(Ru,{item:E,itemType:"movie"},E.id):L.jsx(Ru,{item:E,itemType:"tv"},E.id))}),!r&&L.jsx("button",{className:`scroll-btn scroll-btn-right ${c?"":"disabled"}`,onClick:p,disabled:!c,children:L.jsx("span",{className:"material-icons-outlined",children:"navigate_next"})})]})},Ge="d8adda5f151d7d774e14559dafc26eca",Ke="https://api.themoviedb.org/3",$V=async()=>(await(await fetch(`${Ke}/movie/popular?api_key=${Ge}`)).json()).results,GV=async n=>(await(await fetch(`${Ke}/movie/now_playing?api_key=${Ge}`)).json()).results,KV=async n=>(await(await fetch(`${Ke}/movie/top_rated?api_key=${Ge}`)).json()).results,YV=async n=>(await(await fetch(`${Ke}/movie/upcoming?api_key=${Ge}`)).json()).results,CE=async n=>(await(await fetch(`${Ke}/search/movie?api_key=${Ge}&query=${encodeURIComponent(n)}`)).json()).results,vw=async n=>await(await fetch(`${Ke}/movie/${n}?api_key=${Ge}`)).json(),QV=async n=>await(await fetch(`${Ke}/movie/${n}/credits?api_key=${Ge}`)).json(),XV=async n=>(await(await fetch(`${Ke}/movie/${n}/recommendations?api_key=${Ge}`)).json()).results,WV=async n=>(await(await fetch(`${Ke}/movie/${n}/watch/providers?api_key=${Ge}`)).json()).results,ZV=async n=>(await(await fetch(`${Ke}/movie/${n}/videos?api_key=${Ge}`)).json()).results.filter(r=>r.type==="Trailer"&&r.site==="YouTube"),JV=async n=>(await(await fetch(`${Ke}/movie/${n}/reviews?api_key=${Ge}`)).json()).results,eP=async n=>{const r=(await(await fetch(`${Ke}/movie/${n}/release_dates?api_key=${Ge}`)).json()).results.find(l=>l.iso_3166_1==="US");if(!r)return"N/A";const s=r.release_dates.find(l=>l.certification!=="");return(s==null?void 0:s.certification)||"N/A"},tP=async()=>await(await fetch(`${Ke}/genre/movie/list?api_key=${Ge}`)).json(),nP=async(n,e="popularity.desc",t=1)=>(await(await fetch(`${Ke}/discover/movie?api_key=${Ge}&with_genres=${n}&sort_by=${e}&page=${t}`)).json()).results,iP=async()=>await(await fetch(`${Ke}/genre/tv/list?api_key=${Ge}`)).json(),rP=async(n,e="popularity.desc",t=1)=>(await(await fetch(`${Ke}/discover/tv?api_key=${Ge}&with_genres=${n}&sort_by=${e}&page=${t}`)).json()).results,aP=async()=>(await(await fetch(`${Ke}/tv/popular?api_key=${Ge}`)).json()).results,sP=async n=>(await(await fetch(`${Ke}/tv/airing_today?api_key=${Ge}`)).json()).results,oP=async n=>(await(await fetch(`${Ke}/tv/on_the_air?api_key=${Ge}`)).json()).results,lP=async()=>(await(await fetch(`${Ke}/tv/top_rated?api_key=${Ge}`)).json()).results,OE=async n=>(await(await fetch(`${Ke}/search/tv?api_key=${Ge}&query=${encodeURIComponent(n)}`)).json()).results,yw=async n=>await(await fetch(`${Ke}/tv/${n}?api_key=${Ge}`)).json(),uP=async n=>await(await fetch(`${Ke}/tv/${n}/aggregate_credits?api_key=${Ge}`)).json(),cP=async n=>(await(await fetch(`${Ke}/tv/${n}/recommendations?api_key=${Ge}`)).json()).results,hP=async n=>await(await fetch(`${Ke}/tv/${n}/images?api_key=${Ge}`)).json(),fP=async n=>(await(await fetch(`${Ke}/tv/${n}/watch/providers?api_key=${Ge}`)).json()).results,dP=async n=>(await(await fetch(`${Ke}/tv/${n}/videos?api_key=${Ge}`)).json()).results.filter(r=>r.type==="Trailer"&&r.site==="YouTube"),mP=async n=>{const r=(await(await fetch(`${Ke}/tv/${n}/content_ratings?api_key=${Ge}`)).json()).results.find(s=>s.iso_3166_1==="US");return(r==null?void 0:r.rating)||"Not Rated"},pP=async n=>(await(await fetch(`${Ke}/tv/${n}/reviews?api_key=${Ge}`)).json()).results,gP=async n=>await(await fetch(`${Ke}/person/${n}?api_key=${Ge}`)).json(),vP=async n=>await(await fetch(`${Ke}/person/${n}/external_ids?api_key=${Ge}`)).json(),yP=async n=>await(await fetch(`${Ke}/person/${n}/combined_credits?api_key=${Ge}`)).json();function ms(n){"@babel/helpers - typeof";return ms=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ms(n)}function _P(n,e){if(ms(n)!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(ms(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function _w(n){var e=_P(n,"string");return ms(e)=="symbol"?e:e+""}function su(n,e,t){return(e=_w(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function DE(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(n,s).enumerable})),t.push.apply(t,r)}return t}function be(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?DE(Object(t),!0).forEach(function(r){su(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):DE(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function bP(n){if(Array.isArray(n))return n}function EP(n,e){var t=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(t!=null){var r,s,l,c,m=[],d=!0,p=!1;try{if(l=(t=t.call(n)).next,e===0){if(Object(t)!==t)return;d=!1}else for(;!(d=(r=l.call(t)).done)&&(m.push(r.value),m.length!==e);d=!0);}catch(y){p=!0,s=y}finally{try{if(!d&&t.return!=null&&(c=t.return(),Object(c)!==c))return}finally{if(p)throw s}}return m}}function Wp(n,e){(e==null||e>n.length)&&(e=n.length);for(var t=0,r=Array(e);t<e;t++)r[t]=n[t];return r}function bw(n,e){if(n){if(typeof n=="string")return Wp(n,e);var t={}.toString.call(n).slice(8,-1);return t==="Object"&&n.constructor&&(t=n.constructor.name),t==="Map"||t==="Set"?Array.from(n):t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?Wp(n,e):void 0}}function TP(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Er(n,e){return bP(n)||EP(n,e)||bw(n,e)||TP()}function SP(n,e){if(n==null)return{};var t={};for(var r in n)if({}.hasOwnProperty.call(n,r)){if(e.indexOf(r)!==-1)continue;t[r]=n[r]}return t}function Or(n,e){if(n==null)return{};var t,r,s=SP(n,e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(n);for(r=0;r<l.length;r++)t=l[r],e.indexOf(t)===-1&&{}.propertyIsEnumerable.call(n,t)&&(s[t]=n[t])}return s}var wP=["defaultInputValue","defaultMenuIsOpen","defaultValue","inputValue","menuIsOpen","onChange","onInputChange","onMenuClose","onMenuOpen","value"];function AP(n){var e=n.defaultInputValue,t=e===void 0?"":e,r=n.defaultMenuIsOpen,s=r===void 0?!1:r,l=n.defaultValue,c=l===void 0?null:l,m=n.inputValue,d=n.menuIsOpen,p=n.onChange,y=n.onInputChange,E=n.onMenuClose,T=n.onMenuOpen,R=n.value,C=Or(n,wP),N=x.useState(m!==void 0?m:t),I=Er(N,2),M=I[0],j=I[1],$=x.useState(d!==void 0?d:s),ee=Er($,2),q=ee[0],oe=ee[1],O=x.useState(R!==void 0?R:c),A=Er(O,2),D=A[0],V=A[1],z=x.useCallback(function(he,ye){typeof p=="function"&&p(he,ye),V(he)},[p]),B=x.useCallback(function(he,ye){var P;typeof y=="function"&&(P=y(he,ye)),j(P!==void 0?P:he)},[y]),k=x.useCallback(function(){typeof T=="function"&&T(),oe(!0)},[T]),Ye=x.useCallback(function(){typeof E=="function"&&E(),oe(!1)},[E]),Oe=m!==void 0?m:M,W=d!==void 0?d:q,J=R!==void 0?R:D;return be(be({},C),{},{inputValue:Oe,menuIsOpen:W,onChange:z,onInputChange:B,onMenuClose:Ye,onMenuOpen:k,value:J})}function we(){return we=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},we.apply(null,arguments)}function RP(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function xE(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,_w(r.key),r)}}function IP(n,e,t){return e&&xE(n.prototype,e),t&&xE(n,t),Object.defineProperty(n,"prototype",{writable:!1}),n}function Zp(n,e){return Zp=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,r){return t.__proto__=r,t},Zp(n,e)}function CP(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),e&&Zp(n,e)}function hf(n){return hf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},hf(n)}function Ew(){try{var n=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Ew=function(){return!!n})()}function OP(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function DP(n,e){if(e&&(ms(e)=="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return OP(n)}function xP(n){var e=Ew();return function(){var t,r=hf(n);if(e){var s=hf(this).constructor;t=Reflect.construct(r,arguments,s)}else t=r.apply(this,arguments);return DP(this,t)}}function MP(n){if(Array.isArray(n))return Wp(n)}function NP(n){if(typeof Symbol<"u"&&n[Symbol.iterator]!=null||n["@@iterator"]!=null)return Array.from(n)}function VP(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function uv(n){return MP(n)||NP(n)||bw(n)||VP()}function PP(n){if(n.sheet)return n.sheet;for(var e=0;e<document.styleSheets.length;e++)if(document.styleSheets[e].ownerNode===n)return document.styleSheets[e]}function kP(n){var e=document.createElement("style");return e.setAttribute("data-emotion",n.key),n.nonce!==void 0&&e.setAttribute("nonce",n.nonce),e.appendChild(document.createTextNode("")),e.setAttribute("data-s",""),e}var LP=function(){function n(t){var r=this;this._insertTag=function(s){var l;r.tags.length===0?r.insertionPoint?l=r.insertionPoint.nextSibling:r.prepend?l=r.container.firstChild:l=r.before:l=r.tags[r.tags.length-1].nextSibling,r.container.insertBefore(s,l),r.tags.push(s)},this.isSpeedy=t.speedy===void 0?!0:t.speedy,this.tags=[],this.ctr=0,this.nonce=t.nonce,this.key=t.key,this.container=t.container,this.prepend=t.prepend,this.insertionPoint=t.insertionPoint,this.before=null}var e=n.prototype;return e.hydrate=function(r){r.forEach(this._insertTag)},e.insert=function(r){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(kP(this));var s=this.tags[this.tags.length-1];if(this.isSpeedy){var l=PP(s);try{l.insertRule(r,l.cssRules.length)}catch{}}else s.appendChild(document.createTextNode(r));this.ctr++},e.flush=function(){this.tags.forEach(function(r){var s;return(s=r.parentNode)==null?void 0:s.removeChild(r)}),this.tags=[],this.ctr=0},n}(),on="-ms-",ff="-moz-",Xe="-webkit-",Tw="comm",cv="rule",hv="decl",UP="@import",Sw="@keyframes",jP="@layer",zP=Math.abs,Ff=String.fromCharCode,FP=Object.assign;function BP(n,e){return Jt(n,0)^45?(((e<<2^Jt(n,0))<<2^Jt(n,1))<<2^Jt(n,2))<<2^Jt(n,3):0}function ww(n){return n.trim()}function HP(n,e){return(n=e.exec(n))?n[0]:n}function We(n,e,t){return n.replace(e,t)}function Jp(n,e){return n.indexOf(e)}function Jt(n,e){return n.charCodeAt(e)|0}function Iu(n,e,t){return n.slice(e,t)}function Di(n){return n.length}function fv(n){return n.length}function bh(n,e){return e.push(n),n}function qP(n,e){return n.map(e).join("")}var Bf=1,No=1,Aw=0,Tn=0,xt=0,Bo="";function Hf(n,e,t,r,s,l,c){return{value:n,root:e,parent:t,type:r,props:s,children:l,line:Bf,column:No,length:c,return:""}}function eu(n,e){return FP(Hf("",null,null,"",null,null,0),n,{length:-n.length},e)}function $P(){return xt}function GP(){return xt=Tn>0?Jt(Bo,--Tn):0,No--,xt===10&&(No=1,Bf--),xt}function Nn(){return xt=Tn<Aw?Jt(Bo,Tn++):0,No++,xt===10&&(No=1,Bf++),xt}function Li(){return Jt(Bo,Tn)}function Lh(){return Tn}function Bu(n,e){return Iu(Bo,n,e)}function Cu(n){switch(n){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function Rw(n){return Bf=No=1,Aw=Di(Bo=n),Tn=0,[]}function Iw(n){return Bo="",n}function Uh(n){return ww(Bu(Tn-1,eg(n===91?n+2:n===40?n+1:n)))}function KP(n){for(;(xt=Li())&&xt<33;)Nn();return Cu(n)>2||Cu(xt)>3?"":" "}function YP(n,e){for(;--e&&Nn()&&!(xt<48||xt>102||xt>57&&xt<65||xt>70&&xt<97););return Bu(n,Lh()+(e<6&&Li()==32&&Nn()==32))}function eg(n){for(;Nn();)switch(xt){case n:return Tn;case 34:case 39:n!==34&&n!==39&&eg(xt);break;case 40:n===41&&eg(n);break;case 92:Nn();break}return Tn}function QP(n,e){for(;Nn()&&n+xt!==57;)if(n+xt===84&&Li()===47)break;return"/*"+Bu(e,Tn-1)+"*"+Ff(n===47?n:Nn())}function XP(n){for(;!Cu(Li());)Nn();return Bu(n,Tn)}function WP(n){return Iw(jh("",null,null,null,[""],n=Rw(n),0,[0],n))}function jh(n,e,t,r,s,l,c,m,d){for(var p=0,y=0,E=c,T=0,R=0,C=0,N=1,I=1,M=1,j=0,$="",ee=s,q=l,oe=r,O=$;I;)switch(C=j,j=Nn()){case 40:if(C!=108&&Jt(O,E-1)==58){Jp(O+=We(Uh(j),"&","&\f"),"&\f")!=-1&&(M=-1);break}case 34:case 39:case 91:O+=Uh(j);break;case 9:case 10:case 13:case 32:O+=KP(C);break;case 92:O+=YP(Lh()-1,7);continue;case 47:switch(Li()){case 42:case 47:bh(ZP(QP(Nn(),Lh()),e,t),d);break;default:O+="/"}break;case 123*N:m[p++]=Di(O)*M;case 125*N:case 59:case 0:switch(j){case 0:case 125:I=0;case 59+y:M==-1&&(O=We(O,/\f/g,"")),R>0&&Di(O)-E&&bh(R>32?NE(O+";",r,t,E-1):NE(We(O," ","")+";",r,t,E-2),d);break;case 59:O+=";";default:if(bh(oe=ME(O,e,t,p,y,s,m,$,ee=[],q=[],E),l),j===123)if(y===0)jh(O,e,oe,oe,ee,l,E,m,q);else switch(T===99&&Jt(O,3)===110?100:T){case 100:case 108:case 109:case 115:jh(n,oe,oe,r&&bh(ME(n,oe,oe,0,0,s,m,$,s,ee=[],E),q),s,q,E,m,r?ee:q);break;default:jh(O,oe,oe,oe,[""],q,0,m,q)}}p=y=R=0,N=M=1,$=O="",E=c;break;case 58:E=1+Di(O),R=C;default:if(N<1){if(j==123)--N;else if(j==125&&N++==0&&GP()==125)continue}switch(O+=Ff(j),j*N){case 38:M=y>0?1:(O+="\f",-1);break;case 44:m[p++]=(Di(O)-1)*M,M=1;break;case 64:Li()===45&&(O+=Uh(Nn())),T=Li(),y=E=Di($=O+=XP(Lh())),j++;break;case 45:C===45&&Di(O)==2&&(N=0)}}return l}function ME(n,e,t,r,s,l,c,m,d,p,y){for(var E=s-1,T=s===0?l:[""],R=fv(T),C=0,N=0,I=0;C<r;++C)for(var M=0,j=Iu(n,E+1,E=zP(N=c[C])),$=n;M<R;++M)($=ww(N>0?T[M]+" "+j:We(j,/&\f/g,T[M])))&&(d[I++]=$);return Hf(n,e,t,s===0?cv:m,d,p,y)}function ZP(n,e,t){return Hf(n,e,t,Tw,Ff($P()),Iu(n,2,-2),0)}function NE(n,e,t,r){return Hf(n,e,t,hv,Iu(n,0,r),Iu(n,r+1,-1),r)}function Ro(n,e){for(var t="",r=fv(n),s=0;s<r;s++)t+=e(n[s],s,n,e)||"";return t}function JP(n,e,t,r){switch(n.type){case jP:if(n.children.length)break;case UP:case hv:return n.return=n.return||n.value;case Tw:return"";case Sw:return n.return=n.value+"{"+Ro(n.children,r)+"}";case cv:n.value=n.props.join(",")}return Di(t=Ro(n.children,r))?n.return=n.value+"{"+t+"}":""}function e3(n){var e=fv(n);return function(t,r,s,l){for(var c="",m=0;m<e;m++)c+=n[m](t,r,s,l)||"";return c}}function t3(n){return function(e){e.root||(e=e.return)&&n(e)}}function n3(n){var e=Object.create(null);return function(t){return e[t]===void 0&&(e[t]=n(t)),e[t]}}var i3=function(e,t,r){for(var s=0,l=0;s=l,l=Li(),s===38&&l===12&&(t[r]=1),!Cu(l);)Nn();return Bu(e,Tn)},r3=function(e,t){var r=-1,s=44;do switch(Cu(s)){case 0:s===38&&Li()===12&&(t[r]=1),e[r]+=i3(Tn-1,t,r);break;case 2:e[r]+=Uh(s);break;case 4:if(s===44){e[++r]=Li()===58?"&\f":"",t[r]=e[r].length;break}default:e[r]+=Ff(s)}while(s=Nn());return e},a3=function(e,t){return Iw(r3(Rw(e),t))},VE=new WeakMap,s3=function(e){if(!(e.type!=="rule"||!e.parent||e.length<1)){for(var t=e.value,r=e.parent,s=e.column===r.column&&e.line===r.line;r.type!=="rule";)if(r=r.parent,!r)return;if(!(e.props.length===1&&t.charCodeAt(0)!==58&&!VE.get(r))&&!s){VE.set(e,!0);for(var l=[],c=a3(t,l),m=r.props,d=0,p=0;d<c.length;d++)for(var y=0;y<m.length;y++,p++)e.props[p]=l[d]?c[d].replace(/&\f/g,m[y]):m[y]+" "+c[d]}}},o3=function(e){if(e.type==="decl"){var t=e.value;t.charCodeAt(0)===108&&t.charCodeAt(2)===98&&(e.return="",e.value="")}};function Cw(n,e){switch(BP(n,e)){case 5103:return Xe+"print-"+n+n;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return Xe+n+n;case 5349:case 4246:case 4810:case 6968:case 2756:return Xe+n+ff+n+on+n+n;case 6828:case 4268:return Xe+n+on+n+n;case 6165:return Xe+n+on+"flex-"+n+n;case 5187:return Xe+n+We(n,/(\w+).+(:[^]+)/,Xe+"box-$1$2"+on+"flex-$1$2")+n;case 5443:return Xe+n+on+"flex-item-"+We(n,/flex-|-self/,"")+n;case 4675:return Xe+n+on+"flex-line-pack"+We(n,/align-content|flex-|-self/,"")+n;case 5548:return Xe+n+on+We(n,"shrink","negative")+n;case 5292:return Xe+n+on+We(n,"basis","preferred-size")+n;case 6060:return Xe+"box-"+We(n,"-grow","")+Xe+n+on+We(n,"grow","positive")+n;case 4554:return Xe+We(n,/([^-])(transform)/g,"$1"+Xe+"$2")+n;case 6187:return We(We(We(n,/(zoom-|grab)/,Xe+"$1"),/(image-set)/,Xe+"$1"),n,"")+n;case 5495:case 3959:return We(n,/(image-set\([^]*)/,Xe+"$1$`$1");case 4968:return We(We(n,/(.+:)(flex-)?(.*)/,Xe+"box-pack:$3"+on+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+Xe+n+n;case 4095:case 3583:case 4068:case 2532:return We(n,/(.+)-inline(.+)/,Xe+"$1$2")+n;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(Di(n)-1-e>6)switch(Jt(n,e+1)){case 109:if(Jt(n,e+4)!==45)break;case 102:return We(n,/(.+:)(.+)-([^]+)/,"$1"+Xe+"$2-$3$1"+ff+(Jt(n,e+3)==108?"$3":"$2-$3"))+n;case 115:return~Jp(n,"stretch")?Cw(We(n,"stretch","fill-available"),e)+n:n}break;case 4949:if(Jt(n,e+1)!==115)break;case 6444:switch(Jt(n,Di(n)-3-(~Jp(n,"!important")&&10))){case 107:return We(n,":",":"+Xe)+n;case 101:return We(n,/(.+:)([^;!]+)(;|!.+)?/,"$1"+Xe+(Jt(n,14)===45?"inline-":"")+"box$3$1"+Xe+"$2$3$1"+on+"$2box$3")+n}break;case 5936:switch(Jt(n,e+11)){case 114:return Xe+n+on+We(n,/[svh]\w+-[tblr]{2}/,"tb")+n;case 108:return Xe+n+on+We(n,/[svh]\w+-[tblr]{2}/,"tb-rl")+n;case 45:return Xe+n+on+We(n,/[svh]\w+-[tblr]{2}/,"lr")+n}return Xe+n+on+n+n}return n}var l3=function(e,t,r,s){if(e.length>-1&&!e.return)switch(e.type){case hv:e.return=Cw(e.value,e.length);break;case Sw:return Ro([eu(e,{value:We(e.value,"@","@"+Xe)})],s);case cv:if(e.length)return qP(e.props,function(l){switch(HP(l,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return Ro([eu(e,{props:[We(l,/:(read-\w+)/,":"+ff+"$1")]})],s);case"::placeholder":return Ro([eu(e,{props:[We(l,/:(plac\w+)/,":"+Xe+"input-$1")]}),eu(e,{props:[We(l,/:(plac\w+)/,":"+ff+"$1")]}),eu(e,{props:[We(l,/:(plac\w+)/,on+"input-$1")]})],s)}return""})}},u3=[l3],c3=function(e){var t=e.key;if(t==="css"){var r=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(r,function(N){var I=N.getAttribute("data-emotion");I.indexOf(" ")!==-1&&(document.head.appendChild(N),N.setAttribute("data-s",""))})}var s=e.stylisPlugins||u3,l={},c,m=[];c=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+t+' "]'),function(N){for(var I=N.getAttribute("data-emotion").split(" "),M=1;M<I.length;M++)l[I[M]]=!0;m.push(N)});var d,p=[s3,o3];{var y,E=[JP,t3(function(N){y.insert(N)})],T=e3(p.concat(s,E)),R=function(I){return Ro(WP(I),T)};d=function(I,M,j,$){y=j,R(I?I+"{"+M.styles+"}":M.styles),$&&(C.inserted[M.name]=!0)}}var C={key:t,sheet:new LP({key:t,container:c,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:l,registered:{},insert:d};return C.sheet.hydrate(m),C},mp={exports:{}},Je={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var PE;function h3(){if(PE)return Je;PE=1;var n=typeof Symbol=="function"&&Symbol.for,e=n?Symbol.for("react.element"):60103,t=n?Symbol.for("react.portal"):60106,r=n?Symbol.for("react.fragment"):60107,s=n?Symbol.for("react.strict_mode"):60108,l=n?Symbol.for("react.profiler"):60114,c=n?Symbol.for("react.provider"):60109,m=n?Symbol.for("react.context"):60110,d=n?Symbol.for("react.async_mode"):60111,p=n?Symbol.for("react.concurrent_mode"):60111,y=n?Symbol.for("react.forward_ref"):60112,E=n?Symbol.for("react.suspense"):60113,T=n?Symbol.for("react.suspense_list"):60120,R=n?Symbol.for("react.memo"):60115,C=n?Symbol.for("react.lazy"):60116,N=n?Symbol.for("react.block"):60121,I=n?Symbol.for("react.fundamental"):60117,M=n?Symbol.for("react.responder"):60118,j=n?Symbol.for("react.scope"):60119;function $(q){if(typeof q=="object"&&q!==null){var oe=q.$$typeof;switch(oe){case e:switch(q=q.type,q){case d:case p:case r:case l:case s:case E:return q;default:switch(q=q&&q.$$typeof,q){case m:case y:case C:case R:case c:return q;default:return oe}}case t:return oe}}}function ee(q){return $(q)===p}return Je.AsyncMode=d,Je.ConcurrentMode=p,Je.ContextConsumer=m,Je.ContextProvider=c,Je.Element=e,Je.ForwardRef=y,Je.Fragment=r,Je.Lazy=C,Je.Memo=R,Je.Portal=t,Je.Profiler=l,Je.StrictMode=s,Je.Suspense=E,Je.isAsyncMode=function(q){return ee(q)||$(q)===d},Je.isConcurrentMode=ee,Je.isContextConsumer=function(q){return $(q)===m},Je.isContextProvider=function(q){return $(q)===c},Je.isElement=function(q){return typeof q=="object"&&q!==null&&q.$$typeof===e},Je.isForwardRef=function(q){return $(q)===y},Je.isFragment=function(q){return $(q)===r},Je.isLazy=function(q){return $(q)===C},Je.isMemo=function(q){return $(q)===R},Je.isPortal=function(q){return $(q)===t},Je.isProfiler=function(q){return $(q)===l},Je.isStrictMode=function(q){return $(q)===s},Je.isSuspense=function(q){return $(q)===E},Je.isValidElementType=function(q){return typeof q=="string"||typeof q=="function"||q===r||q===p||q===l||q===s||q===E||q===T||typeof q=="object"&&q!==null&&(q.$$typeof===C||q.$$typeof===R||q.$$typeof===c||q.$$typeof===m||q.$$typeof===y||q.$$typeof===I||q.$$typeof===M||q.$$typeof===j||q.$$typeof===N)},Je.typeOf=$,Je}var kE;function f3(){return kE||(kE=1,mp.exports=h3()),mp.exports}var pp,LE;function d3(){if(LE)return pp;LE=1;var n=f3(),e={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},t={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},r={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},s={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},l={};l[n.ForwardRef]=r,l[n.Memo]=s;function c(C){return n.isMemo(C)?s:l[C.$$typeof]||e}var m=Object.defineProperty,d=Object.getOwnPropertyNames,p=Object.getOwnPropertySymbols,y=Object.getOwnPropertyDescriptor,E=Object.getPrototypeOf,T=Object.prototype;function R(C,N,I){if(typeof N!="string"){if(T){var M=E(N);M&&M!==T&&R(C,M,I)}var j=d(N);p&&(j=j.concat(p(N)));for(var $=c(C),ee=c(N),q=0;q<j.length;++q){var oe=j[q];if(!t[oe]&&!(I&&I[oe])&&!(ee&&ee[oe])&&!($&&$[oe])){var O=y(N,oe);try{m(C,oe,O)}catch{}}}}return C}return pp=R,pp}d3();var m3=!0;function p3(n,e,t){var r="";return t.split(" ").forEach(function(s){n[s]!==void 0?e.push(n[s]+";"):s&&(r+=s+" ")}),r}var Ow=function(e,t,r){var s=e.key+"-"+t.name;(r===!1||m3===!1)&&e.registered[s]===void 0&&(e.registered[s]=t.styles)},g3=function(e,t,r){Ow(e,t,r);var s=e.key+"-"+t.name;if(e.inserted[t.name]===void 0){var l=t;do e.insert(t===l?"."+s:"",l,e.sheet,!0),l=l.next;while(l!==void 0)}};function v3(n){for(var e=0,t,r=0,s=n.length;s>=4;++r,s-=4)t=n.charCodeAt(r)&255|(n.charCodeAt(++r)&255)<<8|(n.charCodeAt(++r)&255)<<16|(n.charCodeAt(++r)&255)<<24,t=(t&65535)*1540483477+((t>>>16)*59797<<16),t^=t>>>24,e=(t&65535)*1540483477+((t>>>16)*59797<<16)^(e&65535)*1540483477+((e>>>16)*59797<<16);switch(s){case 3:e^=(n.charCodeAt(r+2)&255)<<16;case 2:e^=(n.charCodeAt(r+1)&255)<<8;case 1:e^=n.charCodeAt(r)&255,e=(e&65535)*1540483477+((e>>>16)*59797<<16)}return e^=e>>>13,e=(e&65535)*1540483477+((e>>>16)*59797<<16),((e^e>>>15)>>>0).toString(36)}var y3={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,scale:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},_3=/[A-Z]|^ms/g,b3=/_EMO_([^_]+?)_([^]*?)_EMO_/g,Dw=function(e){return e.charCodeAt(1)===45},UE=function(e){return e!=null&&typeof e!="boolean"},gp=n3(function(n){return Dw(n)?n:n.replace(_3,"-$&").toLowerCase()}),jE=function(e,t){switch(e){case"animation":case"animationName":if(typeof t=="string")return t.replace(b3,function(r,s,l){return xi={name:s,styles:l,next:xi},s})}return y3[e]!==1&&!Dw(e)&&typeof t=="number"&&t!==0?t+"px":t};function Ou(n,e,t){if(t==null)return"";var r=t;if(r.__emotion_styles!==void 0)return r;switch(typeof t){case"boolean":return"";case"object":{var s=t;if(s.anim===1)return xi={name:s.name,styles:s.styles,next:xi},s.name;var l=t;if(l.styles!==void 0){var c=l.next;if(c!==void 0)for(;c!==void 0;)xi={name:c.name,styles:c.styles,next:xi},c=c.next;var m=l.styles+";";return m}return E3(n,e,t)}case"function":{if(n!==void 0){var d=xi,p=t(n);return xi=d,Ou(n,e,p)}break}}var y=t;return y}function E3(n,e,t){var r="";if(Array.isArray(t))for(var s=0;s<t.length;s++)r+=Ou(n,e,t[s])+";";else for(var l in t){var c=t[l];if(typeof c!="object"){var m=c;UE(m)&&(r+=gp(l)+":"+jE(l,m)+";")}else if(Array.isArray(c)&&typeof c[0]=="string"&&e==null)for(var d=0;d<c.length;d++)UE(c[d])&&(r+=gp(l)+":"+jE(l,c[d])+";");else{var p=Ou(n,e,c);switch(l){case"animation":case"animationName":{r+=gp(l)+":"+p+";";break}default:r+=l+"{"+p+"}"}}}return r}var zE=/label:\s*([^\s;{]+)\s*(;|$)/g,xi;function xw(n,e,t){if(n.length===1&&typeof n[0]=="object"&&n[0]!==null&&n[0].styles!==void 0)return n[0];var r=!0,s="";xi=void 0;var l=n[0];if(l==null||l.raw===void 0)r=!1,s+=Ou(t,e,l);else{var c=l;s+=c[0]}for(var m=1;m<n.length;m++)if(s+=Ou(t,e,n[m]),r){var d=l;s+=d[m]}zE.lastIndex=0;for(var p="",y;(y=zE.exec(s))!==null;)p+="-"+y[1];var E=v3(s)+p;return{name:E,styles:s,next:xi}}var T3=function(e){return e()},S3=V0.useInsertionEffect?V0.useInsertionEffect:!1,w3=S3||T3,Mw=x.createContext(typeof HTMLElement<"u"?c3({key:"css"}):null);Mw.Provider;var A3=function(e){return x.forwardRef(function(t,r){var s=x.useContext(Mw);return e(t,s,r)})},R3=x.createContext({}),dv={}.hasOwnProperty,tg="__EMOTION_TYPE_PLEASE_DO_NOT_USE__",I3=function(e,t){var r={};for(var s in t)dv.call(t,s)&&(r[s]=t[s]);return r[tg]=e,r},C3=function(e){var t=e.cache,r=e.serialized,s=e.isStringTag;return Ow(t,r,s),w3(function(){return g3(t,r,s)}),null},O3=A3(function(n,e,t){var r=n.css;typeof r=="string"&&e.registered[r]!==void 0&&(r=e.registered[r]);var s=n[tg],l=[r],c="";typeof n.className=="string"?c=p3(e.registered,l,n.className):n.className!=null&&(c=n.className+" ");var m=xw(l,void 0,x.useContext(R3));c+=e.key+"-"+m.name;var d={};for(var p in n)dv.call(n,p)&&p!=="css"&&p!==tg&&(d[p]=n[p]);return d.className=c,t&&(d.ref=t),x.createElement(x.Fragment,null,x.createElement(C3,{cache:e,serialized:m,isStringTag:typeof s=="string"}),x.createElement(s,d))}),D3=O3,_e=function(e,t){var r=arguments;if(t==null||!dv.call(t,"css"))return x.createElement.apply(void 0,r);var s=r.length,l=new Array(s);l[0]=D3,l[1]=I3(e,t);for(var c=2;c<s;c++)l[c]=r[c];return x.createElement.apply(null,l)};(function(n){var e;e||(e=n.JSX||(n.JSX={}))})(_e||(_e={}));function mv(){for(var n=arguments.length,e=new Array(n),t=0;t<n;t++)e[t]=arguments[t];return xw(e)}function x3(){var n=mv.apply(void 0,arguments),e="animation-"+n.name;return{name:e,styles:"@keyframes "+e+"{"+n.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}}function M3(n,e){return e||(e=n.slice(0)),Object.freeze(Object.defineProperties(n,{raw:{value:Object.freeze(e)}}))}const N3=Math.min,V3=Math.max,df=Math.round,Eh=Math.floor,mf=n=>({x:n,y:n});function P3(n){const{x:e,y:t,width:r,height:s}=n;return{width:r,height:s,top:t,left:e,right:e+r,bottom:t+s,x:e,y:t}}function qf(){return typeof window<"u"}function Nw(n){return Pw(n)?(n.nodeName||"").toLowerCase():"#document"}function Cr(n){var e;return(n==null||(e=n.ownerDocument)==null?void 0:e.defaultView)||window}function Vw(n){var e;return(e=(Pw(n)?n.ownerDocument:n.document)||window.document)==null?void 0:e.documentElement}function Pw(n){return qf()?n instanceof Node||n instanceof Cr(n).Node:!1}function k3(n){return qf()?n instanceof Element||n instanceof Cr(n).Element:!1}function pv(n){return qf()?n instanceof HTMLElement||n instanceof Cr(n).HTMLElement:!1}function FE(n){return!qf()||typeof ShadowRoot>"u"?!1:n instanceof ShadowRoot||n instanceof Cr(n).ShadowRoot}const L3=new Set(["inline","contents"]);function kw(n){const{overflow:e,overflowX:t,overflowY:r,display:s}=gv(n);return/auto|scroll|overlay|hidden|clip/.test(e+r+t)&&!L3.has(s)}function U3(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const j3=new Set(["html","body","#document"]);function z3(n){return j3.has(Nw(n))}function gv(n){return Cr(n).getComputedStyle(n)}function F3(n){if(Nw(n)==="html")return n;const e=n.assignedSlot||n.parentNode||FE(n)&&n.host||Vw(n);return FE(e)?e.host:e}function Lw(n){const e=F3(n);return z3(e)?n.ownerDocument?n.ownerDocument.body:n.body:pv(e)&&kw(e)?e:Lw(e)}function pf(n,e,t){var r;e===void 0&&(e=[]),t===void 0&&(t=!0);const s=Lw(n),l=s===((r=n.ownerDocument)==null?void 0:r.body),c=Cr(s);if(l){const m=ng(c);return e.concat(c,c.visualViewport||[],kw(s)?s:[],m&&t?pf(m):[])}return e.concat(s,pf(s,[],t))}function ng(n){return n.parent&&Object.getPrototypeOf(n.parent)?n.frameElement:null}function B3(n){const e=gv(n);let t=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const s=pv(n),l=s?n.offsetWidth:t,c=s?n.offsetHeight:r,m=df(t)!==l||df(r)!==c;return m&&(t=l,r=c),{width:t,height:r,$:m}}function vv(n){return k3(n)?n:n.contextElement}function BE(n){const e=vv(n);if(!pv(e))return mf(1);const t=e.getBoundingClientRect(),{width:r,height:s,$:l}=B3(e);let c=(l?df(t.width):t.width)/r,m=(l?df(t.height):t.height)/s;return(!c||!Number.isFinite(c))&&(c=1),(!m||!Number.isFinite(m))&&(m=1),{x:c,y:m}}const H3=mf(0);function q3(n){const e=Cr(n);return!U3()||!e.visualViewport?H3:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function $3(n,e,t){return!1}function HE(n,e,t,r){e===void 0&&(e=!1);const s=n.getBoundingClientRect(),l=vv(n);let c=mf(1);e&&(c=BE(n));const m=$3()?q3(l):mf(0);let d=(s.left+m.x)/c.x,p=(s.top+m.y)/c.y,y=s.width/c.x,E=s.height/c.y;if(l){const T=Cr(l),R=r;let C=T,N=ng(C);for(;N&&r&&R!==C;){const I=BE(N),M=N.getBoundingClientRect(),j=gv(N),$=M.left+(N.clientLeft+parseFloat(j.paddingLeft))*I.x,ee=M.top+(N.clientTop+parseFloat(j.paddingTop))*I.y;d*=I.x,p*=I.y,y*=I.x,E*=I.y,d+=$,p+=ee,C=Cr(N),N=ng(C)}}return P3({width:y,height:E,x:d,y:p})}function Uw(n,e){return n.x===e.x&&n.y===e.y&&n.width===e.width&&n.height===e.height}function G3(n,e){let t=null,r;const s=Vw(n);function l(){var m;clearTimeout(r),(m=t)==null||m.disconnect(),t=null}function c(m,d){m===void 0&&(m=!1),d===void 0&&(d=1),l();const p=n.getBoundingClientRect(),{left:y,top:E,width:T,height:R}=p;if(m||e(),!T||!R)return;const C=Eh(E),N=Eh(s.clientWidth-(y+T)),I=Eh(s.clientHeight-(E+R)),M=Eh(y),$={rootMargin:-C+"px "+-N+"px "+-I+"px "+-M+"px",threshold:V3(0,N3(1,d))||1};let ee=!0;function q(oe){const O=oe[0].intersectionRatio;if(O!==d){if(!ee)return c();O?c(!1,O):r=setTimeout(()=>{c(!1,1e-7)},1e3)}O===1&&!Uw(p,n.getBoundingClientRect())&&c(),ee=!1}try{t=new IntersectionObserver(q,{...$,root:s.ownerDocument})}catch{t=new IntersectionObserver(q,$)}t.observe(n)}return c(!0),l}function K3(n,e,t,r){r===void 0&&(r={});const{ancestorScroll:s=!0,ancestorResize:l=!0,elementResize:c=typeof ResizeObserver=="function",layoutShift:m=typeof IntersectionObserver=="function",animationFrame:d=!1}=r,p=vv(n),y=s||l?[...p?pf(p):[],...pf(e)]:[];y.forEach(M=>{s&&M.addEventListener("scroll",t,{passive:!0}),l&&M.addEventListener("resize",t)});const E=p&&m?G3(p,t):null;let T=-1,R=null;c&&(R=new ResizeObserver(M=>{let[j]=M;j&&j.target===p&&R&&(R.unobserve(e),cancelAnimationFrame(T),T=requestAnimationFrame(()=>{var $;($=R)==null||$.observe(e)})),t()}),p&&!d&&R.observe(p),R.observe(e));let C,N=d?HE(n):null;d&&I();function I(){const M=HE(n);N&&!Uw(N,M)&&t(),N=M,C=requestAnimationFrame(I)}return t(),()=>{var M;y.forEach(j=>{s&&j.removeEventListener("scroll",t),l&&j.removeEventListener("resize",t)}),E==null||E(),(M=R)==null||M.disconnect(),R=null,d&&cancelAnimationFrame(C)}}var ig=x.useLayoutEffect,Y3=["className","clearValue","cx","getStyles","getClassNames","getValue","hasValue","isMulti","isRtl","options","selectOption","selectProps","setValue","theme"],gf=function(){};function Q3(n,e){return e?e[0]==="-"?n+e:n+"__"+e:n}function X3(n,e){for(var t=arguments.length,r=new Array(t>2?t-2:0),s=2;s<t;s++)r[s-2]=arguments[s];var l=[].concat(r);if(e&&n)for(var c in e)e.hasOwnProperty(c)&&e[c]&&l.push("".concat(Q3(n,c)));return l.filter(function(m){return m}).map(function(m){return String(m).trim()}).join(" ")}var qE=function(e){return a6(e)?e.filter(Boolean):ms(e)==="object"&&e!==null?[e]:[]},jw=function(e){e.className,e.clearValue,e.cx,e.getStyles,e.getClassNames,e.getValue,e.hasValue,e.isMulti,e.isRtl,e.options,e.selectOption,e.selectProps,e.setValue,e.theme;var t=Or(e,Y3);return be({},t)},Et=function(e,t,r){var s=e.cx,l=e.getStyles,c=e.getClassNames,m=e.className;return{css:l(t,e),className:s(r??{},c(t,e),m)}};function $f(n){return[document.documentElement,document.body,window].indexOf(n)>-1}function W3(n){return $f(n)?window.innerHeight:n.clientHeight}function zw(n){return $f(n)?window.pageYOffset:n.scrollTop}function vf(n,e){if($f(n)){window.scrollTo(0,e);return}n.scrollTop=e}function Z3(n){var e=getComputedStyle(n),t=e.position==="absolute",r=/(auto|scroll)/;if(e.position==="fixed")return document.documentElement;for(var s=n;s=s.parentElement;)if(e=getComputedStyle(s),!(t&&e.position==="static")&&r.test(e.overflow+e.overflowY+e.overflowX))return s;return document.documentElement}function J3(n,e,t,r){return t*((n=n/r-1)*n*n+1)+e}function Th(n,e){var t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:200,r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:gf,s=zw(n),l=e-s,c=10,m=0;function d(){m+=c;var p=J3(m,s,l,t);vf(n,p),m<t?window.requestAnimationFrame(d):r(n)}d()}function $E(n,e){var t=n.getBoundingClientRect(),r=e.getBoundingClientRect(),s=e.offsetHeight/3;r.bottom+s>t.bottom?vf(n,Math.min(e.offsetTop+e.clientHeight-n.offsetHeight+s,n.scrollHeight)):r.top-s<t.top&&vf(n,Math.max(e.offsetTop-s,0))}function e6(n){var e=n.getBoundingClientRect();return{bottom:e.bottom,height:e.height,left:e.left,right:e.right,top:e.top,width:e.width}}function GE(){try{return document.createEvent("TouchEvent"),!0}catch{return!1}}function t6(){try{return/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)}catch{return!1}}var Fw=!1,n6={get passive(){return Fw=!0}},Sh=typeof window<"u"?window:{};Sh.addEventListener&&Sh.removeEventListener&&(Sh.addEventListener("p",gf,n6),Sh.removeEventListener("p",gf,!1));var i6=Fw;function r6(n){return n!=null}function a6(n){return Array.isArray(n)}function wh(n,e,t){return n?e:t}var s6=function(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),s=1;s<t;s++)r[s-1]=arguments[s];var l=Object.entries(e).filter(function(c){var m=Er(c,1),d=m[0];return!r.includes(d)});return l.reduce(function(c,m){var d=Er(m,2),p=d[0],y=d[1];return c[p]=y,c},{})},o6=["children","innerProps"],l6=["children","innerProps"];function u6(n){var e=n.maxHeight,t=n.menuEl,r=n.minHeight,s=n.placement,l=n.shouldScroll,c=n.isFixedPosition,m=n.controlHeight,d=Z3(t),p={placement:"bottom",maxHeight:e};if(!t||!t.offsetParent)return p;var y=d.getBoundingClientRect(),E=y.height,T=t.getBoundingClientRect(),R=T.bottom,C=T.height,N=T.top,I=t.offsetParent.getBoundingClientRect(),M=I.top,j=c?window.innerHeight:W3(d),$=zw(d),ee=parseInt(getComputedStyle(t).marginBottom,10),q=parseInt(getComputedStyle(t).marginTop,10),oe=M-q,O=j-N,A=oe+$,D=E-$-N,V=R-j+$+ee,z=$+N-q,B=160;switch(s){case"auto":case"bottom":if(O>=C)return{placement:"bottom",maxHeight:e};if(D>=C&&!c)return l&&Th(d,V,B),{placement:"bottom",maxHeight:e};if(!c&&D>=r||c&&O>=r){l&&Th(d,V,B);var k=c?O-ee:D-ee;return{placement:"bottom",maxHeight:k}}if(s==="auto"||c){var Ye=e,Oe=c?oe:A;return Oe>=r&&(Ye=Math.min(Oe-ee-m,e)),{placement:"top",maxHeight:Ye}}if(s==="bottom")return l&&vf(d,V),{placement:"bottom",maxHeight:e};break;case"top":if(oe>=C)return{placement:"top",maxHeight:e};if(A>=C&&!c)return l&&Th(d,z,B),{placement:"top",maxHeight:e};if(!c&&A>=r||c&&oe>=r){var W=e;return(!c&&A>=r||c&&oe>=r)&&(W=c?oe-q:A-q),l&&Th(d,z,B),{placement:"top",maxHeight:W}}return{placement:"bottom",maxHeight:e};default:throw new Error('Invalid placement provided "'.concat(s,'".'))}return p}function c6(n){var e={bottom:"top",top:"bottom"};return n?e[n]:"bottom"}var Bw=function(e){return e==="auto"?"bottom":e},h6=function(e,t){var r,s=e.placement,l=e.theme,c=l.borderRadius,m=l.spacing,d=l.colors;return be((r={label:"menu"},su(r,c6(s),"100%"),su(r,"position","absolute"),su(r,"width","100%"),su(r,"zIndex",1),r),t?{}:{backgroundColor:d.neutral0,borderRadius:c,boxShadow:"0 0 0 1px hsla(0, 0%, 0%, 0.1), 0 4px 11px hsla(0, 0%, 0%, 0.1)",marginBottom:m.menuGutter,marginTop:m.menuGutter})},Hw=x.createContext(null),f6=function(e){var t=e.children,r=e.minMenuHeight,s=e.maxMenuHeight,l=e.menuPlacement,c=e.menuPosition,m=e.menuShouldScrollIntoView,d=e.theme,p=x.useContext(Hw)||{},y=p.setPortalPlacement,E=x.useRef(null),T=x.useState(s),R=Er(T,2),C=R[0],N=R[1],I=x.useState(null),M=Er(I,2),j=M[0],$=M[1],ee=d.spacing.controlHeight;return ig(function(){var q=E.current;if(q){var oe=c==="fixed",O=m&&!oe,A=u6({maxHeight:s,menuEl:q,minHeight:r,placement:l,shouldScroll:O,isFixedPosition:oe,controlHeight:ee});N(A.maxHeight),$(A.placement),y==null||y(A.placement)}},[s,l,c,m,r,y,ee]),t({ref:E,placerProps:be(be({},e),{},{placement:j||Bw(l),maxHeight:C})})},d6=function(e){var t=e.children,r=e.innerRef,s=e.innerProps;return _e("div",we({},Et(e,"menu",{menu:!0}),{ref:r},s),t)},m6=d6,p6=function(e,t){var r=e.maxHeight,s=e.theme.spacing.baseUnit;return be({maxHeight:r,overflowY:"auto",position:"relative",WebkitOverflowScrolling:"touch"},t?{}:{paddingBottom:s,paddingTop:s})},g6=function(e){var t=e.children,r=e.innerProps,s=e.innerRef,l=e.isMulti;return _e("div",we({},Et(e,"menuList",{"menu-list":!0,"menu-list--is-multi":l}),{ref:s},r),t)},qw=function(e,t){var r=e.theme,s=r.spacing.baseUnit,l=r.colors;return be({textAlign:"center"},t?{}:{color:l.neutral40,padding:"".concat(s*2,"px ").concat(s*3,"px")})},v6=qw,y6=qw,_6=function(e){var t=e.children,r=t===void 0?"No options":t,s=e.innerProps,l=Or(e,o6);return _e("div",we({},Et(be(be({},l),{},{children:r,innerProps:s}),"noOptionsMessage",{"menu-notice":!0,"menu-notice--no-options":!0}),s),r)},b6=function(e){var t=e.children,r=t===void 0?"Loading...":t,s=e.innerProps,l=Or(e,l6);return _e("div",we({},Et(be(be({},l),{},{children:r,innerProps:s}),"loadingMessage",{"menu-notice":!0,"menu-notice--loading":!0}),s),r)},E6=function(e){var t=e.rect,r=e.offset,s=e.position;return{left:t.left,position:s,top:r,width:t.width,zIndex:1}},T6=function(e){var t=e.appendTo,r=e.children,s=e.controlElement,l=e.innerProps,c=e.menuPlacement,m=e.menuPosition,d=x.useRef(null),p=x.useRef(null),y=x.useState(Bw(c)),E=Er(y,2),T=E[0],R=E[1],C=x.useMemo(function(){return{setPortalPlacement:R}},[]),N=x.useState(null),I=Er(N,2),M=I[0],j=I[1],$=x.useCallback(function(){if(s){var O=e6(s),A=m==="fixed"?0:window.pageYOffset,D=O[T]+A;(D!==(M==null?void 0:M.offset)||O.left!==(M==null?void 0:M.rect.left)||O.width!==(M==null?void 0:M.rect.width))&&j({offset:D,rect:O})}},[s,m,T,M==null?void 0:M.offset,M==null?void 0:M.rect.left,M==null?void 0:M.rect.width]);ig(function(){$()},[$]);var ee=x.useCallback(function(){typeof p.current=="function"&&(p.current(),p.current=null),s&&d.current&&(p.current=K3(s,d.current,$,{elementResize:"ResizeObserver"in window}))},[s,$]);ig(function(){ee()},[ee]);var q=x.useCallback(function(O){d.current=O,ee()},[ee]);if(!t&&m!=="fixed"||!M)return null;var oe=_e("div",we({ref:q},Et(be(be({},e),{},{offset:M.offset,position:m,rect:M.rect}),"menuPortal",{"menu-portal":!0}),l),r);return _e(Hw.Provider,{value:C},t?mI.createPortal(oe,t):oe)},S6=function(e){var t=e.isDisabled,r=e.isRtl;return{label:"container",direction:r?"rtl":void 0,pointerEvents:t?"none":void 0,position:"relative"}},w6=function(e){var t=e.children,r=e.innerProps,s=e.isDisabled,l=e.isRtl;return _e("div",we({},Et(e,"container",{"--is-disabled":s,"--is-rtl":l}),r),t)},A6=function(e,t){var r=e.theme.spacing,s=e.isMulti,l=e.hasValue,c=e.selectProps.controlShouldRenderValue;return be({alignItems:"center",display:s&&l&&c?"flex":"grid",flex:1,flexWrap:"wrap",WebkitOverflowScrolling:"touch",position:"relative",overflow:"hidden"},t?{}:{padding:"".concat(r.baseUnit/2,"px ").concat(r.baseUnit*2,"px")})},R6=function(e){var t=e.children,r=e.innerProps,s=e.isMulti,l=e.hasValue;return _e("div",we({},Et(e,"valueContainer",{"value-container":!0,"value-container--is-multi":s,"value-container--has-value":l}),r),t)},I6=function(){return{alignItems:"center",alignSelf:"stretch",display:"flex",flexShrink:0}},C6=function(e){var t=e.children,r=e.innerProps;return _e("div",we({},Et(e,"indicatorsContainer",{indicators:!0}),r),t)},KE,O6=["size"],D6=["innerProps","isRtl","size"],x6={name:"8mmkcg",styles:"display:inline-block;fill:currentColor;line-height:1;stroke:currentColor;stroke-width:0"},$w=function(e){var t=e.size,r=Or(e,O6);return _e("svg",we({height:t,width:t,viewBox:"0 0 20 20","aria-hidden":"true",focusable:"false",css:x6},r))},yv=function(e){return _e($w,we({size:20},e),_e("path",{d:"M14.348 14.849c-0.469 0.469-1.229 0.469-1.697 0l-2.651-3.030-2.651 3.029c-0.469 0.469-1.229 0.469-1.697 0-0.469-0.469-0.469-1.229 0-1.697l2.758-3.15-2.759-3.152c-0.469-0.469-0.469-1.228 0-1.697s1.228-0.469 1.697 0l2.652 3.031 2.651-3.031c0.469-0.469 1.228-0.469 1.697 0s0.469 1.229 0 1.697l-2.758 3.152 2.758 3.15c0.469 0.469 0.469 1.229 0 1.698z"}))},Gw=function(e){return _e($w,we({size:20},e),_e("path",{d:"M4.516 7.548c0.436-0.446 1.043-0.481 1.576 0l3.908 3.747 3.908-3.747c0.533-0.481 1.141-0.446 1.574 0 0.436 0.445 0.408 1.197 0 1.615-0.406 0.418-4.695 4.502-4.695 4.502-0.217 0.223-0.502 0.335-0.787 0.335s-0.57-0.112-0.789-0.335c0 0-4.287-4.084-4.695-4.502s-0.436-1.17 0-1.615z"}))},Kw=function(e,t){var r=e.isFocused,s=e.theme,l=s.spacing.baseUnit,c=s.colors;return be({label:"indicatorContainer",display:"flex",transition:"color 150ms"},t?{}:{color:r?c.neutral60:c.neutral20,padding:l*2,":hover":{color:r?c.neutral80:c.neutral40}})},M6=Kw,N6=function(e){var t=e.children,r=e.innerProps;return _e("div",we({},Et(e,"dropdownIndicator",{indicator:!0,"dropdown-indicator":!0}),r),t||_e(Gw,null))},V6=Kw,P6=function(e){var t=e.children,r=e.innerProps;return _e("div",we({},Et(e,"clearIndicator",{indicator:!0,"clear-indicator":!0}),r),t||_e(yv,null))},k6=function(e,t){var r=e.isDisabled,s=e.theme,l=s.spacing.baseUnit,c=s.colors;return be({label:"indicatorSeparator",alignSelf:"stretch",width:1},t?{}:{backgroundColor:r?c.neutral10:c.neutral20,marginBottom:l*2,marginTop:l*2})},L6=function(e){var t=e.innerProps;return _e("span",we({},t,Et(e,"indicatorSeparator",{"indicator-separator":!0})))},U6=x3(KE||(KE=M3([`
  0%, 80%, 100% { opacity: 0; }
  40% { opacity: 1; }
`]))),j6=function(e,t){var r=e.isFocused,s=e.size,l=e.theme,c=l.colors,m=l.spacing.baseUnit;return be({label:"loadingIndicator",display:"flex",transition:"color 150ms",alignSelf:"center",fontSize:s,lineHeight:1,marginRight:s,textAlign:"center",verticalAlign:"middle"},t?{}:{color:r?c.neutral60:c.neutral20,padding:m*2})},vp=function(e){var t=e.delay,r=e.offset;return _e("span",{css:mv({animation:"".concat(U6," 1s ease-in-out ").concat(t,"ms infinite;"),backgroundColor:"currentColor",borderRadius:"1em",display:"inline-block",marginLeft:r?"1em":void 0,height:"1em",verticalAlign:"top",width:"1em"},"","")})},z6=function(e){var t=e.innerProps,r=e.isRtl,s=e.size,l=s===void 0?4:s,c=Or(e,D6);return _e("div",we({},Et(be(be({},c),{},{innerProps:t,isRtl:r,size:l}),"loadingIndicator",{indicator:!0,"loading-indicator":!0}),t),_e(vp,{delay:0,offset:r}),_e(vp,{delay:160,offset:!0}),_e(vp,{delay:320,offset:!r}))},F6=function(e,t){var r=e.isDisabled,s=e.isFocused,l=e.theme,c=l.colors,m=l.borderRadius,d=l.spacing;return be({label:"control",alignItems:"center",cursor:"default",display:"flex",flexWrap:"wrap",justifyContent:"space-between",minHeight:d.controlHeight,outline:"0 !important",position:"relative",transition:"all 100ms"},t?{}:{backgroundColor:r?c.neutral5:c.neutral0,borderColor:r?c.neutral10:s?c.primary:c.neutral20,borderRadius:m,borderStyle:"solid",borderWidth:1,boxShadow:s?"0 0 0 1px ".concat(c.primary):void 0,"&:hover":{borderColor:s?c.primary:c.neutral30}})},B6=function(e){var t=e.children,r=e.isDisabled,s=e.isFocused,l=e.innerRef,c=e.innerProps,m=e.menuIsOpen;return _e("div",we({ref:l},Et(e,"control",{control:!0,"control--is-disabled":r,"control--is-focused":s,"control--menu-is-open":m}),c,{"aria-disabled":r||void 0}),t)},H6=B6,q6=["data"],$6=function(e,t){var r=e.theme.spacing;return t?{}:{paddingBottom:r.baseUnit*2,paddingTop:r.baseUnit*2}},G6=function(e){var t=e.children,r=e.cx,s=e.getStyles,l=e.getClassNames,c=e.Heading,m=e.headingProps,d=e.innerProps,p=e.label,y=e.theme,E=e.selectProps;return _e("div",we({},Et(e,"group",{group:!0}),d),_e(c,we({},m,{selectProps:E,theme:y,getStyles:s,getClassNames:l,cx:r}),p),_e("div",null,t))},K6=function(e,t){var r=e.theme,s=r.colors,l=r.spacing;return be({label:"group",cursor:"default",display:"block"},t?{}:{color:s.neutral40,fontSize:"75%",fontWeight:500,marginBottom:"0.25em",paddingLeft:l.baseUnit*3,paddingRight:l.baseUnit*3,textTransform:"uppercase"})},Y6=function(e){var t=jw(e);t.data;var r=Or(t,q6);return _e("div",we({},Et(e,"groupHeading",{"group-heading":!0}),r))},Q6=G6,X6=["innerRef","isDisabled","isHidden","inputClassName"],W6=function(e,t){var r=e.isDisabled,s=e.value,l=e.theme,c=l.spacing,m=l.colors;return be(be({visibility:r?"hidden":"visible",transform:s?"translateZ(0)":""},Z6),t?{}:{margin:c.baseUnit/2,paddingBottom:c.baseUnit/2,paddingTop:c.baseUnit/2,color:m.neutral80})},Yw={gridArea:"1 / 2",font:"inherit",minWidth:"2px",border:0,margin:0,outline:0,padding:0},Z6={flex:"1 1 auto",display:"inline-grid",gridArea:"1 / 1 / 2 / 3",gridTemplateColumns:"0 min-content","&:after":be({content:'attr(data-value) " "',visibility:"hidden",whiteSpace:"pre"},Yw)},J6=function(e){return be({label:"input",color:"inherit",background:0,opacity:e?0:1,width:"100%"},Yw)},ek=function(e){var t=e.cx,r=e.value,s=jw(e),l=s.innerRef,c=s.isDisabled,m=s.isHidden,d=s.inputClassName,p=Or(s,X6);return _e("div",we({},Et(e,"input",{"input-container":!0}),{"data-value":r||""}),_e("input",we({className:t({input:!0},d),ref:l,style:J6(m),disabled:c},p)))},tk=ek,nk=function(e,t){var r=e.theme,s=r.spacing,l=r.borderRadius,c=r.colors;return be({label:"multiValue",display:"flex",minWidth:0},t?{}:{backgroundColor:c.neutral10,borderRadius:l/2,margin:s.baseUnit/2})},ik=function(e,t){var r=e.theme,s=r.borderRadius,l=r.colors,c=e.cropWithEllipsis;return be({overflow:"hidden",textOverflow:c||c===void 0?"ellipsis":void 0,whiteSpace:"nowrap"},t?{}:{borderRadius:s/2,color:l.neutral80,fontSize:"85%",padding:3,paddingLeft:6})},rk=function(e,t){var r=e.theme,s=r.spacing,l=r.borderRadius,c=r.colors,m=e.isFocused;return be({alignItems:"center",display:"flex"},t?{}:{borderRadius:l/2,backgroundColor:m?c.dangerLight:void 0,paddingLeft:s.baseUnit,paddingRight:s.baseUnit,":hover":{backgroundColor:c.dangerLight,color:c.danger}})},Qw=function(e){var t=e.children,r=e.innerProps;return _e("div",r,t)},ak=Qw,sk=Qw;function ok(n){var e=n.children,t=n.innerProps;return _e("div",we({role:"button"},t),e||_e(yv,{size:14}))}var lk=function(e){var t=e.children,r=e.components,s=e.data,l=e.innerProps,c=e.isDisabled,m=e.removeProps,d=e.selectProps,p=r.Container,y=r.Label,E=r.Remove;return _e(p,{data:s,innerProps:be(be({},Et(e,"multiValue",{"multi-value":!0,"multi-value--is-disabled":c})),l),selectProps:d},_e(y,{data:s,innerProps:be({},Et(e,"multiValueLabel",{"multi-value__label":!0})),selectProps:d},t),_e(E,{data:s,innerProps:be(be({},Et(e,"multiValueRemove",{"multi-value__remove":!0})),{},{"aria-label":"Remove ".concat(t||"option")},m),selectProps:d}))},uk=lk,ck=function(e,t){var r=e.isDisabled,s=e.isFocused,l=e.isSelected,c=e.theme,m=c.spacing,d=c.colors;return be({label:"option",cursor:"default",display:"block",fontSize:"inherit",width:"100%",userSelect:"none",WebkitTapHighlightColor:"rgba(0, 0, 0, 0)"},t?{}:{backgroundColor:l?d.primary:s?d.primary25:"transparent",color:r?d.neutral20:l?d.neutral0:"inherit",padding:"".concat(m.baseUnit*2,"px ").concat(m.baseUnit*3,"px"),":active":{backgroundColor:r?void 0:l?d.primary:d.primary50}})},hk=function(e){var t=e.children,r=e.isDisabled,s=e.isFocused,l=e.isSelected,c=e.innerRef,m=e.innerProps;return _e("div",we({},Et(e,"option",{option:!0,"option--is-disabled":r,"option--is-focused":s,"option--is-selected":l}),{ref:c,"aria-disabled":r},m),t)},fk=hk,dk=function(e,t){var r=e.theme,s=r.spacing,l=r.colors;return be({label:"placeholder",gridArea:"1 / 1 / 2 / 3"},t?{}:{color:l.neutral50,marginLeft:s.baseUnit/2,marginRight:s.baseUnit/2})},mk=function(e){var t=e.children,r=e.innerProps;return _e("div",we({},Et(e,"placeholder",{placeholder:!0}),r),t)},pk=mk,gk=function(e,t){var r=e.isDisabled,s=e.theme,l=s.spacing,c=s.colors;return be({label:"singleValue",gridArea:"1 / 1 / 2 / 3",maxWidth:"100%",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},t?{}:{color:r?c.neutral40:c.neutral80,marginLeft:l.baseUnit/2,marginRight:l.baseUnit/2})},vk=function(e){var t=e.children,r=e.isDisabled,s=e.innerProps;return _e("div",we({},Et(e,"singleValue",{"single-value":!0,"single-value--is-disabled":r}),s),t)},yk=vk,_k={ClearIndicator:P6,Control:H6,DropdownIndicator:N6,DownChevron:Gw,CrossIcon:yv,Group:Q6,GroupHeading:Y6,IndicatorsContainer:C6,IndicatorSeparator:L6,Input:tk,LoadingIndicator:z6,Menu:m6,MenuList:g6,MenuPortal:T6,LoadingMessage:b6,NoOptionsMessage:_6,MultiValue:uk,MultiValueContainer:ak,MultiValueLabel:sk,MultiValueRemove:ok,Option:fk,Placeholder:pk,SelectContainer:w6,SingleValue:yk,ValueContainer:R6},bk=function(e){return be(be({},_k),e.components)},YE=Number.isNaN||function(e){return typeof e=="number"&&e!==e};function Ek(n,e){return!!(n===e||YE(n)&&YE(e))}function Tk(n,e){if(n.length!==e.length)return!1;for(var t=0;t<n.length;t++)if(!Ek(n[t],e[t]))return!1;return!0}function Sk(n,e){e===void 0&&(e=Tk);var t=null;function r(){for(var s=[],l=0;l<arguments.length;l++)s[l]=arguments[l];if(t&&t.lastThis===this&&e(s,t.lastArgs))return t.lastResult;var c=n.apply(this,s);return t={lastResult:c,lastArgs:s,lastThis:this},c}return r.clear=function(){t=null},r}var wk={name:"7pg0cj-a11yText",styles:"label:a11yText;z-index:9999;border:0;clip:rect(1px, 1px, 1px, 1px);height:1px;width:1px;position:absolute;overflow:hidden;padding:0;white-space:nowrap"},Ak=function(e){return _e("span",we({css:wk},e))},QE=Ak,Rk={guidance:function(e){var t=e.isSearchable,r=e.isMulti,s=e.tabSelectsValue,l=e.context,c=e.isInitialFocus;switch(l){case"menu":return"Use Up and Down to choose options, press Enter to select the currently focused option, press Escape to exit the menu".concat(s?", press Tab to select the option and exit the menu":"",".");case"input":return c?"".concat(e["aria-label"]||"Select"," is focused ").concat(t?",type to refine list":"",", press Down to open the menu, ").concat(r?" press left to focus selected values":""):"";case"value":return"Use left and right to toggle between focused values, press Backspace to remove the currently focused value";default:return""}},onChange:function(e){var t=e.action,r=e.label,s=r===void 0?"":r,l=e.labels,c=e.isDisabled;switch(t){case"deselect-option":case"pop-value":case"remove-value":return"option ".concat(s,", deselected.");case"clear":return"All selected options have been cleared.";case"initial-input-focus":return"option".concat(l.length>1?"s":""," ").concat(l.join(","),", selected.");case"select-option":return c?"option ".concat(s," is disabled. Select another option."):"option ".concat(s,", selected.");default:return""}},onFocus:function(e){var t=e.context,r=e.focused,s=e.options,l=e.label,c=l===void 0?"":l,m=e.selectValue,d=e.isDisabled,p=e.isSelected,y=e.isAppleDevice,E=function(N,I){return N&&N.length?"".concat(N.indexOf(I)+1," of ").concat(N.length):""};if(t==="value"&&m)return"value ".concat(c," focused, ").concat(E(m,r),".");if(t==="menu"&&y){var T=d?" disabled":"",R="".concat(p?" selected":"").concat(T);return"".concat(c).concat(R,", ").concat(E(s,r),".")}return""},onFilter:function(e){var t=e.inputValue,r=e.resultsMessage;return"".concat(r).concat(t?" for search term "+t:"",".")}},Ik=function(e){var t=e.ariaSelection,r=e.focusedOption,s=e.focusedValue,l=e.focusableOptions,c=e.isFocused,m=e.selectValue,d=e.selectProps,p=e.id,y=e.isAppleDevice,E=d.ariaLiveMessages,T=d.getOptionLabel,R=d.inputValue,C=d.isMulti,N=d.isOptionDisabled,I=d.isSearchable,M=d.menuIsOpen,j=d.options,$=d.screenReaderStatus,ee=d.tabSelectsValue,q=d.isLoading,oe=d["aria-label"],O=d["aria-live"],A=x.useMemo(function(){return be(be({},Rk),E||{})},[E]),D=x.useMemo(function(){var Oe="";if(t&&A.onChange){var W=t.option,J=t.options,he=t.removedValue,ye=t.removedValues,P=t.value,ie=function(Ue){return Array.isArray(Ue)?null:Ue},le=he||W||ie(P),re=le?T(le):"",de=J||ye||void 0,Ie=de?de.map(T):[],pe=be({isDisabled:le&&N(le,m),label:re,labels:Ie},t);Oe=A.onChange(pe)}return Oe},[t,A,N,m,T]),V=x.useMemo(function(){var Oe="",W=r||s,J=!!(r&&m&&m.includes(r));if(W&&A.onFocus){var he={focused:W,label:T(W),isDisabled:N(W,m),isSelected:J,options:l,context:W===r?"menu":"value",selectValue:m,isAppleDevice:y};Oe=A.onFocus(he)}return Oe},[r,s,T,N,A,l,m,y]),z=x.useMemo(function(){var Oe="";if(M&&j.length&&!q&&A.onFilter){var W=$({count:l.length});Oe=A.onFilter({inputValue:R,resultsMessage:W})}return Oe},[l,R,M,A,j,$,q]),B=(t==null?void 0:t.action)==="initial-input-focus",k=x.useMemo(function(){var Oe="";if(A.guidance){var W=s?"value":M?"menu":"input";Oe=A.guidance({"aria-label":oe,context:W,isDisabled:r&&N(r,m),isMulti:C,isSearchable:I,tabSelectsValue:ee,isInitialFocus:B})}return Oe},[oe,r,s,C,N,I,M,A,m,ee,B]),Ye=_e(x.Fragment,null,_e("span",{id:"aria-selection"},D),_e("span",{id:"aria-focused"},V),_e("span",{id:"aria-results"},z),_e("span",{id:"aria-guidance"},k));return _e(x.Fragment,null,_e(QE,{id:p},B&&Ye),_e(QE,{"aria-live":O,"aria-atomic":"false","aria-relevant":"additions text",role:"log"},c&&!B&&Ye))},Ck=Ik,rg=[{base:"A",letters:"A"},{base:"AA",letters:""},{base:"AE",letters:""},{base:"AO",letters:""},{base:"AU",letters:""},{base:"AV",letters:""},{base:"AY",letters:""},{base:"B",letters:"B"},{base:"C",letters:"C"},{base:"D",letters:"D"},{base:"DZ",letters:""},{base:"Dz",letters:""},{base:"E",letters:"E"},{base:"F",letters:"F"},{base:"G",letters:"G"},{base:"H",letters:"H"},{base:"I",letters:"I"},{base:"J",letters:"J"},{base:"K",letters:"K"},{base:"L",letters:"L"},{base:"LJ",letters:""},{base:"Lj",letters:""},{base:"M",letters:"M"},{base:"N",letters:"N"},{base:"NJ",letters:""},{base:"Nj",letters:""},{base:"O",letters:"O"},{base:"OI",letters:""},{base:"OO",letters:""},{base:"OU",letters:""},{base:"P",letters:"P"},{base:"Q",letters:"Q"},{base:"R",letters:"R"},{base:"S",letters:"S"},{base:"T",letters:"T"},{base:"TZ",letters:""},{base:"U",letters:"U"},{base:"V",letters:"V"},{base:"VY",letters:""},{base:"W",letters:"W"},{base:"X",letters:"X"},{base:"Y",letters:"Y"},{base:"Z",letters:"Z"},{base:"a",letters:"a"},{base:"aa",letters:""},{base:"ae",letters:""},{base:"ao",letters:""},{base:"au",letters:""},{base:"av",letters:""},{base:"ay",letters:""},{base:"b",letters:"b"},{base:"c",letters:"c"},{base:"d",letters:"d"},{base:"dz",letters:""},{base:"e",letters:"e"},{base:"f",letters:"f"},{base:"g",letters:"g"},{base:"h",letters:"h"},{base:"hv",letters:""},{base:"i",letters:"i"},{base:"j",letters:"j"},{base:"k",letters:"k"},{base:"l",letters:"l"},{base:"lj",letters:""},{base:"m",letters:"m"},{base:"n",letters:"n"},{base:"nj",letters:""},{base:"o",letters:"o"},{base:"oi",letters:""},{base:"ou",letters:""},{base:"oo",letters:""},{base:"p",letters:"p"},{base:"q",letters:"q"},{base:"r",letters:"r"},{base:"s",letters:"s"},{base:"t",letters:"t"},{base:"tz",letters:""},{base:"u",letters:"u"},{base:"v",letters:"v"},{base:"vy",letters:""},{base:"w",letters:"w"},{base:"x",letters:"x"},{base:"y",letters:"y"},{base:"z",letters:"z"}],Ok=new RegExp("["+rg.map(function(n){return n.letters}).join("")+"]","g"),Xw={};for(var yp=0;yp<rg.length;yp++)for(var _p=rg[yp],bp=0;bp<_p.letters.length;bp++)Xw[_p.letters[bp]]=_p.base;var Ww=function(e){return e.replace(Ok,function(t){return Xw[t]})},Dk=Sk(Ww),XE=function(e){return e.replace(/^\s+|\s+$/g,"")},xk=function(e){return"".concat(e.label," ").concat(e.value)},Mk=function(e){return function(t,r){if(t.data.__isNew__)return!0;var s=be({ignoreCase:!0,ignoreAccents:!0,stringify:xk,trim:!0,matchFrom:"any"},e),l=s.ignoreCase,c=s.ignoreAccents,m=s.stringify,d=s.trim,p=s.matchFrom,y=d?XE(r):r,E=d?XE(m(t)):m(t);return l&&(y=y.toLowerCase(),E=E.toLowerCase()),c&&(y=Dk(y),E=Ww(E)),p==="start"?E.substr(0,y.length)===y:E.indexOf(y)>-1}},Nk=["innerRef"];function Vk(n){var e=n.innerRef,t=Or(n,Nk),r=s6(t,"onExited","in","enter","exit","appear");return _e("input",we({ref:e},r,{css:mv({label:"dummyInput",background:0,border:0,caretColor:"transparent",fontSize:"inherit",gridArea:"1 / 1 / 2 / 3",outline:0,padding:0,width:1,color:"transparent",left:-100,opacity:0,position:"relative",transform:"scale(.01)"},"","")}))}var Pk=function(e){e.cancelable&&e.preventDefault(),e.stopPropagation()};function kk(n){var e=n.isEnabled,t=n.onBottomArrive,r=n.onBottomLeave,s=n.onTopArrive,l=n.onTopLeave,c=x.useRef(!1),m=x.useRef(!1),d=x.useRef(0),p=x.useRef(null),y=x.useCallback(function(I,M){if(p.current!==null){var j=p.current,$=j.scrollTop,ee=j.scrollHeight,q=j.clientHeight,oe=p.current,O=M>0,A=ee-q-$,D=!1;A>M&&c.current&&(r&&r(I),c.current=!1),O&&m.current&&(l&&l(I),m.current=!1),O&&M>A?(t&&!c.current&&t(I),oe.scrollTop=ee,D=!0,c.current=!0):!O&&-M>$&&(s&&!m.current&&s(I),oe.scrollTop=0,D=!0,m.current=!0),D&&Pk(I)}},[t,r,s,l]),E=x.useCallback(function(I){y(I,I.deltaY)},[y]),T=x.useCallback(function(I){d.current=I.changedTouches[0].clientY},[]),R=x.useCallback(function(I){var M=d.current-I.changedTouches[0].clientY;y(I,M)},[y]),C=x.useCallback(function(I){if(I){var M=i6?{passive:!1}:!1;I.addEventListener("wheel",E,M),I.addEventListener("touchstart",T,M),I.addEventListener("touchmove",R,M)}},[R,T,E]),N=x.useCallback(function(I){I&&(I.removeEventListener("wheel",E,!1),I.removeEventListener("touchstart",T,!1),I.removeEventListener("touchmove",R,!1))},[R,T,E]);return x.useEffect(function(){if(e){var I=p.current;return C(I),function(){N(I)}}},[e,C,N]),function(I){p.current=I}}var WE=["boxSizing","height","overflow","paddingRight","position"],ZE={boxSizing:"border-box",overflow:"hidden",position:"relative",height:"100%"};function JE(n){n.cancelable&&n.preventDefault()}function eT(n){n.stopPropagation()}function tT(){var n=this.scrollTop,e=this.scrollHeight,t=n+this.offsetHeight;n===0?this.scrollTop=1:t===e&&(this.scrollTop=n-1)}function nT(){return"ontouchstart"in window||navigator.maxTouchPoints}var iT=!!(typeof window<"u"&&window.document&&window.document.createElement),tu=0,go={capture:!1,passive:!1};function Lk(n){var e=n.isEnabled,t=n.accountForScrollbars,r=t===void 0?!0:t,s=x.useRef({}),l=x.useRef(null),c=x.useCallback(function(d){if(iT){var p=document.body,y=p&&p.style;if(r&&WE.forEach(function(C){var N=y&&y[C];s.current[C]=N}),r&&tu<1){var E=parseInt(s.current.paddingRight,10)||0,T=document.body?document.body.clientWidth:0,R=window.innerWidth-T+E||0;Object.keys(ZE).forEach(function(C){var N=ZE[C];y&&(y[C]=N)}),y&&(y.paddingRight="".concat(R,"px"))}p&&nT()&&(p.addEventListener("touchmove",JE,go),d&&(d.addEventListener("touchstart",tT,go),d.addEventListener("touchmove",eT,go))),tu+=1}},[r]),m=x.useCallback(function(d){if(iT){var p=document.body,y=p&&p.style;tu=Math.max(tu-1,0),r&&tu<1&&WE.forEach(function(E){var T=s.current[E];y&&(y[E]=T)}),p&&nT()&&(p.removeEventListener("touchmove",JE,go),d&&(d.removeEventListener("touchstart",tT,go),d.removeEventListener("touchmove",eT,go)))}},[r]);return x.useEffect(function(){if(e){var d=l.current;return c(d),function(){m(d)}}},[e,c,m]),function(d){l.current=d}}var Uk=function(e){var t=e.target;return t.ownerDocument.activeElement&&t.ownerDocument.activeElement.blur()},jk={name:"1kfdb0e",styles:"position:fixed;left:0;bottom:0;right:0;top:0"};function zk(n){var e=n.children,t=n.lockEnabled,r=n.captureEnabled,s=r===void 0?!0:r,l=n.onBottomArrive,c=n.onBottomLeave,m=n.onTopArrive,d=n.onTopLeave,p=kk({isEnabled:s,onBottomArrive:l,onBottomLeave:c,onTopArrive:m,onTopLeave:d}),y=Lk({isEnabled:t}),E=function(R){p(R),y(R)};return _e(x.Fragment,null,t&&_e("div",{onClick:Uk,css:jk}),e(E))}var Fk={name:"1a0ro4n-requiredInput",styles:"label:requiredInput;opacity:0;pointer-events:none;position:absolute;bottom:0;left:0;right:0;width:100%"},Bk=function(e){var t=e.name,r=e.onFocus;return _e("input",{required:!0,name:t,tabIndex:-1,"aria-hidden":"true",onFocus:r,css:Fk,value:"",onChange:function(){}})},Hk=Bk;function _v(n){var e;return typeof window<"u"&&window.navigator!=null?n.test(((e=window.navigator.userAgentData)===null||e===void 0?void 0:e.platform)||window.navigator.platform):!1}function qk(){return _v(/^iPhone/i)}function Zw(){return _v(/^Mac/i)}function $k(){return _v(/^iPad/i)||Zw()&&navigator.maxTouchPoints>1}function Gk(){return qk()||$k()}function Kk(){return Zw()||Gk()}var Yk=function(e){return e.label},Qk=function(e){return e.label},Xk=function(e){return e.value},Wk=function(e){return!!e.isDisabled},Zk={clearIndicator:V6,container:S6,control:F6,dropdownIndicator:M6,group:$6,groupHeading:K6,indicatorsContainer:I6,indicatorSeparator:k6,input:W6,loadingIndicator:j6,loadingMessage:y6,menu:h6,menuList:p6,menuPortal:E6,multiValue:nk,multiValueLabel:ik,multiValueRemove:rk,noOptionsMessage:v6,option:ck,placeholder:dk,singleValue:gk,valueContainer:A6},Jk={primary:"#2684FF",primary75:"#4C9AFF",primary50:"#B2D4FF",primary25:"#DEEBFF",danger:"#DE350B",dangerLight:"#FFBDAD",neutral0:"hsl(0, 0%, 100%)",neutral5:"hsl(0, 0%, 95%)",neutral10:"hsl(0, 0%, 90%)",neutral20:"hsl(0, 0%, 80%)",neutral30:"hsl(0, 0%, 70%)",neutral40:"hsl(0, 0%, 60%)",neutral50:"hsl(0, 0%, 50%)",neutral60:"hsl(0, 0%, 40%)",neutral70:"hsl(0, 0%, 30%)",neutral80:"hsl(0, 0%, 20%)",neutral90:"hsl(0, 0%, 10%)"},eL=4,Jw=4,tL=38,nL=Jw*2,iL={baseUnit:Jw,controlHeight:tL,menuGutter:nL},Ep={borderRadius:eL,colors:Jk,spacing:iL},rL={"aria-live":"polite",backspaceRemovesValue:!0,blurInputOnSelect:GE(),captureMenuScroll:!GE(),classNames:{},closeMenuOnSelect:!0,closeMenuOnScroll:!1,components:{},controlShouldRenderValue:!0,escapeClearsValue:!1,filterOption:Mk(),formatGroupLabel:Yk,getOptionLabel:Qk,getOptionValue:Xk,isDisabled:!1,isLoading:!1,isMulti:!1,isRtl:!1,isSearchable:!0,isOptionDisabled:Wk,loadingMessage:function(){return"Loading..."},maxMenuHeight:300,minMenuHeight:140,menuIsOpen:!1,menuPlacement:"bottom",menuPosition:"absolute",menuShouldBlockScroll:!1,menuShouldScrollIntoView:!t6(),noOptionsMessage:function(){return"No options"},openMenuOnFocus:!1,openMenuOnClick:!0,options:[],pageSize:5,placeholder:"Select...",screenReaderStatus:function(e){var t=e.count;return"".concat(t," result").concat(t!==1?"s":""," available")},styles:{},tabIndex:0,tabSelectsValue:!0,unstyled:!1};function rT(n,e,t,r){var s=nA(n,e,t),l=iA(n,e,t),c=tA(n,e),m=yf(n,e);return{type:"option",data:e,isDisabled:s,isSelected:l,label:c,value:m,index:r}}function zh(n,e){return n.options.map(function(t,r){if("options"in t){var s=t.options.map(function(c,m){return rT(n,c,e,m)}).filter(function(c){return sT(n,c)});return s.length>0?{type:"group",data:t,options:s,index:r}:void 0}var l=rT(n,t,e,r);return sT(n,l)?l:void 0}).filter(r6)}function eA(n){return n.reduce(function(e,t){return t.type==="group"?e.push.apply(e,uv(t.options.map(function(r){return r.data}))):e.push(t.data),e},[])}function aT(n,e){return n.reduce(function(t,r){return r.type==="group"?t.push.apply(t,uv(r.options.map(function(s){return{data:s.data,id:"".concat(e,"-").concat(r.index,"-").concat(s.index)}}))):t.push({data:r.data,id:"".concat(e,"-").concat(r.index)}),t},[])}function aL(n,e){return eA(zh(n,e))}function sT(n,e){var t=n.inputValue,r=t===void 0?"":t,s=e.data,l=e.isSelected,c=e.label,m=e.value;return(!aA(n)||!l)&&rA(n,{label:c,value:m,data:s},r)}function sL(n,e){var t=n.focusedValue,r=n.selectValue,s=r.indexOf(t);if(s>-1){var l=e.indexOf(t);if(l>-1)return t;if(s<e.length)return e[s]}return null}function oL(n,e){var t=n.focusedOption;return t&&e.indexOf(t)>-1?t:e[0]}var Tp=function(e,t){var r,s=(r=e.find(function(l){return l.data===t}))===null||r===void 0?void 0:r.id;return s||null},tA=function(e,t){return e.getOptionLabel(t)},yf=function(e,t){return e.getOptionValue(t)};function nA(n,e,t){return typeof n.isOptionDisabled=="function"?n.isOptionDisabled(e,t):!1}function iA(n,e,t){if(t.indexOf(e)>-1)return!0;if(typeof n.isOptionSelected=="function")return n.isOptionSelected(e,t);var r=yf(n,e);return t.some(function(s){return yf(n,s)===r})}function rA(n,e,t){return n.filterOption?n.filterOption(e,t):!0}var aA=function(e){var t=e.hideSelectedOptions,r=e.isMulti;return t===void 0?r:t},lL=1,sA=function(n){CP(t,n);var e=xP(t);function t(r){var s;if(RP(this,t),s=e.call(this,r),s.state={ariaSelection:null,focusedOption:null,focusedOptionId:null,focusableOptionsWithIds:[],focusedValue:null,inputIsHidden:!1,isFocused:!1,selectValue:[],clearFocusValueOnUpdate:!1,prevWasFocused:!1,inputIsHiddenAfterUpdate:void 0,prevProps:void 0,instancePrefix:"",isAppleDevice:!1},s.blockOptionHover=!1,s.isComposing=!1,s.commonProps=void 0,s.initialTouchX=0,s.initialTouchY=0,s.openAfterFocus=!1,s.scrollToFocusedOptionOnUpdate=!1,s.userIsDragging=void 0,s.controlRef=null,s.getControlRef=function(d){s.controlRef=d},s.focusedOptionRef=null,s.getFocusedOptionRef=function(d){s.focusedOptionRef=d},s.menuListRef=null,s.getMenuListRef=function(d){s.menuListRef=d},s.inputRef=null,s.getInputRef=function(d){s.inputRef=d},s.focus=s.focusInput,s.blur=s.blurInput,s.onChange=function(d,p){var y=s.props,E=y.onChange,T=y.name;p.name=T,s.ariaOnChange(d,p),E(d,p)},s.setValue=function(d,p,y){var E=s.props,T=E.closeMenuOnSelect,R=E.isMulti,C=E.inputValue;s.onInputChange("",{action:"set-value",prevInputValue:C}),T&&(s.setState({inputIsHiddenAfterUpdate:!R}),s.onMenuClose()),s.setState({clearFocusValueOnUpdate:!0}),s.onChange(d,{action:p,option:y})},s.selectOption=function(d){var p=s.props,y=p.blurInputOnSelect,E=p.isMulti,T=p.name,R=s.state.selectValue,C=E&&s.isOptionSelected(d,R),N=s.isOptionDisabled(d,R);if(C){var I=s.getOptionValue(d);s.setValue(R.filter(function(M){return s.getOptionValue(M)!==I}),"deselect-option",d)}else if(!N)E?s.setValue([].concat(uv(R),[d]),"select-option",d):s.setValue(d,"select-option");else{s.ariaOnChange(d,{action:"select-option",option:d,name:T});return}y&&s.blurInput()},s.removeValue=function(d){var p=s.props.isMulti,y=s.state.selectValue,E=s.getOptionValue(d),T=y.filter(function(C){return s.getOptionValue(C)!==E}),R=wh(p,T,T[0]||null);s.onChange(R,{action:"remove-value",removedValue:d}),s.focusInput()},s.clearValue=function(){var d=s.state.selectValue;s.onChange(wh(s.props.isMulti,[],null),{action:"clear",removedValues:d})},s.popValue=function(){var d=s.props.isMulti,p=s.state.selectValue,y=p[p.length-1],E=p.slice(0,p.length-1),T=wh(d,E,E[0]||null);y&&s.onChange(T,{action:"pop-value",removedValue:y})},s.getFocusedOptionId=function(d){return Tp(s.state.focusableOptionsWithIds,d)},s.getFocusableOptionsWithIds=function(){return aT(zh(s.props,s.state.selectValue),s.getElementId("option"))},s.getValue=function(){return s.state.selectValue},s.cx=function(){for(var d=arguments.length,p=new Array(d),y=0;y<d;y++)p[y]=arguments[y];return X3.apply(void 0,[s.props.classNamePrefix].concat(p))},s.getOptionLabel=function(d){return tA(s.props,d)},s.getOptionValue=function(d){return yf(s.props,d)},s.getStyles=function(d,p){var y=s.props.unstyled,E=Zk[d](p,y);E.boxSizing="border-box";var T=s.props.styles[d];return T?T(E,p):E},s.getClassNames=function(d,p){var y,E;return(y=(E=s.props.classNames)[d])===null||y===void 0?void 0:y.call(E,p)},s.getElementId=function(d){return"".concat(s.state.instancePrefix,"-").concat(d)},s.getComponents=function(){return bk(s.props)},s.buildCategorizedOptions=function(){return zh(s.props,s.state.selectValue)},s.getCategorizedOptions=function(){return s.props.menuIsOpen?s.buildCategorizedOptions():[]},s.buildFocusableOptions=function(){return eA(s.buildCategorizedOptions())},s.getFocusableOptions=function(){return s.props.menuIsOpen?s.buildFocusableOptions():[]},s.ariaOnChange=function(d,p){s.setState({ariaSelection:be({value:d},p)})},s.onMenuMouseDown=function(d){d.button===0&&(d.stopPropagation(),d.preventDefault(),s.focusInput())},s.onMenuMouseMove=function(d){s.blockOptionHover=!1},s.onControlMouseDown=function(d){if(!d.defaultPrevented){var p=s.props.openMenuOnClick;s.state.isFocused?s.props.menuIsOpen?d.target.tagName!=="INPUT"&&d.target.tagName!=="TEXTAREA"&&s.onMenuClose():p&&s.openMenu("first"):(p&&(s.openAfterFocus=!0),s.focusInput()),d.target.tagName!=="INPUT"&&d.target.tagName!=="TEXTAREA"&&d.preventDefault()}},s.onDropdownIndicatorMouseDown=function(d){if(!(d&&d.type==="mousedown"&&d.button!==0)&&!s.props.isDisabled){var p=s.props,y=p.isMulti,E=p.menuIsOpen;s.focusInput(),E?(s.setState({inputIsHiddenAfterUpdate:!y}),s.onMenuClose()):s.openMenu("first"),d.preventDefault()}},s.onClearIndicatorMouseDown=function(d){d&&d.type==="mousedown"&&d.button!==0||(s.clearValue(),d.preventDefault(),s.openAfterFocus=!1,d.type==="touchend"?s.focusInput():setTimeout(function(){return s.focusInput()}))},s.onScroll=function(d){typeof s.props.closeMenuOnScroll=="boolean"?d.target instanceof HTMLElement&&$f(d.target)&&s.props.onMenuClose():typeof s.props.closeMenuOnScroll=="function"&&s.props.closeMenuOnScroll(d)&&s.props.onMenuClose()},s.onCompositionStart=function(){s.isComposing=!0},s.onCompositionEnd=function(){s.isComposing=!1},s.onTouchStart=function(d){var p=d.touches,y=p&&p.item(0);y&&(s.initialTouchX=y.clientX,s.initialTouchY=y.clientY,s.userIsDragging=!1)},s.onTouchMove=function(d){var p=d.touches,y=p&&p.item(0);if(y){var E=Math.abs(y.clientX-s.initialTouchX),T=Math.abs(y.clientY-s.initialTouchY),R=5;s.userIsDragging=E>R||T>R}},s.onTouchEnd=function(d){s.userIsDragging||(s.controlRef&&!s.controlRef.contains(d.target)&&s.menuListRef&&!s.menuListRef.contains(d.target)&&s.blurInput(),s.initialTouchX=0,s.initialTouchY=0)},s.onControlTouchEnd=function(d){s.userIsDragging||s.onControlMouseDown(d)},s.onClearIndicatorTouchEnd=function(d){s.userIsDragging||s.onClearIndicatorMouseDown(d)},s.onDropdownIndicatorTouchEnd=function(d){s.userIsDragging||s.onDropdownIndicatorMouseDown(d)},s.handleInputChange=function(d){var p=s.props.inputValue,y=d.currentTarget.value;s.setState({inputIsHiddenAfterUpdate:!1}),s.onInputChange(y,{action:"input-change",prevInputValue:p}),s.props.menuIsOpen||s.onMenuOpen()},s.onInputFocus=function(d){s.props.onFocus&&s.props.onFocus(d),s.setState({inputIsHiddenAfterUpdate:!1,isFocused:!0}),(s.openAfterFocus||s.props.openMenuOnFocus)&&s.openMenu("first"),s.openAfterFocus=!1},s.onInputBlur=function(d){var p=s.props.inputValue;if(s.menuListRef&&s.menuListRef.contains(document.activeElement)){s.inputRef.focus();return}s.props.onBlur&&s.props.onBlur(d),s.onInputChange("",{action:"input-blur",prevInputValue:p}),s.onMenuClose(),s.setState({focusedValue:null,isFocused:!1})},s.onOptionHover=function(d){if(!(s.blockOptionHover||s.state.focusedOption===d)){var p=s.getFocusableOptions(),y=p.indexOf(d);s.setState({focusedOption:d,focusedOptionId:y>-1?s.getFocusedOptionId(d):null})}},s.shouldHideSelectedOptions=function(){return aA(s.props)},s.onValueInputFocus=function(d){d.preventDefault(),d.stopPropagation(),s.focus()},s.onKeyDown=function(d){var p=s.props,y=p.isMulti,E=p.backspaceRemovesValue,T=p.escapeClearsValue,R=p.inputValue,C=p.isClearable,N=p.isDisabled,I=p.menuIsOpen,M=p.onKeyDown,j=p.tabSelectsValue,$=p.openMenuOnFocus,ee=s.state,q=ee.focusedOption,oe=ee.focusedValue,O=ee.selectValue;if(!N&&!(typeof M=="function"&&(M(d),d.defaultPrevented))){switch(s.blockOptionHover=!0,d.key){case"ArrowLeft":if(!y||R)return;s.focusValue("previous");break;case"ArrowRight":if(!y||R)return;s.focusValue("next");break;case"Delete":case"Backspace":if(R)return;if(oe)s.removeValue(oe);else{if(!E)return;y?s.popValue():C&&s.clearValue()}break;case"Tab":if(s.isComposing||d.shiftKey||!I||!j||!q||$&&s.isOptionSelected(q,O))return;s.selectOption(q);break;case"Enter":if(d.keyCode===229)break;if(I){if(!q||s.isComposing)return;s.selectOption(q);break}return;case"Escape":I?(s.setState({inputIsHiddenAfterUpdate:!1}),s.onInputChange("",{action:"menu-close",prevInputValue:R}),s.onMenuClose()):C&&T&&s.clearValue();break;case" ":if(R)return;if(!I){s.openMenu("first");break}if(!q)return;s.selectOption(q);break;case"ArrowUp":I?s.focusOption("up"):s.openMenu("last");break;case"ArrowDown":I?s.focusOption("down"):s.openMenu("first");break;case"PageUp":if(!I)return;s.focusOption("pageup");break;case"PageDown":if(!I)return;s.focusOption("pagedown");break;case"Home":if(!I)return;s.focusOption("first");break;case"End":if(!I)return;s.focusOption("last");break;default:return}d.preventDefault()}},s.state.instancePrefix="react-select-"+(s.props.instanceId||++lL),s.state.selectValue=qE(r.value),r.menuIsOpen&&s.state.selectValue.length){var l=s.getFocusableOptionsWithIds(),c=s.buildFocusableOptions(),m=c.indexOf(s.state.selectValue[0]);s.state.focusableOptionsWithIds=l,s.state.focusedOption=c[m],s.state.focusedOptionId=Tp(l,c[m])}return s}return IP(t,[{key:"componentDidMount",value:function(){this.startListeningComposition(),this.startListeningToTouch(),this.props.closeMenuOnScroll&&document&&document.addEventListener&&document.addEventListener("scroll",this.onScroll,!0),this.props.autoFocus&&this.focusInput(),this.props.menuIsOpen&&this.state.focusedOption&&this.menuListRef&&this.focusedOptionRef&&$E(this.menuListRef,this.focusedOptionRef),Kk()&&this.setState({isAppleDevice:!0})}},{key:"componentDidUpdate",value:function(s){var l=this.props,c=l.isDisabled,m=l.menuIsOpen,d=this.state.isFocused;(d&&!c&&s.isDisabled||d&&m&&!s.menuIsOpen)&&this.focusInput(),d&&c&&!s.isDisabled?this.setState({isFocused:!1},this.onMenuClose):!d&&!c&&s.isDisabled&&this.inputRef===document.activeElement&&this.setState({isFocused:!0}),this.menuListRef&&this.focusedOptionRef&&this.scrollToFocusedOptionOnUpdate&&($E(this.menuListRef,this.focusedOptionRef),this.scrollToFocusedOptionOnUpdate=!1)}},{key:"componentWillUnmount",value:function(){this.stopListeningComposition(),this.stopListeningToTouch(),document.removeEventListener("scroll",this.onScroll,!0)}},{key:"onMenuOpen",value:function(){this.props.onMenuOpen()}},{key:"onMenuClose",value:function(){this.onInputChange("",{action:"menu-close",prevInputValue:this.props.inputValue}),this.props.onMenuClose()}},{key:"onInputChange",value:function(s,l){this.props.onInputChange(s,l)}},{key:"focusInput",value:function(){this.inputRef&&this.inputRef.focus()}},{key:"blurInput",value:function(){this.inputRef&&this.inputRef.blur()}},{key:"openMenu",value:function(s){var l=this,c=this.state,m=c.selectValue,d=c.isFocused,p=this.buildFocusableOptions(),y=s==="first"?0:p.length-1;if(!this.props.isMulti){var E=p.indexOf(m[0]);E>-1&&(y=E)}this.scrollToFocusedOptionOnUpdate=!(d&&this.menuListRef),this.setState({inputIsHiddenAfterUpdate:!1,focusedValue:null,focusedOption:p[y],focusedOptionId:this.getFocusedOptionId(p[y])},function(){return l.onMenuOpen()})}},{key:"focusValue",value:function(s){var l=this.state,c=l.selectValue,m=l.focusedValue;if(this.props.isMulti){this.setState({focusedOption:null});var d=c.indexOf(m);m||(d=-1);var p=c.length-1,y=-1;if(c.length){switch(s){case"previous":d===0?y=0:d===-1?y=p:y=d-1;break;case"next":d>-1&&d<p&&(y=d+1);break}this.setState({inputIsHidden:y!==-1,focusedValue:c[y]})}}}},{key:"focusOption",value:function(){var s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"first",l=this.props.pageSize,c=this.state.focusedOption,m=this.getFocusableOptions();if(m.length){var d=0,p=m.indexOf(c);c||(p=-1),s==="up"?d=p>0?p-1:m.length-1:s==="down"?d=(p+1)%m.length:s==="pageup"?(d=p-l,d<0&&(d=0)):s==="pagedown"?(d=p+l,d>m.length-1&&(d=m.length-1)):s==="last"&&(d=m.length-1),this.scrollToFocusedOptionOnUpdate=!0,this.setState({focusedOption:m[d],focusedValue:null,focusedOptionId:this.getFocusedOptionId(m[d])})}}},{key:"getTheme",value:function(){return this.props.theme?typeof this.props.theme=="function"?this.props.theme(Ep):be(be({},Ep),this.props.theme):Ep}},{key:"getCommonProps",value:function(){var s=this.clearValue,l=this.cx,c=this.getStyles,m=this.getClassNames,d=this.getValue,p=this.selectOption,y=this.setValue,E=this.props,T=E.isMulti,R=E.isRtl,C=E.options,N=this.hasValue();return{clearValue:s,cx:l,getStyles:c,getClassNames:m,getValue:d,hasValue:N,isMulti:T,isRtl:R,options:C,selectOption:p,selectProps:E,setValue:y,theme:this.getTheme()}}},{key:"hasValue",value:function(){var s=this.state.selectValue;return s.length>0}},{key:"hasOptions",value:function(){return!!this.getFocusableOptions().length}},{key:"isClearable",value:function(){var s=this.props,l=s.isClearable,c=s.isMulti;return l===void 0?c:l}},{key:"isOptionDisabled",value:function(s,l){return nA(this.props,s,l)}},{key:"isOptionSelected",value:function(s,l){return iA(this.props,s,l)}},{key:"filterOption",value:function(s,l){return rA(this.props,s,l)}},{key:"formatOptionLabel",value:function(s,l){if(typeof this.props.formatOptionLabel=="function"){var c=this.props.inputValue,m=this.state.selectValue;return this.props.formatOptionLabel(s,{context:l,inputValue:c,selectValue:m})}else return this.getOptionLabel(s)}},{key:"formatGroupLabel",value:function(s){return this.props.formatGroupLabel(s)}},{key:"startListeningComposition",value:function(){document&&document.addEventListener&&(document.addEventListener("compositionstart",this.onCompositionStart,!1),document.addEventListener("compositionend",this.onCompositionEnd,!1))}},{key:"stopListeningComposition",value:function(){document&&document.removeEventListener&&(document.removeEventListener("compositionstart",this.onCompositionStart),document.removeEventListener("compositionend",this.onCompositionEnd))}},{key:"startListeningToTouch",value:function(){document&&document.addEventListener&&(document.addEventListener("touchstart",this.onTouchStart,!1),document.addEventListener("touchmove",this.onTouchMove,!1),document.addEventListener("touchend",this.onTouchEnd,!1))}},{key:"stopListeningToTouch",value:function(){document&&document.removeEventListener&&(document.removeEventListener("touchstart",this.onTouchStart),document.removeEventListener("touchmove",this.onTouchMove),document.removeEventListener("touchend",this.onTouchEnd))}},{key:"renderInput",value:function(){var s=this.props,l=s.isDisabled,c=s.isSearchable,m=s.inputId,d=s.inputValue,p=s.tabIndex,y=s.form,E=s.menuIsOpen,T=s.required,R=this.getComponents(),C=R.Input,N=this.state,I=N.inputIsHidden,M=N.ariaSelection,j=this.commonProps,$=m||this.getElementId("input"),ee=be(be(be({"aria-autocomplete":"list","aria-expanded":E,"aria-haspopup":!0,"aria-errormessage":this.props["aria-errormessage"],"aria-invalid":this.props["aria-invalid"],"aria-label":this.props["aria-label"],"aria-labelledby":this.props["aria-labelledby"],"aria-required":T,role:"combobox","aria-activedescendant":this.state.isAppleDevice?void 0:this.state.focusedOptionId||""},E&&{"aria-controls":this.getElementId("listbox")}),!c&&{"aria-readonly":!0}),this.hasValue()?(M==null?void 0:M.action)==="initial-input-focus"&&{"aria-describedby":this.getElementId("live-region")}:{"aria-describedby":this.getElementId("placeholder")});return c?x.createElement(C,we({},j,{autoCapitalize:"none",autoComplete:"off",autoCorrect:"off",id:$,innerRef:this.getInputRef,isDisabled:l,isHidden:I,onBlur:this.onInputBlur,onChange:this.handleInputChange,onFocus:this.onInputFocus,spellCheck:"false",tabIndex:p,form:y,type:"text",value:d},ee)):x.createElement(Vk,we({id:$,innerRef:this.getInputRef,onBlur:this.onInputBlur,onChange:gf,onFocus:this.onInputFocus,disabled:l,tabIndex:p,inputMode:"none",form:y,value:""},ee))}},{key:"renderPlaceholderOrValue",value:function(){var s=this,l=this.getComponents(),c=l.MultiValue,m=l.MultiValueContainer,d=l.MultiValueLabel,p=l.MultiValueRemove,y=l.SingleValue,E=l.Placeholder,T=this.commonProps,R=this.props,C=R.controlShouldRenderValue,N=R.isDisabled,I=R.isMulti,M=R.inputValue,j=R.placeholder,$=this.state,ee=$.selectValue,q=$.focusedValue,oe=$.isFocused;if(!this.hasValue()||!C)return M?null:x.createElement(E,we({},T,{key:"placeholder",isDisabled:N,isFocused:oe,innerProps:{id:this.getElementId("placeholder")}}),j);if(I)return ee.map(function(A,D){var V=A===q,z="".concat(s.getOptionLabel(A),"-").concat(s.getOptionValue(A));return x.createElement(c,we({},T,{components:{Container:m,Label:d,Remove:p},isFocused:V,isDisabled:N,key:z,index:D,removeProps:{onClick:function(){return s.removeValue(A)},onTouchEnd:function(){return s.removeValue(A)},onMouseDown:function(k){k.preventDefault()}},data:A}),s.formatOptionLabel(A,"value"))});if(M)return null;var O=ee[0];return x.createElement(y,we({},T,{data:O,isDisabled:N}),this.formatOptionLabel(O,"value"))}},{key:"renderClearIndicator",value:function(){var s=this.getComponents(),l=s.ClearIndicator,c=this.commonProps,m=this.props,d=m.isDisabled,p=m.isLoading,y=this.state.isFocused;if(!this.isClearable()||!l||d||!this.hasValue()||p)return null;var E={onMouseDown:this.onClearIndicatorMouseDown,onTouchEnd:this.onClearIndicatorTouchEnd,"aria-hidden":"true"};return x.createElement(l,we({},c,{innerProps:E,isFocused:y}))}},{key:"renderLoadingIndicator",value:function(){var s=this.getComponents(),l=s.LoadingIndicator,c=this.commonProps,m=this.props,d=m.isDisabled,p=m.isLoading,y=this.state.isFocused;if(!l||!p)return null;var E={"aria-hidden":"true"};return x.createElement(l,we({},c,{innerProps:E,isDisabled:d,isFocused:y}))}},{key:"renderIndicatorSeparator",value:function(){var s=this.getComponents(),l=s.DropdownIndicator,c=s.IndicatorSeparator;if(!l||!c)return null;var m=this.commonProps,d=this.props.isDisabled,p=this.state.isFocused;return x.createElement(c,we({},m,{isDisabled:d,isFocused:p}))}},{key:"renderDropdownIndicator",value:function(){var s=this.getComponents(),l=s.DropdownIndicator;if(!l)return null;var c=this.commonProps,m=this.props.isDisabled,d=this.state.isFocused,p={onMouseDown:this.onDropdownIndicatorMouseDown,onTouchEnd:this.onDropdownIndicatorTouchEnd,"aria-hidden":"true"};return x.createElement(l,we({},c,{innerProps:p,isDisabled:m,isFocused:d}))}},{key:"renderMenu",value:function(){var s=this,l=this.getComponents(),c=l.Group,m=l.GroupHeading,d=l.Menu,p=l.MenuList,y=l.MenuPortal,E=l.LoadingMessage,T=l.NoOptionsMessage,R=l.Option,C=this.commonProps,N=this.state.focusedOption,I=this.props,M=I.captureMenuScroll,j=I.inputValue,$=I.isLoading,ee=I.loadingMessage,q=I.minMenuHeight,oe=I.maxMenuHeight,O=I.menuIsOpen,A=I.menuPlacement,D=I.menuPosition,V=I.menuPortalTarget,z=I.menuShouldBlockScroll,B=I.menuShouldScrollIntoView,k=I.noOptionsMessage,Ye=I.onMenuScrollToTop,Oe=I.onMenuScrollToBottom;if(!O)return null;var W=function(re,de){var Ie=re.type,pe=re.data,lt=re.isDisabled,Ue=re.isSelected,hn=re.label,ci=re.value,Vn=N===pe,hi=lt?void 0:function(){return s.onOptionHover(pe)},qi=lt?void 0:function(){return s.selectOption(pe)},fi="".concat(s.getElementId("option"),"-").concat(de),Ea={id:fi,onClick:qi,onMouseMove:hi,onMouseOver:hi,tabIndex:-1,role:"option","aria-selected":s.state.isAppleDevice?void 0:Ue};return x.createElement(R,we({},C,{innerProps:Ea,data:pe,isDisabled:lt,isSelected:Ue,key:fi,label:hn,type:Ie,value:ci,isFocused:Vn,innerRef:Vn?s.getFocusedOptionRef:void 0}),s.formatOptionLabel(re.data,"menu"))},J;if(this.hasOptions())J=this.getCategorizedOptions().map(function(le){if(le.type==="group"){var re=le.data,de=le.options,Ie=le.index,pe="".concat(s.getElementId("group"),"-").concat(Ie),lt="".concat(pe,"-heading");return x.createElement(c,we({},C,{key:pe,data:re,options:de,Heading:m,headingProps:{id:lt,data:le.data},label:s.formatGroupLabel(le.data)}),le.options.map(function(Ue){return W(Ue,"".concat(Ie,"-").concat(Ue.index))}))}else if(le.type==="option")return W(le,"".concat(le.index))});else if($){var he=ee({inputValue:j});if(he===null)return null;J=x.createElement(E,C,he)}else{var ye=k({inputValue:j});if(ye===null)return null;J=x.createElement(T,C,ye)}var P={minMenuHeight:q,maxMenuHeight:oe,menuPlacement:A,menuPosition:D,menuShouldScrollIntoView:B},ie=x.createElement(f6,we({},C,P),function(le){var re=le.ref,de=le.placerProps,Ie=de.placement,pe=de.maxHeight;return x.createElement(d,we({},C,P,{innerRef:re,innerProps:{onMouseDown:s.onMenuMouseDown,onMouseMove:s.onMenuMouseMove},isLoading:$,placement:Ie}),x.createElement(zk,{captureEnabled:M,onTopArrive:Ye,onBottomArrive:Oe,lockEnabled:z},function(lt){return x.createElement(p,we({},C,{innerRef:function(hn){s.getMenuListRef(hn),lt(hn)},innerProps:{role:"listbox","aria-multiselectable":C.isMulti,id:s.getElementId("listbox")},isLoading:$,maxHeight:pe,focusedOption:N}),J)}))});return V||D==="fixed"?x.createElement(y,we({},C,{appendTo:V,controlElement:this.controlRef,menuPlacement:A,menuPosition:D}),ie):ie}},{key:"renderFormField",value:function(){var s=this,l=this.props,c=l.delimiter,m=l.isDisabled,d=l.isMulti,p=l.name,y=l.required,E=this.state.selectValue;if(y&&!this.hasValue()&&!m)return x.createElement(Hk,{name:p,onFocus:this.onValueInputFocus});if(!(!p||m))if(d)if(c){var T=E.map(function(N){return s.getOptionValue(N)}).join(c);return x.createElement("input",{name:p,type:"hidden",value:T})}else{var R=E.length>0?E.map(function(N,I){return x.createElement("input",{key:"i-".concat(I),name:p,type:"hidden",value:s.getOptionValue(N)})}):x.createElement("input",{name:p,type:"hidden",value:""});return x.createElement("div",null,R)}else{var C=E[0]?this.getOptionValue(E[0]):"";return x.createElement("input",{name:p,type:"hidden",value:C})}}},{key:"renderLiveRegion",value:function(){var s=this.commonProps,l=this.state,c=l.ariaSelection,m=l.focusedOption,d=l.focusedValue,p=l.isFocused,y=l.selectValue,E=this.getFocusableOptions();return x.createElement(Ck,we({},s,{id:this.getElementId("live-region"),ariaSelection:c,focusedOption:m,focusedValue:d,isFocused:p,selectValue:y,focusableOptions:E,isAppleDevice:this.state.isAppleDevice}))}},{key:"render",value:function(){var s=this.getComponents(),l=s.Control,c=s.IndicatorsContainer,m=s.SelectContainer,d=s.ValueContainer,p=this.props,y=p.className,E=p.id,T=p.isDisabled,R=p.menuIsOpen,C=this.state.isFocused,N=this.commonProps=this.getCommonProps();return x.createElement(m,we({},N,{className:y,innerProps:{id:E,onKeyDown:this.onKeyDown},isDisabled:T,isFocused:C}),this.renderLiveRegion(),x.createElement(l,we({},N,{innerRef:this.getControlRef,innerProps:{onMouseDown:this.onControlMouseDown,onTouchEnd:this.onControlTouchEnd},isDisabled:T,isFocused:C,menuIsOpen:R}),x.createElement(d,we({},N,{isDisabled:T}),this.renderPlaceholderOrValue(),this.renderInput()),x.createElement(c,we({},N,{isDisabled:T}),this.renderClearIndicator(),this.renderLoadingIndicator(),this.renderIndicatorSeparator(),this.renderDropdownIndicator())),this.renderMenu(),this.renderFormField())}}],[{key:"getDerivedStateFromProps",value:function(s,l){var c=l.prevProps,m=l.clearFocusValueOnUpdate,d=l.inputIsHiddenAfterUpdate,p=l.ariaSelection,y=l.isFocused,E=l.prevWasFocused,T=l.instancePrefix,R=s.options,C=s.value,N=s.menuIsOpen,I=s.inputValue,M=s.isMulti,j=qE(C),$={};if(c&&(C!==c.value||R!==c.options||N!==c.menuIsOpen||I!==c.inputValue)){var ee=N?aL(s,j):[],q=N?aT(zh(s,j),"".concat(T,"-option")):[],oe=m?sL(l,j):null,O=oL(l,ee),A=Tp(q,O);$={selectValue:j,focusedOption:O,focusedOptionId:A,focusableOptionsWithIds:q,focusedValue:oe,clearFocusValueOnUpdate:!1}}var D=d!=null&&s!==c?{inputIsHidden:d,inputIsHiddenAfterUpdate:void 0}:{},V=p,z=y&&E;return y&&!z&&(V={value:wh(M,j,j[0]||null),options:j,action:"initial-input-focus"},z=!E),(p==null?void 0:p.action)==="initial-input-focus"&&(V=null),be(be(be({},$),D),{},{prevProps:s,ariaSelection:V,prevWasFocused:z})}}]),t}(x.Component);sA.defaultProps=rL;var uL=x.forwardRef(function(n,e){var t=AP(n);return x.createElement(sA,we({ref:e},t))}),oT=uL;function cL({movieToggle:n}){const[e,t]=x.useState([]),[r,s]=x.useState({value:"popularity.desc",label:"popularity descending"}),[l,c]=x.useState([]),[m,d]=x.useState(!0),[p,y]=x.useState(1),[E,T]=x.useState([]),R=[{value:"popularity.desc",label:"popularity descending"},{value:"popularity.asc",label:"popularity ascending"},{value:"original_title.desc",label:"original title descending"},{value:"original_title.asc",label:"original title ascending"},{value:"revenue.desc",label:"revenue descending"},{value:"revenue.asc",label:"revenue ascending"},{value:"primary_release_date.desc",label:"release date descending"},{value:"primary_release_date.asc",label:"release date ascending"},{value:"title.desc",label:"title descending"},{value:"title.asc",label:"title ascending"},{value:"vote_average.desc",label:"vote average descending"},{value:"vote_average.asc",label:"vote average ascending"},{value:"vote_count.desc",label:"vote count descending "},{value:"vote_count.asc",label:"vote count ascending"}];x.useEffect(()=>{console.log("movieToggle changed to:",n),(async()=>{try{const ee=(n?await tP():await iP()).genres.map(q=>({value:q.id.toString(),label:q.name}));T(ee),c([]),t([])}catch($){console.error("Error fetching genres:",$)}})()},[n]);const C=j=>{const $=j?j.map(ee=>ee.value):[];t($),y(1)},N=j=>{s(j),y(1)},I=()=>{y(j=>j+1)},M=()=>{y(j=>Math.max(1,j-1))};return x.useEffect(()=>{if(e.length===0){t([n?"28":"10759"]);return}const j=e.join(",");console.log("Fetching data with:",{movieToggle:n,genreString:j,sortBy:r.value,page:p}),d(!0);async function $(){try{const ee=n?await nP(j,r.value,p):await rP(j,r.value,p);console.log("Fetched data:",ee),c(ee)}catch(ee){console.error("Error fetching data:",ee),c([])}finally{d(!1)}}$()},[e,r,p,n]),L.jsxs("div",{className:"discover-container",children:[L.jsxs("div",{className:"dropdown",children:[L.jsx("h2",{children:"Select Genres"}),L.jsx(oT,{isMulti:!0,options:E,onChange:C,placeholder:"Selected Genres...",className:"basic-multi-select",classNamePrefix:"select",theme:j=>({...j,borderRadius:0,colors:{...j.colors,primary25:"lightblue",primary:"black"}}),styles:{multiValue:j=>({...j,backgroundColor:"rgb(38,135,196)",color:"white"}),multiValueLabel:j=>({...j,color:"white"}),multiValueRemove:j=>({...j,color:"white",":hover":{backgroundColor:"rgb(191, 31, 31)",color:"white"}})}}),L.jsx("h2",{children:"Sort by"}),L.jsx(oT,{options:R,onChange:N,placeholder:"Sort by...",className:"basic-multi-select",classNamePrefix:"select",theme:j=>({...j,borderRadius:0,colors:{...j.colors,primary25:"lightblue",primary:"rgb(43, 162, 235)"}})})]}),L.jsx("h3",{children:n?"Movies":"TV"}),m?L.jsx("div",{children:"Loading..."}):L.jsx(Eo,{movieToggle:n,movieList:l,sectionId:"discover",isSearch:!0}),L.jsxs("div",{className:"pagination-controls",children:[L.jsx("button",{className:"discover-prev",onClick:M,disabled:p===1,children:"prev"}),L.jsxs("span",{children:["Page ",p]}),L.jsx("button",{className:"discover-next",onClick:I,children:"next"})]})]})}function hL(){const[n,e]=x.useState(""),[t,r]=x.useState(!1),[s,l]=x.useState([]),[c,m]=x.useState([]),[d,p]=x.useState([]),[y,E]=x.useState([]),[T,R]=x.useState([]),[C,N]=x.useState([]),[I,M]=x.useState([]),[j,$]=x.useState([]),[ee,q]=x.useState([]),[oe,O]=x.useState(null),[A,D]=x.useState(!0),[V,z]=x.useState(!0),[B,k]=x.useState(!1);x.useEffect(()=>{(async()=>{try{if(V){const[P,ie,le,re]=await Promise.all([$V(),GV(),KV(),YV()]);m(P),p(ie),E(le),R(re)}else{const[P,ie,le,re]=await Promise.all([aP(),sP(),oP(),lP()]);N(P),M(ie),$(le),q(re)}O(null)}catch(P){console.log(P),O(V?"Failed to load movies...":"Failed to load shows...")}finally{D(!1)}})()},[V]);const Ye=async ye=>{if(ye.preventDefault(),!!n.trim()&&!A){D(!0);try{if(V){const P=await CE(n);l(P)}else{const P=await OE(n);l(P)}r(!0),k(!1),O(null)}catch(P){console.log(P),O(V?"Failed to search movies":"Failed to search shows")}finally{D(!1)}}};function Oe(ye){ye.preventDefault();const P=!V;z(P),t&&n.trim()&&J(P)}const W=()=>{r(!1),e(""),l([]),O(null)},J=async ye=>{if(!A){D(!0);try{if(ye){const P=await CE(n);l(P)}else{const P=await OE(n);l(P)}O(null)}catch(P){console.log(P),O(ye?"Failed to search movies":"Failed to search shows")}finally{D(!1)}}},he=ye=>{const P=ye.target.value;e(P),!P.trim()&&t&&W()};return L.jsxs("div",{className:"home",children:[L.jsxs("form",{onSubmit:Ye,className:"search-form",children:[L.jsx("span",{className:"search-icon material-icons",children:"search"}),L.jsx("input",{type:"text",placeholder:"Seach for movies or shows...",className:"search-input",value:n,onChange:he}),L.jsx("button",{className:"search-button ",children:"Search"})]}),L.jsxs("div",{className:"type-container",children:[L.jsxs("button",{className:`toggle-movie-button ${V?"disabled":""}`,onClick:Oe,children:[L.jsx("span",{children:V?"Show TV":"Show Movies"}),L.jsxs("span",{className:"tooltip-text",children:["click to display ",V?"shows":"movies"]})]}),L.jsxs("button",{className:"genre-btn",onClick:()=>k(ye=>!ye),children:[L.jsx("span",{children:B?"popular":"by genre"}),L.jsx("span",{className:"tooltip-text",children:" click to search by genres "})]})]}),oe&&L.jsx("div",{className:"error-message",children:oe}),B?L.jsx(cL,{movieToggle:V},V?"movies":"tv"):A?L.jsx("div",{className:"loading",children:"Loading..."}):L.jsx("div",{className:"display-container",children:t?L.jsxs("div",{children:[" ",L.jsxs("h2",{className:"title",children:['Search results for "',n,'" -'," ",V?"Movie":"TV"]}),L.jsx("button",{onClick:W,style:{padding:"0.5rem 1rem",backgroundColor:"#666",color:"white",border:"none",borderRadius:"4px",cursor:"pointer"},children:"Clear Search"}),L.jsx(Eo,{movieToggle:V,movieList:s,sectionId:"search-results",isSearch:!0})]}):L.jsxs("div",{children:[V?L.jsx("h2",{className:"title",children:"Popular Movies"}):L.jsx("h2",{children:"Popular Shows"}),L.jsx(Eo,{movieToggle:V,movieList:V?c:C,sectionId:"popular"}),V?L.jsx("h2",{children:"Now Playing"}):L.jsx("h2",{children:"Airing Today"}),L.jsx(Eo,{movieToggle:V,movieList:V?d:I,sectionId:"now-playing"}),V?L.jsx("h2",{children:"Upcoming"}):L.jsx("h2",{children:"On The Air"}),L.jsx(Eo,{movieToggle:V,movieList:V?T:j,sectionId:"upcoming"}),L.jsx("h2",{children:"Top Rated"}),L.jsx(Eo,{movieToggle:V,movieList:V?y:ee,sectionId:"top-rated"})]})})]})}const fL=({movieId:n,type:e})=>{var m,d,p,y;const[t,r]=x.useState(null),[s,l]=x.useState(!0);if(x.useEffect(()=>{async function E(){try{const T=await(e==="movie"?WV(n):fP(n));console.log("API Results:",T),console.log("US Providers:",T.US),r(T.US)}catch(T){console.log(T)}finally{l(!1)}}E()},[n,e]),s)return L.jsx("div",{children:"Loading providers..."});const c=(E,T)=>!T||T.length===0?null:L.jsxs("div",{className:"providers-section",children:[L.jsx("span",{className:"provider-title",children:L.jsx("strong",{children:E})}),L.jsx("div",{className:"provider-container",children:T.map(R=>L.jsxs(Sr,{to:R.link||"#",className:"provider-item",target:"_blank",rel:"noopener noreferrer",children:[L.jsx("span",{children:R.name}),L.jsx("img",{src:`https://image.tmdb.org/t/p/original${R.logo_path}`,alt:R.name})]},R.provider_id))})]});return L.jsxs("div",{className:"providers-section",children:[L.jsx("h2",{className:"left-title",children:"JustWatch"}),t&&(((m=t.flatrate)==null?void 0:m.length)>0||((d=t.free)==null?void 0:d.length)>0||((p=t.rent)==null?void 0:p.length)>0||((y=t.buy)==null?void 0:y.length)>0)?L.jsxs("div",{children:[c("Streaming: ",t.flatrate),c("Free",t.free),c("Rent: ",t.rent),c("Purchase: ",t.buy)]}):L.jsx("div",{children:L.jsx("p",{children:"Streaming Information Not Found"})})]})},dL="/CinemaSite/assets/no-profile-picture-DAIZIE4N.jpg";function mL(){const{user:n,logout:e}=zf(),t=()=>{Cx(Xp,FV).catch(console.error)},r=()=>{e().catch(console.error)};return L.jsxs("nav",{className:"navbar",children:[L.jsx("div",{className:"navbar-brand",children:L.jsx(Sr,{to:"/",children:"Home"})}),L.jsx("div",{className:"navbar-links",children:n?L.jsxs("div",{children:[L.jsx(Sr,{to:"/lists",className:"nav-link",children:"Lists"}),L.jsx("button",{onClick:r,className:"logout-btn",children:"Log out"})]}):L.jsx("button",{onClick:t,className:"login-btn",children:"Login"})})]})}const pL="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20width='32'%20height='32'%20viewBox='0%200%2032%2032'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M12%202.163c3.204%200%203.584.012%204.85.07%203.252.148%204.771%201.691%204.919%204.919.058%201.265.069%201.645.069%204.849%200%203.205-.012%203.584-.069%204.849-.149%203.225-1.664%204.771-4.919%204.919-1.266.058-1.644.07-4.85.07-3.204%200-3.584-.012-4.849-.07-3.26-.149-4.771-1.699-4.919-4.92-.058-1.265-.07-1.644-.07-4.849%200-3.204.013-3.583.07-4.849.149-3.227%201.664-4.771%204.919-4.919%201.266-.057%201.645-.069%204.849-.069zm0-2.163c-3.259%200-3.667.014-4.947.072-4.358.2-6.78%202.618-6.98%206.98-.059%201.281-.073%201.689-.073%204.948%200%203.259.014%203.668.072%204.948.2%204.358%202.618%206.78%206.98%206.98%201.281.058%201.689.072%204.948.072%203.259%200%203.668-.014%204.948-.072%204.354-.2%206.782-2.618%206.979-6.98.059-1.28.073-1.689.073-4.948%200-3.259-.014-3.667-.072-4.947-.196-4.354-2.617-6.78-6.979-6.98-1.281-.059-1.69-.073-4.949-.073zm0%205.838c-3.403%200-6.162%202.759-6.162%206.162s2.759%206.163%206.162%206.163%206.162-2.759%206.162-6.163c0-3.403-2.759-6.162-6.162-6.162zm0%2010.162c-2.209%200-4-1.79-4-4%200-2.209%201.791-4%204-4s4%201.791%204%204c0%202.21-1.791%204-4%204zm6.406-11.845c-.796%200-1.441.645-1.441%201.44s.645%201.44%201.441%201.44c.795%200%201.439-.645%201.439-1.44s-.644-1.44-1.439-1.44z'%20fill='url(%23instagram-gradient)'/%3e%3cdefs%3e%3clinearGradient%20id='instagram-gradient'%20x1='0%25'%20y1='0%25'%20x2='100%25'%20y2='100%25'%3e%3cstop%20offset='0%25'%20style='stop-color:%23f09433'/%3e%3cstop%20offset='25%25'%20style='stop-color:%23e6683c'/%3e%3cstop%20offset='50%25'%20style='stop-color:%23dc2743'/%3e%3cstop%20offset='75%25'%20style='stop-color:%23cc2366'/%3e%3cstop%20offset='100%25'%20style='stop-color:%23bc1888'/%3e%3c/linearGradient%3e%3c/defs%3e%3c/svg%3e",gL="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3c!--%20Uploaded%20to:%20SVG%20Repo,%20www.svgrepo.com,%20Generator:%20SVG%20Repo%20Mixer%20Tools%20--%3e%3csvg%20width='32'%20height='32'%20viewBox='0%200%2032%2032'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3crect%20width='24'%20height='24'%20rx='4'%20fill='%231877F2'/%3e%3cpath%20d='M16.5%2012.5h-3v6h-2v-6h-2v-2h2V9.5c0-1.5.5-2.5%202.5-2.5h2v2h-2c-.5%200-.5.5-.5%201v1h3v2z'%20fill='white'/%3e%3c/svg%3e",vL="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20width='32'%20height='32'%20viewBox='0%200%2032%2032'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M12.525.02c1.31-.02%202.61-.01%203.91-.02.08%201.53.63%203.09%201.75%204.17%201.12%201.11%202.7%201.62%204.24%201.79v4.03c-1.44-.05-2.89-.35-4.2-.97-.57-.26-1.1-.59-1.62-.93-.01%202.92.01%205.84-.02%208.75-.08%201.4-.54%202.79-1.35%203.94-1.31%201.92-3.58%203.17-5.91%203.21-1.43.08-2.86-.31-4.08-1.03-2.02-1.19-3.44-3.37-3.65-5.71-.02-.5-.03-1-.01-1.49.18-1.9%201.12-3.72%202.58-4.96%201.66-1.44%203.98-2.13%206.15-1.72.02%201.48-.04%202.96-.04%204.44-.99-.32-2.15-.23-3.02.37-.63.41-1.11%201.04-1.36%201.75-.21.51-.15%201.07-.14%201.61.24%201.64%201.82%203.02%203.5%202.87%201.12-.01%202.19-.66%202.77-1.61.19-.33.4-.67.41-1.06.1-1.79.06-3.57.07-5.36.01-4.03-.01-8.05.02-12.07z'%20fill='white'/%3e%3c/svg%3e",yL="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3csvg%20width='32'%20height='32'%20viewBox='0%200%2032%2032'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M23.498%206.186a3.016%203.016%200%200%200-2.122-2.136C19.505%203.545%2012%203.545%2012%203.545s-7.505%200-9.377.505A3.017%203.017%200%200%200%20.502%206.186C0%208.07%200%2012%200%2012s0%203.93.502%205.814a3.016%203.016%200%200%200%202.122%202.136c1.871.505%209.376.505%209.376.505s7.505%200%209.377-.505a3.015%203.015%200%200%200%202.122-2.136C24%2015.93%2024%2012%2024%2012s0-3.93-.502-5.814z'%20fill='%23FF0000'/%3e%3cpath%20d='M9.545%2015.568V8.432L15.818%2012l-6.273%203.568z'%20fill='white'/%3e%3c/svg%3e",_L=()=>{const{id:n}=og(),[e,t]=x.useState(null),[r,s]=x.useState(null),[l,c]=x.useState(null),[m,d]=x.useState(!0),[p,y]=x.useState(1),E=10,T=(p-1)*E,R=T+E,N=(l!=null&&l.cast?[...l.cast].sort((M,j)=>{const $=M.release_date?parseInt(M.release_date.slice(0,4)):M.first_air_date?parseInt(M.first_air_date.slice(0,4)):0;return(j.release_date?parseInt(j.release_date.slice(0,4)):j.first_air_date?parseInt(j.first_air_date.slice(0,4)):0)-$}):[]).slice(T,R)||[],I=l?Math.ceil(l.cast.length/E):1;return x.useEffect(()=>{async function M(){try{const j=await gP(n),$=await vP(n),ee=await yP(n);c(ee),s($),t(j)}catch(j){console.log(j)}finally{d(!1)}}M()},[n]),m?L.jsx("div",{children:"Loading..."}):e?L.jsx("div",{className:"actors-page",children:L.jsxs("div",{className:"actor-container",children:[L.jsxs("div",{className:"actor-left",children:[L.jsx("img",{src:`https://image.tmdb.org/t/p/w500${e.profile_path}`,alt:e.name,className:"actor-image"}),L.jsxs("div",{className:"social-links",children:[r.instagram_id&&L.jsx("a",{href:`https://www.instagram.com/${r.instagram_id}`,target:"_blank",rel:"noopner noreferrer",children:L.jsx("img",{src:pL,alt:"Instagram",className:"social-icon"})}),r.tiktok_id&&L.jsx("a",{href:`https://www.tiktok.com/@${r.tiktok_id}`,target:"_blank",rel:"noopner noreferrer",children:L.jsx("img",{src:vL,alt:"TikTok",className:"social-icon"})}),r.facebook_id&&L.jsx("a",{href:`https://www.facebook.com/${r.facebook_id}`,target:"_blank",rel:"noopner noreferrer",children:L.jsx("img",{src:gL,alt:"Facebook",className:"social-icon"})}),r.youtube_id&&L.jsx("a",{href:`https://www.youtube.com/@${r.youtube_id}`,target:"_blank",rel:"noopner noreferrer",children:L.jsx("img",{src:yL,alt:"YouTube",className:"social-icon"})})]}),L.jsxs("div",{className:"known-as-list",children:[L.jsx("h3",{children:"Also Known As"}),e.also_known_as.map((M,j)=>L.jsx("div",{className:"name-list",children:M},j))]})]}),L.jsxs("div",{className:"actor-details",children:[L.jsx("h2",{className:"actor-name",children:e.name}),L.jsx("p",{children:L.jsx("strong",{children:"Biography"})}),L.jsx("p",{className:"actor-bio",children:e.biography}),L.jsxs("p",{className:"actor-birthday",children:[L.jsx("strong",{children:"Birthday: "}),e.birthday]}),L.jsxs("p",{className:"actor-gender",children:[L.jsx("strong",{children:"Gender: "}),e.gender=="1"?"Female":"Male"]}),L.jsxs("p",{children:[L.jsx("strong",{children:"Known for: "}),e.known_for_department]}),L.jsxs("div",{className:"actor-credits",children:[L.jsx("h3",{children:"Filmography"}),L.jsx("div",{className:"credits-list",children:N.map((M,j)=>L.jsx(Sr,{to:M.media_type==="movie"?`/movie/${M.id}`:`/tv/${M.id}`,className:"credit-card",children:L.jsxs("div",{className:"credit-item",children:[L.jsx("img",{src:`https://image.tmdb.org/t/p/w500${M.poster_path}`,alt:M.title,className:"credit-poster"}),L.jsxs("div",{className:"credit-info",children:[L.jsxs("span",{className:"credit-title",children:[M.title||M.name," ("," ",M.media_type==="tv"?"series":"movie"," )"]}),L.jsxs("span",{className:"credit-character",children:["as ",M.character||"self"]}),L.jsx("span",{children:M.release_date||M.first_air_date})]})]},j)},M.id))})]}),L.jsxs("div",{className:"pagination-controls",children:[L.jsx("button",{onClick:()=>y(M=>Math.max(M-1,1)),disabled:p===1,children:"prev"}),L.jsxs("span",{children:["Page ",p," of ",I]}),L.jsx("button",{onClick:()=>y(M=>Math.min(M+1,I)),disabled:p===I,children:"next"})]})]})]})}):L.jsx("div",{children:"Actor was not found"})},bL=()=>{const{item_type:n,item_id:e}=og(),[t,r]=x.useState(null),[s,l]=x.useState(!0),[c,m]=x.useState([]);return x.useEffect(()=>{async function d(){try{const p=n==="movie"?await vw(e):await yw(e),y=n==="movie"?await JV(e):await pP(e);m(y),r(p)}catch(p){consonle.error("Error fetching details:",p)}finally{l(!1)}}d()},[n,e]),s?L.jsx("div",{children:"Loading..."}):L.jsxs("div",{className:"comments-container",children:[L.jsx("div",{className:"title-container",children:L.jsxs("h1",{className:"title",children:[n==="movie"?t.title:t.name," Reviews"]})}),L.jsxs("div",{className:"comments-page",children:[L.jsx("div",{className:"poster-section",children:L.jsx("img",{src:`https://image.tmdb.org/t/p/w500${t.poster_path}`,alt:n==="movie"?t.title:t.name,className:"movie-image"})}),L.jsx("div",{className:"comments-section",children:c.length>0?c.map(d=>L.jsxs("div",{className:"comment",children:[L.jsx("h3",{children:d.author}),L.jsx("p",{children:d.content})]},d.id)):"No reviews yet"})]})]})};function lT(){const{type:n,id:e}=og(),[t,r]=x.useState([]),[s,l]=x.useState(null),[c,m]=x.useState(null),[d,p]=x.useState(null),[y,E]=x.useState(null),[T,R]=x.useState(null),[C,N]=x.useState(!0),{isAuthenticated:I}=zf(),{isFavorite:M,addToFavorites:j,removeFromFavorites:$,isWatchLater:ee,addToWatchLater:q,removeFromWatchLater:oe}=lv(),[O,A]=x.useState(!1),[D,V]=x.useState(!0);function z(J){J.preventDefault(),I||alert("please log in to add to favorites!"),t&&M(t.id)?$(t.id):t&&j(t)}function B(J){if(J.preventDefault(),!I){alert("please log in to add to watch later!");return}t&&ee(t.id)?oe(t.id):t&&q(t)}const k=()=>{const J=document.querySelector(".cast-list");if(J){const{scrollLeft:he,scrollWidth:ye,clientWidth:P}=J;A(he>0),V(he<ye-P-1)}},Ye=()=>{const J=document.querySelector(".cast-list");J&&(J.scrollBy({left:800,behavior:"smooth"}),setTimeout(k,500))},Oe=()=>{const J=document.querySelector(".cast-list");J&&(J.scrollBy({left:-800,behavior:"smooth"}),setTimeout(k,500))};if(x.useEffect(()=>{k();const J=document.querySelector(".cast-list");if(J)return J.addEventListener("scroll",k),()=>J.removeEventListener("scroll",k)},[s]),x.useEffect(()=>{async function J(){try{const he=n==="movie"?await vw(e):await yw(e);r(he);const ye=n==="movie"?await QV(e):await uP(e);l(ye);const P=n==="movie"?await XV(e):await cP(e);m(P);const ie=n=="movie"?await ZV(e):await dP(e);p(ie);const le=n==="movie"?await eP(e):await mP(e);E(le);const re=n==="movie"?[]:await hP(e);if(re.backdrops&&re.backdrops.length>0){const de=Math.floor(Math.random()*re.backdrops.length);R(re.backdrops[de])}else he.backdrop_path&&R({file_path:he.backdrop_path})}catch(he){console.error(`Error fetching item details for type=${n}, ${e}`,he)}finally{N(!1)}}J()},[e]),C)return L.jsx("div",{children:"Loading details..."});if(!t)return L.jsx("div",{children:"Error, item not found"});const W=n==="movie"?s&&s.crew?s.crew.filter(J=>J.job==="Director").map(J=>J.name).join(", "):"Unknown":"";return L.jsxs("div",{className:"item-details-container",children:[L.jsxs("div",{className:"item-details",style:n==="movie"?{backgroundImage:`url(https://image.tmdb.org/t/p/original${t.backdrop_path||t.poster_path})`}:{backgroundImage:`url(https://image.tmdb.org/t/p/original${(T==null?void 0:T.file_path)||t.backdrop_path||t.poster_path})`},children:[L.jsxs("div",{className:"left-section",children:[L.jsx("img",{src:`https://image.tmdb.org/t/p/w500${t.poster_path}`,alt:n==="movie"?t.title:t.name,className:"item-image"}),L.jsx(fL,{movieId:t.id,type:n})]}),L.jsxs("div",{className:"content",children:[L.jsxs("h1",{className:"title",children:[n==="movie"?t.title:t.name,L.jsxs("span",{className:"year",children:["(",n==="movie"?t.release_date?new Date(t.release_date).getFullYear():"N/A":t.first_air_date?new Date(t.first_air_date).getFullYear():"N/A",")"]})]}),L.jsxs("div",{className:"buttons",children:[L.jsxs("button",{className:`in-list ${I&&M(t.id)?"active":""}`,onClick:z,"aria-label":"favorite",children:[L.jsx("span",{className:"material-icons",children:M(t.id)?"favorite":"favorite_border"}),L.jsx("span",{className:"tooltip-text",children:"add to favorites"})]}),L.jsxs("button",{className:`in-list ${I&&ee(t.id)?"active":""}`,onClick:B,"aria-label":"watch later",children:[L.jsx("span",{className:"material-icons",children:(ee(t.id),"watch_later")}),L.jsx("span",{className:"tooltip-text",children:"add to watch later"})]}),L.jsx(Sr,{to:`/reviews/${n}/${t.id}`,className:"review-link",children:L.jsxs("button",{className:"comment-button",children:[L.jsx("span",{className:"material-icons-outlined",children:"reviews"}),L.jsx("span",{className:"tooltip-text",children:" see reviews "})]})},t.id)]}),L.jsxs("p",{style:{whiteSpace:"pre-line"},children:[L.jsx("strong",{children:"Overview: "}),t.overview,`

`,n==="movie"?L.jsxs(L.Fragment,{children:[L.jsx("strong",{children:"Director:"})," ",W,`

`,L.jsx("strong",{children:"Runtime: "})," ",t.runtime," minutes",`

`,L.jsx("strong",{children:"Release Date: "})," ",t.release_date,`

`,L.jsx("strong",{children:"Rating: "})," ",y||"Not Rated",`

`,L.jsx("strong",{children:"TMDB Rating: "})," ",Math.round(t.vote_average*10),"%",`

`,L.jsx("strong",{children:"Genres: "}),t.genres&&t.genres.length>0?t.genres.map(J=>J.name).join(", "):"NONE",`

`,L.jsx("strong",{children:"In Production: "}),t.in_production?"yes":"Completed"]}):L.jsxs(L.Fragment,{children:[L.jsx("strong",{children:"Created by: "}),t.created_by&&t.created_by.length>0?t.created_by.map((J,he)=>L.jsxs("span",{children:[J.name,he<t.created_by.length-1?", ":""]},J.id)):"N/A",`

`,L.jsx("strong",{children:"Episode Runtime: "})," ",t.episode_runtime," minutes",`

`,L.jsx("strong",{children:"First Air Date: "})," ",t.first_air_date,`

`,L.jsx("strong",{children:"Rating: "})," ",y||"Not Rated",`

`,L.jsx("strong",{children:"TMDB Rating: "}),Math.round(t.vote_average*10),"%",`

`,L.jsx("strong",{children:"Number of Seasons: "})," ",t.number_of_seasons,`

`,L.jsx("strong",{children:"Number of Episodes: "})," ",t.number_of_episodes,`

`,L.jsx("strong",{children:"Genres : "}),t.genres&&t.genres.length>0?t.genres.map(J=>J.name).join(", "):"NONE",L.jsx("strong",{children:"In Production: "})," ",t.in_production?"yes":"completed"]})]})]})]}),L.jsx("div",{className:"trailer",children:d.length>0&&L.jsx("div",{className:"trailer-container",children:L.jsx("iframe",{width:"100%",height:"100%",src:`https://www.youtube.com/embed/${d[0].key}`,title:d[0].name,allowFullScreen:!0})})}),L.jsxs("div",{children:[L.jsx("span",{className:"cast-title",children:"Cast"}),L.jsxs("div",{className:"cast-list",children:[L.jsx("button",{className:`cast-scroll-btn  scroll-btn-left ${O?"":"disabled"}`,onClick:Oe,disabled:!O,children:L.jsx("span",{className:"material-icons-outlined",children:"navigate_before"})}),s.cast.map(J=>L.jsxs(Sr,{to:`/actor/${J.id}`,className:"cast-card",children:[L.jsx("img",{src:J.profile_path?`https://image.tmdb.org/t/p/w500${J.profile_path}`:dL,alt:J.name}),L.jsx("p",{children:L.jsx("strong",{children:J.name})}),L.jsx("p",{children:J.character})]},J.id)),L.jsx("button",{className:`cast-scroll-btn scroll-btn-right ${D?"":"disabled"}`,onClick:Ye,disabled:!D,children:L.jsx("span",{className:"material-icons-outlined",children:"navigate_next"})})]})]}),L.jsxs("div",{className:"recommendations",children:[L.jsxs("span",{className:"recommendation-title",children:["More Like ",n==="movie"?t.title:t.name]}),L.jsx("div",{className:"recommended-grid",children:c.map(J=>L.jsx(Ru,{item:J,itemType:J.media_type},J.id))})]})]})}function EL(){return L.jsx(BV,{children:L.jsxs(HV,{children:[L.jsx(mL,{}),L.jsx("main",{className:"main-content",children:L.jsxs(V2,{children:[L.jsx(ns,{path:"/",element:L.jsx(hL,{})}),L.jsx(ns,{path:"/lists",element:L.jsx(qV,{})}),L.jsx(ns,{path:"/:type/:id",element:L.jsx(lT,{})}),L.jsx(ns,{path:"/tv/:id",element:L.jsx(lT,{})}),L.jsx(ns,{path:"/actor/:id",element:L.jsx(_L,{})}),L.jsx(ns,{path:"/reviews/:item_type/:item_id",element:L.jsx(bL,{})})]})})]})})}BR.createRoot(document.getElementById("root")).render(L.jsx(x.StrictMode,{children:L.jsx(rI,{children:L.jsx(EL,{})})}));
